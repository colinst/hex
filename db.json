{"meta":{"version":1,"warehouse":"2.2.0"},"models":{"Asset":[{"_id":"source/CNAME","path":"CNAME","modified":0,"renderable":0},{"_id":"source/baidu_verify_LTdH7sdSdx.html","path":"baidu_verify_LTdH7sdSdx.html","modified":0,"renderable":0},{"_id":"source/googleb2b4a4dcdb4a9ac4.html","path":"googleb2b4a4dcdb4a9ac4.html","modified":0,"renderable":0},{"_id":"themes/next/source/css/main.styl","path":"css/main.styl","modified":0,"renderable":1},{"_id":"themes/next/source/images/apple-touch-icon-next.png","path":"images/apple-touch-icon-next.png","modified":0,"renderable":1},{"_id":"themes/next/source/images/algolia_logo.svg","path":"images/algolia_logo.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/avatar.gif","path":"images/avatar.gif","modified":0,"renderable":1},{"_id":"themes/next/source/images/avatar.png","path":"images/avatar.png","modified":0,"renderable":1},{"_id":"themes/next/source/images/cc-by-nc-nd.svg","path":"images/cc-by-nc-nd.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/cc-by-nc-sa.svg","path":"images/cc-by-nc-sa.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/cc-by-nc.svg","path":"images/cc-by-nc.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/cc-by-nd.svg","path":"images/cc-by-nd.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/cc-by-sa.svg","path":"images/cc-by-sa.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/cc-by.svg","path":"images/cc-by.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/cc-zero.svg","path":"images/cc-zero.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/favicon-16x16-next.png","path":"images/favicon-16x16-next.png","modified":0,"renderable":1},{"_id":"themes/next/source/images/favicon-32x32-next.png","path":"images/favicon-32x32-next.png","modified":0,"renderable":1},{"_id":"themes/next/source/images/loading.gif","path":"images/loading.gif","modified":0,"renderable":1},{"_id":"themes/next/source/images/logo.svg","path":"images/logo.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/placeholder.gif","path":"images/placeholder.gif","modified":0,"renderable":1},{"_id":"themes/next/source/images/quote-l.svg","path":"images/quote-l.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/quote-r.svg","path":"images/quote-r.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/searchicon.png","path":"images/searchicon.png","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/affix.js","path":"js/src/affix.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/algolia-search.js","path":"js/src/algolia-search.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/bootstrap.js","path":"js/src/bootstrap.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/exturl.js","path":"js/src/exturl.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/hook-duoshuo.js","path":"js/src/hook-duoshuo.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/js.cookie.js","path":"js/src/js.cookie.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/motion.js","path":"js/src/motion.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/post-details.js","path":"js/src/post-details.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/scroll-cookie.js","path":"js/src/scroll-cookie.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/scrollspy.js","path":"js/src/scrollspy.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/utils.js","path":"js/src/utils.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/algolia-instant-search/instantsearch.min.css","path":"lib/algolia-instant-search/instantsearch.min.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/canvas-nest/canvas-nest.min.js","path":"lib/canvas-nest/canvas-nest.min.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/canvas-ribbon/canvas-ribbon.js","path":"lib/canvas-ribbon/canvas-ribbon.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fastclick/LICENSE","path":"lib/fastclick/LICENSE","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fastclick/README.md","path":"lib/fastclick/README.md","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fastclick/bower.json","path":"lib/fastclick/bower.json","modified":0,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/HELP-US-OUT.txt","path":"lib/font-awesome/HELP-US-OUT.txt","modified":0,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/bower.json","path":"lib/font-awesome/bower.json","modified":0,"renderable":1},{"_id":"themes/next/source/lib/jquery_lazyload/CONTRIBUTING.md","path":"lib/jquery_lazyload/CONTRIBUTING.md","modified":0,"renderable":1},{"_id":"themes/next/source/lib/jquery_lazyload/bower.json","path":"lib/jquery_lazyload/bower.json","modified":0,"renderable":1},{"_id":"themes/next/source/lib/jquery_lazyload/README.md","path":"lib/jquery_lazyload/README.md","modified":0,"renderable":1},{"_id":"themes/next/source/lib/jquery_lazyload/jquery.lazyload.js","path":"lib/jquery_lazyload/jquery.lazyload.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/jquery_lazyload/jquery.scrollstop.js","path":"lib/jquery_lazyload/jquery.scrollstop.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/needsharebutton/font-embedded.css","path":"lib/needsharebutton/font-embedded.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/needsharebutton/needsharebutton.css","path":"lib/needsharebutton/needsharebutton.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/needsharebutton/needsharebutton.js","path":"lib/needsharebutton/needsharebutton.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-barber-shop.min.css","path":"lib/pace/pace-theme-barber-shop.min.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-big-counter.min.css","path":"lib/pace/pace-theme-big-counter.min.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-bounce.min.css","path":"lib/pace/pace-theme-bounce.min.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-center-atom.min.css","path":"lib/pace/pace-theme-center-atom.min.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-center-circle.min.css","path":"lib/pace/pace-theme-center-circle.min.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-center-radar.min.css","path":"lib/pace/pace-theme-center-radar.min.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-center-simple.min.css","path":"lib/pace/pace-theme-center-simple.min.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-corner-indicator.min.css","path":"lib/pace/pace-theme-corner-indicator.min.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-fill-left.min.css","path":"lib/pace/pace-theme-fill-left.min.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-flash.min.css","path":"lib/pace/pace-theme-flash.min.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-loading-bar.min.css","path":"lib/pace/pace-theme-loading-bar.min.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-mac-osx.min.css","path":"lib/pace/pace-theme-mac-osx.min.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-minimal.min.css","path":"lib/pace/pace-theme-minimal.min.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/pace/pace.min.js","path":"lib/pace/pace.min.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/three/canvas_sphere.min.js","path":"lib/three/canvas_sphere.min.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/three/canvas_lines.min.js","path":"lib/three/canvas_lines.min.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/three/three-waves.min.js","path":"lib/three/three-waves.min.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/velocity/bower.json","path":"lib/velocity/bower.json","modified":0,"renderable":1},{"_id":"themes/next/source/lib/velocity/velocity.min.js","path":"lib/velocity/velocity.min.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/velocity/velocity.ui.js","path":"lib/velocity/velocity.ui.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/velocity/velocity.ui.min.js","path":"lib/velocity/velocity.ui.min.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/jquery/index.js","path":"lib/jquery/index.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/schemes/pisces.js","path":"js/src/schemes/pisces.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/Han/dist/han.css","path":"lib/Han/dist/han.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/Han/dist/han.min.css","path":"lib/Han/dist/han.min.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/Han/dist/han.min.js","path":"lib/Han/dist/han.min.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/blank.gif","path":"lib/fancybox/source/blank.gif","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/fancybox_loading.gif","path":"lib/fancybox/source/fancybox_loading.gif","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/fancybox_loading@2x.gif","path":"lib/fancybox/source/fancybox_loading@2x.gif","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/fancybox_overlay.png","path":"lib/fancybox/source/fancybox_overlay.png","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/fancybox_sprite.png","path":"lib/fancybox/source/fancybox_sprite.png","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/fancybox_sprite@2x.png","path":"lib/fancybox/source/fancybox_sprite@2x.png","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/jquery.fancybox.css","path":"lib/fancybox/source/jquery.fancybox.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/jquery.fancybox.js","path":"lib/fancybox/source/jquery.fancybox.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/jquery.fancybox.pack.js","path":"lib/fancybox/source/jquery.fancybox.pack.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fastclick/lib/fastclick.js","path":"lib/fastclick/lib/fastclick.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fastclick/lib/fastclick.min.js","path":"lib/fastclick/lib/fastclick.min.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.css","path":"lib/font-awesome/css/font-awesome.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.css.map","path":"lib/font-awesome/css/font-awesome.css.map","modified":0,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.min.css","path":"lib/font-awesome/css/font-awesome.min.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/ua-parser-js/dist/ua-parser.min.js","path":"lib/ua-parser-js/dist/ua-parser.min.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/ua-parser-js/dist/ua-parser.pack.js","path":"lib/ua-parser-js/dist/ua-parser.pack.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/Han/dist/han.js","path":"lib/Han/dist/han.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.woff","path":"lib/font-awesome/fonts/fontawesome-webfont.woff","modified":0,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.woff2","path":"lib/font-awesome/fonts/fontawesome-webfont.woff2","modified":0,"renderable":1},{"_id":"themes/next/source/lib/velocity/velocity.js","path":"lib/velocity/velocity.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/Han/dist/font/han-space.otf","path":"lib/Han/dist/font/han-space.otf","modified":0,"renderable":1},{"_id":"themes/next/source/lib/Han/dist/font/han-space.woff","path":"lib/Han/dist/font/han-space.woff","modified":0,"renderable":1},{"_id":"themes/next/source/lib/Han/dist/font/han.otf","path":"lib/Han/dist/font/han.otf","modified":0,"renderable":1},{"_id":"themes/next/source/lib/Han/dist/font/han.woff","path":"lib/Han/dist/font/han.woff","modified":0,"renderable":1},{"_id":"themes/next/source/lib/Han/dist/font/han.woff2","path":"lib/Han/dist/font/han.woff2","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/helpers/fancybox_buttons.png","path":"lib/fancybox/source/helpers/fancybox_buttons.png","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-buttons.css","path":"lib/fancybox/source/helpers/jquery.fancybox-buttons.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-buttons.js","path":"lib/fancybox/source/helpers/jquery.fancybox-buttons.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-media.js","path":"lib/fancybox/source/helpers/jquery.fancybox-media.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-thumbs.css","path":"lib/fancybox/source/helpers/jquery.fancybox-thumbs.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-thumbs.js","path":"lib/fancybox/source/helpers/jquery.fancybox-thumbs.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/fonts/FontAwesome.otf","path":"lib/font-awesome/fonts/FontAwesome.otf","modified":0,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.eot","path":"lib/font-awesome/fonts/fontawesome-webfont.eot","modified":0,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.ttf","path":"lib/font-awesome/fonts/fontawesome-webfont.ttf","modified":0,"renderable":1},{"_id":"themes/next/source/lib/algolia-instant-search/instantsearch.min.js","path":"lib/algolia-instant-search/instantsearch.min.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/three/three.min.js","path":"lib/three/three.min.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.svg","path":"lib/font-awesome/fonts/fontawesome-webfont.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/avatar2.png","path":"images/avatar2.png","modified":0,"renderable":1}],"Cache":[{"_id":"source/CNAME","hash":"e8a2b1a0ddc444a00a53229690a4a1de2475649d","modified":1533618530915},{"_id":"source/baidu_verify_LTdH7sdSdx.html","hash":"68811e8e3cabefb6580763b03bafb119d36cdc4b","modified":1535094010532},{"_id":"source/googleb2b4a4dcdb4a9ac4.html","hash":"c24887874e749e1b988975ca23da9950a6e69fb1","modified":1535092604312},{"_id":"themes/next/.editorconfig","hash":"211d2c92bfdddb3e81ea946f4ca7a539f150f4da","modified":1528943888000},{"_id":"themes/next/.bowerrc","hash":"334da94ca6f024d60d012cc26ea655681e724ad8","modified":1528943888000},{"_id":"themes/next/.gitattributes","hash":"8454b9313cb1a97b63fb87e2d29daee497ce6249","modified":1528943888000},{"_id":"themes/next/.gitignore","hash":"ee0b13c268cc8695d3883a5da84930af02d4ed08","modified":1528943888000},{"_id":"themes/next/.hound.yml","hash":"289dcf5bfe92dbd680d54d6e0668f41c9c9c0c78","modified":1528943888000},{"_id":"themes/next/.javascript_ignore","hash":"cd250ad74ca22bd2c054476456a73d9687f05f87","modified":1528943888000},{"_id":"themes/next/.jshintrc","hash":"b7d23f2ce8d99fa073f22f9960605f318acd7710","modified":1528943888000},{"_id":"themes/next/.stylintrc","hash":"3b7f9785e9ad0dab764e1c535b40df02f4ff5fd6","modified":1528943888000},{"_id":"themes/next/.travis.yml","hash":"6674fbdfe0d0c03b8a04527ffb8ab66a94253acd","modified":1528943888000},{"_id":"themes/next/LICENSE","hash":"ec44503d7e617144909e54533754f0147845f0c5","modified":1528943888000},{"_id":"themes/next/README.cn.md","hash":"23e92a2599725db2f8dbd524fbef2087c6d11c7b","modified":1528943888000},{"_id":"themes/next/README.md","hash":"50abff86ffe4113051a409c1ed9261195d2aead0","modified":1528943888000},{"_id":"themes/next/_config.yml","hash":"0e20e8abbf9d236e3b394092b65dd03654de7f83","modified":1535094781091},{"_id":"themes/next/bower.json","hash":"486ebd72068848c97def75f36b71cbec9bb359c5","modified":1528943888000},{"_id":"themes/next/gulpfile.coffee","hash":"412defab3d93d404b7c26aaa0279e2e586e97454","modified":1528943888000},{"_id":"themes/next/package.json","hash":"3963ad558a24c78a3fd4ef23cf5f73f421854627","modified":1528943888000},{"_id":"themes/next/stickynotes.md","hash":"362f22d0f3ad5dbed041f47b8069d5a45d04584c","modified":1529372354000},{"_id":"source/_posts/SqlSwitch-Spring.md","hash":"64c8e4de86998367b112e5928c9ccf0b1849aaac","modified":1535439591091},{"_id":"source/about/index.md","hash":"b534c1e9a572bbf4c3c80909a00d459396bf3c96","modified":1535029344821},{"_id":"source/categories/index.md","hash":"68e1d019b6dc95c99f9a2f98ac1f9bdc2bbf573e","modified":1535029081851},{"_id":"source/draft/view.md","hash":"8f97663cf6abcf1f21d7023aed5f69d26382c6c3","modified":1533618530957},{"_id":"source/tags/index.md","hash":"dee607954ca9389c3dd3f62e550f0a82c7c7fb8d","modified":1535028987026},{"_id":"themes/next/.github/CONTRIBUTING.md","hash":"5adfad3ef1b870063e621bc0838268eb2c7c697a","modified":1528943888000},{"_id":"themes/next/.github/ISSUE_TEMPLATE.md","hash":"a0a82dbfabdef9a9d7c17a08ceebfb4052d98d81","modified":1528943888000},{"_id":"themes/next/.github/PULL_REQUEST_TEMPLATE.md","hash":"1228506a940114288d61812bfe60c045a0abeac1","modified":1528943888000},{"_id":"themes/next/.github/browserstack_logo.png","hash":"a6c43887f64a7f48a2814e3714eaa1215e542037","modified":1528943888000},{"_id":"themes/next/languages/de.yml","hash":"fd02d9c2035798d5dc7c1a96b4c3e24b05b31a47","modified":1528943888000},{"_id":"themes/next/languages/default.yml","hash":"b3bcd8934327448a43d9bfada5dd11b1b8c1402e","modified":1528943888000},{"_id":"themes/next/languages/en.yml","hash":"2f4b4776ca1a08cc266a19afb0d1350a3926f42c","modified":1528943888000},{"_id":"themes/next/languages/fr-FR.yml","hash":"efeeb55d5c4add54ad59a612fc0630ee1300388c","modified":1528943888000},{"_id":"themes/next/languages/id.yml","hash":"dccae33e2a5b3c9f11c0e05ec4a7201af1b25745","modified":1528943888000},{"_id":"themes/next/languages/it.yml","hash":"a215d016146b1bd92cef046042081cbe0c7f976f","modified":1528943888000},{"_id":"themes/next/languages/ja.yml","hash":"37f954e47a3bc669620ca559e3edb3b0072a4be5","modified":1528943888000},{"_id":"themes/next/languages/ko.yml","hash":"dc8f3e8c64eb7c4bb2385025b3006b8efec8b31d","modified":1528943888000},{"_id":"themes/next/languages/nl-NL.yml","hash":"213e7a002b82fb265f69dabafbbc382cfd460030","modified":1528943888000},{"_id":"themes/next/languages/pt-BR.yml","hash":"568d494a1f37726a5375b11452a45c71c3e2852d","modified":1528943888000},{"_id":"themes/next/languages/pt.yml","hash":"2efcd240c66ab1a122f061505ca0fb1e8819877b","modified":1528943888000},{"_id":"themes/next/languages/ru.yml","hash":"e33ee44e80f82e329900fc41eb0bb6823397a4d6","modified":1528943888000},{"_id":"themes/next/languages/vi.yml","hash":"a9b89ebd3e5933033d1386c7c56b66c44aca299a","modified":1528943888000},{"_id":"themes/next/languages/zh-Hans.yml","hash":"68b7e8e423238e8fd23faf4998557909cd906425","modified":1529482472000},{"_id":"themes/next/languages/zh-hk.yml","hash":"fe0d45807d015082049f05b54714988c244888da","modified":1528943888000},{"_id":"themes/next/languages/zh-tw.yml","hash":"432463b481e105073accda16c3e590e54c8e7b74","modified":1528943888000},{"_id":"themes/next/layout/_layout.swig","hash":"5cde5d070719051930c57dfcd56bf953697ece65","modified":1533628288357},{"_id":"themes/next/layout/archive.swig","hash":"9a2c14874a75c7085d2bada5e39201d3fc4fd2b4","modified":1528943888000},{"_id":"themes/next/layout/category.swig","hash":"3cbb3f72429647411f9e85f2544bdf0e3ad2e6b2","modified":1528943888000},{"_id":"themes/next/layout/index.swig","hash":"555a357ecf17128db4e29346c92bb6298e66547a","modified":1528943888000},{"_id":"themes/next/layout/page.swig","hash":"e8fcaa641d46930237675d2ad4b56964d9e262e9","modified":1528943888000},{"_id":"themes/next/layout/post.swig","hash":"7a6ce102ca82c3a80f776e555dddae1a9981e1ed","modified":1528943888000},{"_id":"themes/next/layout/schedule.swig","hash":"87ad6055df01fa2e63e51887d34a2d8f0fbd2f5a","modified":1528943888000},{"_id":"themes/next/layout/tag.swig","hash":"34e1c016cbdf94a31f9c5d494854ff46b2a182e9","modified":1528943888000},{"_id":"themes/next/scripts/merge-configs.js","hash":"38d86aab4fc12fb741ae52099be475196b9db972","modified":1528943888000},{"_id":"themes/next/scripts/merge.js","hash":"39b84b937b2a9608b94e5872349a47200e1800ff","modified":1528943888000},{"_id":"themes/next/test/.jshintrc","hash":"c9fca43ae0d99718e45a6f5ce736a18ba5fc8fb6","modified":1528943888000},{"_id":"themes/next/test/helpers.js","hash":"f25e7f3265eb5a6e1ccbb5e5012fa9bebf134105","modified":1528943888000},{"_id":"themes/next/test/intern.js","hash":"db90b1063356727d72be0d77054fdc32fa882a66","modified":1528943888000},{"_id":"themes/next/source/fonts/.gitkeep","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1528943888000},{"_id":"source/_posts/base/base_01_StringCode.md","hash":"1a5258805d1396b9235f758ce30b2c2ba6147539","modified":1535446396184},{"_id":"source/_posts/base/base_02_keyEncrypt.md","hash":"536b107edd773ce28b4fd681dfba37381aec97bf","modified":1534815781860},{"_id":"source/_posts/install/install_jvm&tomcat.md","hash":"d23b59b81841adcbf37ba89080b1a875ecc15e13","modified":1534815782060},{"_id":"source/_posts/install/install_mysql.md","hash":"d4fc97f8ee7f91ffc3328cc91ebbf20484c3c3ac","modified":1534815781959},{"_id":"source/_posts/life/台湾的记录.md","hash":"838d58cd91c01ed650d093b647d8e71cdf458a9a","modified":1535175095686},{"_id":"source/_posts/setting/plus-next-img.md","hash":"d87d7a2ced9da4c8ea1b44c50ed006b64f9fe112","modified":1534815781988},{"_id":"source/_posts/setting/setting-hexo.md","hash":"f0dc2604629391f70eaa7fc2b6abc95ef13dc862","modified":1536240511890},{"_id":"source/_posts/use/shadowsocks-go.md","hash":"f93941140da6d006ec8d91538e517f551c5bdb51","modified":1535704403174},{"_id":"themes/next/layout/_custom/header.swig","hash":"ba8ab5a0280b953aa97435ff8946cbcbb2755a27","modified":1528943888000},{"_id":"themes/next/layout/_custom/sidebar.swig","hash":"ba8ab5a0280b953aa97435ff8946cbcbb2755a27","modified":1528943888000},{"_id":"themes/next/layout/_macro/my-copyright.swig","hash":"ce347989ac9dbdb0e17050396fdd8f4ca7f8d207","modified":1534814855546},{"_id":"themes/next/layout/_macro/post-collapse.swig","hash":"8c56dd26157cbc580ae41d97ac34b90ab48ced3f","modified":1528943888000},{"_id":"themes/next/layout/_macro/post-copyright.swig","hash":"f83befdc740beb8dc88805efd7fbb0fef9ed19be","modified":1528943888000},{"_id":"themes/next/layout/_macro/post.swig","hash":"a37d6f7695f919829ab21be3cb67013aaac556ce","modified":1534814855585},{"_id":"themes/next/layout/_macro/reward.swig","hash":"357d86ec9586705bfbb2c40a8c7d247a407db21a","modified":1528943888000},{"_id":"themes/next/layout/_macro/sidebar.swig","hash":"409334031408bfb965524c6fa7949d845260b151","modified":1535026317892},{"_id":"themes/next/layout/_macro/wechat-subscriber.swig","hash":"e2e4eae391476da994045ed4c7faf5e05aca2cd7","modified":1528943888000},{"_id":"themes/next/layout/_partials/comments.swig","hash":"4adc65a602d1276615da3b887dcbf2ac68e7382b","modified":1528943888000},{"_id":"themes/next/layout/_partials/footer.swig","hash":"4d08f2734fb7e46d3ebc5d1a5d592943ab04fb37","modified":1533628288328},{"_id":"themes/next/layout/_partials/head.swig","hash":"f14a39dad1ddd98e6d3ceb25dda092ba80d391b5","modified":1528943888000},{"_id":"themes/next/layout/_partials/header.swig","hash":"c54b32263bc8d75918688fb21f795103b3f57f03","modified":1528943888000},{"_id":"themes/next/layout/_partials/page-header.swig","hash":"77c61e0baea3544df361b7338c3cd13dc84dde22","modified":1528943888000},{"_id":"themes/next/layout/_partials/pagination.swig","hash":"1634fb887842698e01ff6e632597fe03c75d2d01","modified":1528943888000},{"_id":"themes/next/layout/_partials/search.swig","hash":"b4ebe4a52a3b51efe549dd1cdee846103664f5eb","modified":1528943888000},{"_id":"themes/next/layout/_scripts/boostrap.swig","hash":"c0f5a0955f69ca4ed9ee64a2d5f8aa75064935ad","modified":1528943888000},{"_id":"themes/next/layout/_scripts/commons.swig","hash":"931808ad9b8d8390c0dcf9bdeb0954eeb9185d68","modified":1528943888000},{"_id":"themes/next/layout/_scripts/vendors.swig","hash":"9be624634703be496a5d2535228bc568a8373af9","modified":1528943888000},{"_id":"themes/next/layout/_third-party/duoshuo-hot-articles.swig","hash":"ba75672183d94f1de7c8bd0eeee497a58c70e889","modified":1528943888000},{"_id":"themes/next/layout/_third-party/mathjax.swig","hash":"a0bd3388587fd943baae0d84ca779a707fbcad89","modified":1528943888000},{"_id":"themes/next/layout/_third-party/exturl.swig","hash":"8301c9600bb3e47f7fb98b0e0332ef3c51bb1688","modified":1528943888000},{"_id":"themes/next/layout/_third-party/needsharebutton.swig","hash":"fa882641da3bd83d9a58a8a97f9d4c62a9ee7b5c","modified":1528943888000},{"_id":"themes/next/layout/_third-party/rating.swig","hash":"554ec568e9d2c71e4a624a8de3cb5929050811d6","modified":1528943888000},{"_id":"themes/next/layout/_third-party/schedule.swig","hash":"db15d7e1552aa2d2386a6b8a33b3b3a40bf9e43d","modified":1528943888000},{"_id":"themes/next/layout/_third-party/scroll-cookie.swig","hash":"9a188938d46931d5f3882a140aa1c48b3a893f0c","modified":1528943888000},{"_id":"themes/next/scripts/tags/button.js","hash":"eddbb612c15ac27faf11c59c019ce188f33dec2c","modified":1528943888000},{"_id":"themes/next/scripts/tags/center-quote.js","hash":"99b66949f18398689b904907af23c013be1b978f","modified":1528943888000},{"_id":"themes/next/scripts/tags/exturl.js","hash":"5022c0ba9f1d13192677cf1fd66005c57c3d0f53","modified":1528943888000},{"_id":"themes/next/scripts/tags/full-image.js","hash":"c9f833158c66bd72f627a0559cf96550e867aa72","modified":1528943888000},{"_id":"themes/next/scripts/tags/group-pictures.js","hash":"ac681b0d0d8d39ba3817336c0270c6787c2b6b70","modified":1528943888000},{"_id":"themes/next/scripts/tags/label.js","hash":"6f00952d70aadece844ce7fd27adc52816cc7374","modified":1528943888000},{"_id":"themes/next/scripts/tags/lazy-image.js","hash":"bcba2ff25cd7850ce6da322d8bd85a8dd00b5ceb","modified":1528943888000},{"_id":"themes/next/scripts/tags/note.js","hash":"f7eae135f35cdab23728e9d0d88b76e00715faa0","modified":1528943888000},{"_id":"themes/next/scripts/tags/tabs.js","hash":"aa7fc94a5ec27737458d9fe1a75c0db7593352fd","modified":1528943888000},{"_id":"themes/next/source/css/main.styl","hash":"a91dbb7ef799f0a171b5e726c801139efe545176","modified":1528943888000},{"_id":"themes/next/source/images/apple-touch-icon-next.png","hash":"2959dbc97f31c80283e67104fe0854e2369e40aa","modified":1528943888000},{"_id":"themes/next/source/images/algolia_logo.svg","hash":"45eeea0b5fba833e21e38ea10ed5ab385ceb4f01","modified":1528943888000},{"_id":"themes/next/source/images/avatar.gif","hash":"264082bb3a1af70d5499c7d22b0902cb454b6d12","modified":1528943888000},{"_id":"themes/next/source/images/avatar.png","hash":"d8ad9079ac4d2128b9d4328ffdf5ddf8cd0d5fa1","modified":1528972599000},{"_id":"themes/next/source/images/cc-by-nc-nd.svg","hash":"bc3588c9b2d7c68830524783120ff6cf957cf668","modified":1528943888000},{"_id":"themes/next/source/images/cc-by-nc-sa.svg","hash":"6f55543d1fb9cbc436c101d24f802dec7b41efc3","modified":1528943888000},{"_id":"themes/next/source/images/cc-by-nc.svg","hash":"6f076713fb9bf934aa2c1046bdf2cf2e37bc1eab","modified":1528943888000},{"_id":"themes/next/source/images/cc-by-nd.svg","hash":"42cd73da328077ccc92f859bb8f3cf621b3484f8","modified":1528943888000},{"_id":"themes/next/source/images/cc-by-sa.svg","hash":"70c1535f43e54e5ff35ca81419e77e4c0c301398","modified":1528943888000},{"_id":"themes/next/source/images/cc-by.svg","hash":"e92a33c32d1dac8ed94849b2b4e6456e887efe70","modified":1528943888000},{"_id":"themes/next/source/images/cc-zero.svg","hash":"9bfb52b2f63527a7049247bf00d44e6dc1170e7d","modified":1528943888000},{"_id":"themes/next/source/images/favicon-16x16-next.png","hash":"943a0d67a9cdf8c198109b28f9dbd42f761d11c3","modified":1528943888000},{"_id":"themes/next/source/images/favicon-32x32-next.png","hash":"0749d7b24b0d2fae1c8eb7f671ad4646ee1894b1","modified":1528943888000},{"_id":"themes/next/source/images/loading.gif","hash":"5fbd472222feb8a22cf5b8aa5dc5b8e13af88e2b","modified":1528943888000},{"_id":"themes/next/source/images/logo.svg","hash":"169f56fd82941591dad3abd734a50ec7259be950","modified":1528943888000},{"_id":"themes/next/source/images/placeholder.gif","hash":"5fbd472222feb8a22cf5b8aa5dc5b8e13af88e2b","modified":1528943888000},{"_id":"themes/next/source/images/quote-l.svg","hash":"cd108d6f44351cadf8e6742565217f88818a0458","modified":1528943888000},{"_id":"themes/next/source/images/quote-r.svg","hash":"2a2a250b32a87c69dcc1b1976c74b747bedbfb41","modified":1528943888000},{"_id":"themes/next/source/images/searchicon.png","hash":"67727a6a969be0b2659b908518fa6706eed307b8","modified":1528943888000},{"_id":"themes/next/layout/_scripts/schemes/mist.swig","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1528943888000},{"_id":"themes/next/layout/_scripts/schemes/muse.swig","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1528943888000},{"_id":"themes/next/source/css/_mixins/Mist.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1528943888000},{"_id":"themes/next/source/css/_mixins/Muse.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1528943888000},{"_id":"themes/next/source/css/_mixins/custom.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1528943888000},{"_id":"themes/next/source/css/_variables/Muse.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1528943888000},{"_id":"themes/next/source/css/_variables/custom.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1529049628000},{"_id":"source/_posts/algorithm/game/麻将胡牌算法.md","hash":"0dfe1bb7a37266e933fb8f97f70f54724fff9ab2","modified":1534815166748},{"_id":"source/_posts/install/install_mysql/2.remove1.png","hash":"9925b0d5ec9ff5efd54d39a32f57d96e1a5261eb","modified":1533618530936},{"_id":"source/_posts/install/install_mysql/1.check.png","hash":"47410d070a29baec7090f533f5829deb3d61824d","modified":1533618530934},{"_id":"source/_posts/install/install_mysql/3.getdep.png","hash":"609f56944ca645e308b31b5dad95b2c2f8f31a6e","modified":1533618530938},{"_id":"source/_posts/install/install_mysql/4.findfiles.png","hash":"3055d928dca30ec8cbb1f796c075bb6df7332ea3","modified":1533618530940},{"_id":"source/_posts/install/install_mysql/5.del.png","hash":"69ba0d8f3581c31be745a853f20bbfd500973e61","modified":1533618530942},{"_id":"source/_posts/jvm/kotlin/better_hideCost.md","hash":"6b955cc62b4c487327457bdcaa9c088ca82c7fbe","modified":1534815817850},{"_id":"themes/next/layout/_partials/head/external-fonts.swig","hash":"f5e487b0d213ca0bd94aa30bc23b240d65081627","modified":1528943888000},{"_id":"themes/next/layout/_partials/head/custom-head.swig","hash":"a223919d2e1bf17ca4d6abb2c86f2efca9883dc1","modified":1528943888000},{"_id":"themes/next/layout/_partials/search/localsearch.swig","hash":"b2f0d247b213e4cf8de47af6a304d98070cc7256","modified":1528943888000},{"_id":"themes/next/layout/_partials/search/swiftype.swig","hash":"a8c7f9ca7c605d039a1f3bf4e4d3183700a3dd62","modified":1528943888000},{"_id":"themes/next/layout/_partials/search/tinysou.swig","hash":"b25002a83cbd2ca0c4a5df87ad5bff26477c0457","modified":1528943888000},{"_id":"themes/next/layout/_partials/share/add-this.swig","hash":"9e3d133ac5bcc6cb51702c83b2611a49811abad1","modified":1528943888000},{"_id":"themes/next/layout/_partials/share/baidushare.swig","hash":"d9e2d9282f9be6e04eae105964abb81e512bffed","modified":1528943888000},{"_id":"themes/next/layout/_partials/share/duoshuo_share.swig","hash":"d4fbffd7fa8f2090eb32a871872665d90a885fac","modified":1528943888000},{"_id":"themes/next/layout/_partials/share/jiathis.swig","hash":"0a9cdd6958395fcdffc80ab60f0c6301b63664a5","modified":1528943888000},{"_id":"themes/next/layout/_scripts/pages/post-details.swig","hash":"9b84ab576982b2c3bb0291da49143bc77fba3cc6","modified":1528943888000},{"_id":"themes/next/layout/_scripts/schemes/gemini.swig","hash":"a9a3995b9615adfb8d6b127c78c6771627bee19a","modified":1528943888000},{"_id":"themes/next/layout/_scripts/schemes/pisces.swig","hash":"a9a3995b9615adfb8d6b127c78c6771627bee19a","modified":1528943888000},{"_id":"themes/next/layout/_third-party/analytics/analytics-with-widget.swig","hash":"ff947f3561b229bc528cb1837d4ca19612219411","modified":1528943888000},{"_id":"themes/next/layout/_third-party/analytics/application-insights.swig","hash":"71397a5823e8ec8aad3b68aace13150623b3e19d","modified":1528943888000},{"_id":"themes/next/layout/_third-party/analytics/baidu-analytics.swig","hash":"753d262911c27baf663fcaf199267133528656af","modified":1528943888000},{"_id":"themes/next/layout/_third-party/analytics/busuanzi-counter.swig","hash":"7b11eac3a0685fa1ab2ab6ecff60afc4f15f0d16","modified":1528943888000},{"_id":"themes/next/layout/_third-party/analytics/cnzz-analytics.swig","hash":"a10b7f19d7b5725527514622899df413a34a89db","modified":1528943888000},{"_id":"themes/next/layout/_third-party/analytics/facebook-sdk.swig","hash":"7d94845f96197d9d84a405fa5d4ede75fb81b225","modified":1528943888000},{"_id":"themes/next/layout/_third-party/analytics/firestore.swig","hash":"ccc443b22bd4f8c7ac4145664686c756395b90e0","modified":1528943888000},{"_id":"themes/next/layout/_third-party/analytics/google-analytics.swig","hash":"b1e13df83fb2b1d5d513b30b7aa6158b0837daab","modified":1528943888000},{"_id":"themes/next/layout/_third-party/analytics/index.swig","hash":"45f3f629c2aacc381095750e1c8649041a71a84b","modified":1528943888000},{"_id":"themes/next/layout/_third-party/analytics/lean-analytics.swig","hash":"e6d10ee4fb70b3ae1cd37e9e36e000306734aa2e","modified":1528943888000},{"_id":"themes/next/layout/_third-party/analytics/tencent-analytics.swig","hash":"8a399df90dadba5ad4e781445b58f4765aeb701e","modified":1528943888000},{"_id":"themes/next/layout/_third-party/analytics/tencent-mta.swig","hash":"5a8027328f060f965b3014060bebec1d7cf149c1","modified":1528943888000},{"_id":"themes/next/layout/_third-party/analytics/vkontakte-api.swig","hash":"f9a1647a8f1866deeb94052d1f87a5df99cb1e70","modified":1528943888000},{"_id":"themes/next/layout/_third-party/comments/changyan.swig","hash":"4c501ea0b9c494181eb3c607c5526a5754e7fbd8","modified":1528943888000},{"_id":"themes/next/layout/_third-party/comments/disqus.swig","hash":"b83a51bbe0f1e2ded9819070840b0ea145f003a6","modified":1528943888000},{"_id":"themes/next/layout/_third-party/comments/duoshuo.swig","hash":"1600f340e0225361580c44890568dc07dbcf2c89","modified":1528943888000},{"_id":"themes/next/layout/_third-party/comments/gitment.swig","hash":"4dcc3213c033994d342d02b800b6229295433d30","modified":1528943888000},{"_id":"themes/next/layout/_third-party/comments/index.swig","hash":"493bd5999a1061b981922be92d8277a0f9152447","modified":1528943888000},{"_id":"themes/next/layout/_third-party/comments/hypercomments.swig","hash":"af7f3e43cbdc4f88c13f101f0f341af96ace3383","modified":1528943888000},{"_id":"themes/next/layout/_third-party/comments/livere.swig","hash":"9246162d4bc7e949ce1d12d135cbbaf5dc3024ec","modified":1528943888000},{"_id":"themes/next/layout/_third-party/comments/valine.swig","hash":"4050553d44ba1396174161c9a6bb0f89fa779eca","modified":1528943888000},{"_id":"themes/next/layout/_third-party/comments/youyan.swig","hash":"7e65ff8fe586cd655b0e9d1ad2912663ff9bd36c","modified":1528943888000},{"_id":"themes/next/layout/_third-party/search/index.swig","hash":"34599633658f3b0ffb487728b7766e1c7b551f5a","modified":1528943888000},{"_id":"themes/next/layout/_third-party/search/localsearch.swig","hash":"93479642fd076a1257fecc25fcf5d20ccdefe509","modified":1528943888000},{"_id":"themes/next/layout/_third-party/search/tinysou.swig","hash":"fe95dd3d166634c466e19aa756e65ad6e8254d3e","modified":1528943888000},{"_id":"themes/next/layout/_third-party/seo/baidu-push.swig","hash":"d8c98938719284fa06492c114d99a1904652a555","modified":1528943888000},{"_id":"themes/next/source/css/_custom/custom.styl","hash":"c447542b8861c6883814466ffa3357c2c0a064d6","modified":1529055962000},{"_id":"themes/next/source/css/_mixins/Gemini.styl","hash":"07f7da320689f828f6e36a6123807964a45157a0","modified":1528943888000},{"_id":"themes/next/source/css/_mixins/Pisces.styl","hash":"7896c3ee107e1a8b9108b6019f1c070600a1e8cc","modified":1528943888000},{"_id":"themes/next/source/css/_mixins/base.styl","hash":"0e55cbd93852dc3f8ccb44df74d35d9918f847e0","modified":1528943888000},{"_id":"themes/next/source/css/_variables/Gemini.styl","hash":"11206b854ea9c722ce412941064d7f4a4ebf408a","modified":1533776321574},{"_id":"themes/next/source/css/_variables/Mist.styl","hash":"a25408534f8fe6e321db4bbf9dd03335d648fe17","modified":1528943888000},{"_id":"themes/next/source/css/_variables/Pisces.styl","hash":"4069f918ccc312da86db6c51205fc6c6eaabb116","modified":1528943888000},{"_id":"themes/next/source/css/_variables/base.styl","hash":"7e97fdafc85e261136cbf8b3e0d47fd85572b643","modified":1533803777737},{"_id":"themes/next/source/js/src/affix.js","hash":"1b509c3b5b290a6f4607f0f06461a0c33acb69b1","modified":1528943888000},{"_id":"themes/next/source/js/src/algolia-search.js","hash":"cb431b54ba9c692165a1f5a12e4c564a560f8058","modified":1528943888000},{"_id":"themes/next/source/js/src/bootstrap.js","hash":"0289031200c3d4c2bdd801ee10fff13bb2c353e4","modified":1528943888000},{"_id":"themes/next/source/js/src/exturl.js","hash":"a2a0f0de07e46211f74942a468f42ee270aa555c","modified":1528943888000},{"_id":"themes/next/source/js/src/hook-duoshuo.js","hash":"b35a7dc47b634197b93487cea8671a40a9fdffce","modified":1528943888000},{"_id":"themes/next/source/js/src/js.cookie.js","hash":"1512c751d219577d338ac0780fb2bbd9075d5298","modified":1528943888000},{"_id":"themes/next/source/js/src/motion.js","hash":"885176ed51d468f662fbf0fc09611f45c7e5a3b1","modified":1528943888000},{"_id":"themes/next/source/js/src/post-details.js","hash":"93a18271b4123dd8f94f09d1439b47c3c19a8712","modified":1528943888000},{"_id":"themes/next/source/js/src/scroll-cookie.js","hash":"02cf91514e41200bc9df5d8bdbeb58575ec06074","modified":1528943888000},{"_id":"themes/next/source/js/src/scrollspy.js","hash":"b7657be25fc52ec67c75ab5481bdcb483573338b","modified":1528943888000},{"_id":"themes/next/source/js/src/utils.js","hash":"b3e9eca64aba59403334f3fa821f100d98d40337","modified":1528943888000},{"_id":"themes/next/source/lib/algolia-instant-search/instantsearch.min.css","hash":"90ef19edc982645b118b095615838d9c5eaba0de","modified":1528943888000},{"_id":"themes/next/source/lib/canvas-nest/canvas-nest.min.js","hash":"0387e75e23b1db108a755073fe52a0d03eb391a7","modified":1528943888000},{"_id":"themes/next/source/lib/canvas-ribbon/canvas-ribbon.js","hash":"b02737510e9b89aeed6b54f89f602a9c24b06ff2","modified":1528943888000},{"_id":"themes/next/source/lib/fancybox/.bower.json","hash":"9be892a4e14e0da18ff9cb962c9ef71f163b1b22","modified":1528943888000},{"_id":"themes/next/source/lib/fancybox/.gitattributes","hash":"672d3b5767e0eacd83bb41b188c913f2cf754793","modified":1528943888000},{"_id":"themes/next/source/lib/fastclick/.bower.json","hash":"bf3eef9d647cd7c9b62feda3bc708c6cdd7c0877","modified":1528943888000},{"_id":"themes/next/source/lib/fastclick/LICENSE","hash":"6f474ea75c42442da7bbcf2e9143ce98258efd8d","modified":1528943888000},{"_id":"themes/next/source/lib/fastclick/README.md","hash":"68a9b9d53126405b0fa5f3324f1fb96dbcc547aa","modified":1528943888000},{"_id":"themes/next/source/lib/fastclick/bower.json","hash":"a9b3ee1e4db71a0e4ea6d5bed292d176dd68b261","modified":1528943888000},{"_id":"themes/next/source/lib/font-awesome/.bower.json","hash":"b4aefc910578d76b267e86dfffdd5121c8db9aec","modified":1528943888000},{"_id":"themes/next/source/lib/font-awesome/.gitignore","hash":"03ddbf76c1dd1afb93eed0b670d2eee747472ef1","modified":1528943888000},{"_id":"themes/next/source/lib/font-awesome/.npmignore","hash":"c31ff06a740955e44edd4403902e653ccabfd4db","modified":1528943888000},{"_id":"themes/next/source/lib/font-awesome/HELP-US-OUT.txt","hash":"ee33b2798b1e714b904d663436c6b3521011d1fa","modified":1528943888000},{"_id":"themes/next/source/lib/font-awesome/bower.json","hash":"71e7183634dc1b9449f590f15ebd7201add22ca7","modified":1528943888000},{"_id":"themes/next/source/lib/jquery/.bower.json","hash":"865d6c1328ab209a4376b9d2b7a7824369565f28","modified":1528943888000},{"_id":"themes/next/source/lib/jquery_lazyload/.bower.json","hash":"90fa628f156d8045357ff11eaf32e61abacf10e8","modified":1528943888000},{"_id":"themes/next/source/lib/jquery_lazyload/CONTRIBUTING.md","hash":"4ded6fee668544778e97e38c2b211fc56c848e77","modified":1528943888000},{"_id":"themes/next/source/lib/jquery_lazyload/bower.json","hash":"e0acf1db27b0cc16128a59c46db1db406b5c4c58","modified":1528943888000},{"_id":"themes/next/source/lib/jquery_lazyload/README.md","hash":"b930297cb98b8e1dbd5abe9bc1ed9d5935d18ce8","modified":1528943888000},{"_id":"themes/next/source/lib/jquery_lazyload/jquery.lazyload.js","hash":"f4a570908f6c89c6edfb1c74959e733eaadea4f2","modified":1528943888000},{"_id":"themes/next/source/lib/jquery_lazyload/jquery.scrollstop.js","hash":"bf773ad48a0b9aa77681a89d7569eefc0f7b7b18","modified":1528943888000},{"_id":"themes/next/source/lib/needsharebutton/font-embedded.css","hash":"14264a210bf94232d58d7599ea2ba93bfa4fb458","modified":1528943888000},{"_id":"themes/next/source/lib/needsharebutton/needsharebutton.css","hash":"e33aa8fa48b6639d8d8b937d13261597dd473b3a","modified":1528943888000},{"_id":"themes/next/source/lib/needsharebutton/needsharebutton.js","hash":"2ce5f3bf15c523b9bfc97720d8884bb22602a454","modified":1528943888000},{"_id":"themes/next/source/lib/pace/pace-theme-barber-shop.min.css","hash":"ee0d51446cb4ffe1bb96bd7bc8c8e046dddfcf46","modified":1528943888000},{"_id":"themes/next/source/lib/pace/pace-theme-big-counter.min.css","hash":"5b561dc328af4c4d512e20a76fe964d113a32ba8","modified":1528943888000},{"_id":"themes/next/source/lib/pace/pace-theme-bounce.min.css","hash":"f6bdb9a785b7979dd8ec5c60e278af955ef1e585","modified":1528943888000},{"_id":"themes/next/source/lib/pace/pace-theme-center-atom.min.css","hash":"dcf79c24fe5350fb73d8038573a104e73639e9d3","modified":1528943888000},{"_id":"themes/next/source/lib/pace/pace-theme-center-circle.min.css","hash":"a4066769c78affbfbc5e30a600e2c7862cd532e0","modified":1528943888000},{"_id":"themes/next/source/lib/pace/pace-theme-center-radar.min.css","hash":"ab7cba998bf4c03b13df342bf43647fa4f419783","modified":1528943888000},{"_id":"themes/next/source/lib/pace/pace-theme-center-simple.min.css","hash":"67f44c947548bd4d77e7590d3f59e236cbf9e98a","modified":1528943888000},{"_id":"themes/next/source/lib/pace/pace-theme-corner-indicator.min.css","hash":"b3c64c973f31884e3d8145989476707333406b9a","modified":1528943888000},{"_id":"themes/next/source/lib/pace/pace-theme-fill-left.min.css","hash":"0bec1e235a4a2cccda3f993b205424e1441a44ae","modified":1528943888000},{"_id":"themes/next/source/lib/pace/pace-theme-flash.min.css","hash":"13ace22c40312d7bbd8d9c1e50eff897a7a497d8","modified":1528943888000},{"_id":"themes/next/source/lib/pace/pace-theme-loading-bar.min.css","hash":"7ee28875dfc1230d76c537f6605766e8d4011e9f","modified":1528943888000},{"_id":"themes/next/source/lib/pace/pace-theme-mac-osx.min.css","hash":"9f2e7b51b084da407863826b25265b31150b3821","modified":1528943888000},{"_id":"themes/next/source/lib/pace/pace-theme-minimal.min.css","hash":"9cd783cceb8a191f3c8b5d81f7a430ecc3e489d3","modified":1528943888000},{"_id":"themes/next/source/lib/pace/pace.min.js","hash":"8aaa675f577d5501f5f22d5ccb07c2b76310b690","modified":1528943888000},{"_id":"themes/next/source/lib/three/canvas_sphere.min.js","hash":"46a50b91c98b639c9a2b9265c5a1e66a5c656881","modified":1528943888000},{"_id":"themes/next/source/lib/three/canvas_lines.min.js","hash":"2d9a9f38c493fdf7c0b833bb9184b6a1645c11b2","modified":1528943888000},{"_id":"themes/next/source/lib/three/three-waves.min.js","hash":"8148492dd49aa876d32bb7d5b728d3f5bf6f5074","modified":1528943888000},{"_id":"themes/next/source/lib/velocity/.bower.json","hash":"63da5e80ebb61bb66a2794d5936315ca44231f0c","modified":1528943888000},{"_id":"themes/next/source/lib/velocity/bower.json","hash":"92d92860418c4216aa59eb4cb4a556290a7ad9c3","modified":1528943888000},{"_id":"themes/next/source/lib/velocity/velocity.min.js","hash":"bf172816a9c57f9040e3d19c24e181a142daf92b","modified":1528943888000},{"_id":"themes/next/source/lib/velocity/velocity.ui.js","hash":"dbbfb50f6502f6b81dcc9fee7b31f1e812da3464","modified":1528943888000},{"_id":"themes/next/source/lib/velocity/velocity.ui.min.js","hash":"dde584994ac13dc601836e86f4cf490e418d9723","modified":1528943888000},{"_id":"source/_posts/install/install_jvm&tomcat/1.jdk-license.png","hash":"1699c58dbbd0839f3e5484935fa89e95366e3aee","modified":1533618530929},{"_id":"themes/next/source/lib/jquery/index.js","hash":"17a740d68a1c330876c198b6a4d9319f379f3af2","modified":1528943888000},{"_id":"themes/next/layout/_third-party/search/algolia-search/assets.swig","hash":"218cc936ba3518a3591b2c9eda46bc701edf7710","modified":1528943888000},{"_id":"themes/next/layout/_third-party/search/algolia-search/dom.swig","hash":"2530de0f3125a912756f6c0e9090cd012134a4c5","modified":1528943888000},{"_id":"themes/next/source/css/_common/components/back-to-top.styl","hash":"237d185ac62ec9877e300947fa0109c44fb8db19","modified":1528943888000},{"_id":"themes/next/source/css/_common/components/back-to-top-sidebar.styl","hash":"8f86f694c0749a18ab3ad6f6df75466ca137a4bc","modified":1528943888000},{"_id":"themes/next/source/css/_common/components/buttons.styl","hash":"e701716b017b07618382ecd74a25eb20495fba30","modified":1533805037013},{"_id":"themes/next/source/css/_common/components/comments.styl","hash":"ff4489cd582f518bba6909a301ac1292a38b4e96","modified":1528943888000},{"_id":"themes/next/source/css/_common/components/components.styl","hash":"7ad4081466b397e2a6204141bb7768b7c01bd93c","modified":1528943888000},{"_id":"themes/next/source/css/_common/components/pagination.styl","hash":"4f2801fc4cf3f31bf2069f41db8c6ce0e3da9e39","modified":1528943888000},{"_id":"themes/next/source/css/_common/components/tag-cloud.styl","hash":"6eb4bcc3056bd279d000607e8b4dad50d368ca69","modified":1528943888000},{"_id":"themes/next/source/css/_common/outline/outline.styl","hash":"12662536c7a07fff548abe94171f34b768dd610f","modified":1528943888000},{"_id":"themes/next/source/css/_common/scaffolding/base.styl","hash":"24ee4b356ff55fc6e58f26a929fa07750002cf29","modified":1528943888000},{"_id":"themes/next/source/css/_common/scaffolding/helpers.styl","hash":"1da5c800d025345f212a3bf1be035060f4e5e6ed","modified":1528943888000},{"_id":"themes/next/source/css/_common/scaffolding/mobile.styl","hash":"91ca75492cd51f2553f4d294ed2f48239fcd55eb","modified":1528943888000},{"_id":"themes/next/source/css/_common/scaffolding/normalize.styl","hash":"3f40e8a9fe8e7bd5cfc4cf4cbbbcb9539462e973","modified":1528943888000},{"_id":"themes/next/source/css/_common/scaffolding/scaffolding.styl","hash":"a17e2b871a335f290afb392a08f94fd35f59c715","modified":1528943888000},{"_id":"themes/next/source/css/_common/scaffolding/tables.styl","hash":"ea9069645696f86c5df64208490876fe150c8cae","modified":1528943888000},{"_id":"themes/next/source/css/_schemes/Gemini/index.styl","hash":"18c3336ee3d09bd2da6a876e1336539f03d5a973","modified":1533781595265},{"_id":"themes/next/source/css/_schemes/Mist/_base.styl","hash":"25d5e45a355ee2093f3b8b8eeac125ebf3905026","modified":1528943888000},{"_id":"themes/next/source/css/_schemes/Mist/_header.styl","hash":"d0bfd1bef988c76f7d7dd72d88af6f0908a8b0db","modified":1528943888000},{"_id":"themes/next/source/css/_schemes/Mist/_logo.styl","hash":"b1025c421406d2c24cc92a02ae28c1915b01e240","modified":1528943888000},{"_id":"themes/next/source/css/_schemes/Mist/_menu.styl","hash":"26666c1f472bf5f3fb9bc62081cca22b4de15ccb","modified":1528943888000},{"_id":"themes/next/source/css/_schemes/Mist/_posts-expanded.styl","hash":"9c99034f8e00d47e978b3959f51eb4a9ded0fcc8","modified":1528943888000},{"_id":"themes/next/source/css/_schemes/Mist/_search.styl","hash":"09c965022c13b84ed8a661fee8ac2a6d550495ae","modified":1528943888000},{"_id":"themes/next/source/css/_schemes/Mist/index.styl","hash":"9b913b73d31d21f057f97115ffab93cfa578b884","modified":1528943888000},{"_id":"themes/next/source/css/_schemes/Muse/_layout.styl","hash":"31127dcbf4c7b4ada53ffbf1638b5fe325b7cbc0","modified":1528943888000},{"_id":"themes/next/source/css/_schemes/Muse/_logo.styl","hash":"748dbfbf9c08e719ddc775958003c64b00d39dab","modified":1528943888000},{"_id":"themes/next/source/css/_schemes/Muse/_menu.styl","hash":"e695e58f714129ca292c2e54cd62c251aca7f7fe","modified":1528943888000},{"_id":"themes/next/source/css/_schemes/Muse/_search.styl","hash":"09c965022c13b84ed8a661fee8ac2a6d550495ae","modified":1528943888000},{"_id":"themes/next/source/css/_schemes/Muse/index.styl","hash":"5dbc0d0c897e46760e5dbee416530d485c747bba","modified":1528943888000},{"_id":"themes/next/source/css/_schemes/Pisces/_brand.styl","hash":"bce344d3a665b4c55230d2a91eac2ad16d6f32fd","modified":1528943888000},{"_id":"themes/next/source/css/_schemes/Pisces/_menu.styl","hash":"4642e30010af8b2b037f5b43146b10a934941958","modified":1528943888000},{"_id":"themes/next/source/css/_schemes/Pisces/_posts.styl","hash":"1f6e2ce674735269599acc6d77b3ea18d31967fc","modified":1528943888000},{"_id":"themes/next/source/css/_schemes/Pisces/_sidebar.styl","hash":"ad2dcedf393ed1f3f5afd2508d24969c916d02fc","modified":1528943888000},{"_id":"themes/next/source/css/_schemes/Pisces/index.styl","hash":"86197902dfd3bededba10ba62b8f9f22e0420bde","modified":1528943888000},{"_id":"themes/next/source/css/_schemes/Pisces/_layout.styl","hash":"416988dca389e6e2fdfa51fa7f4ee07eb53f82fb","modified":1528943888000},{"_id":"themes/next/source/js/src/schemes/pisces.js","hash":"f1d0b5d7af32c423eaa8bb93ab6a0b45655645dc","modified":1528943888000},{"_id":"themes/next/source/lib/Han/dist/han.css","hash":"6c26cdb36687d4f0a11dabf5290a909c3506be5c","modified":1528943888000},{"_id":"themes/next/source/lib/Han/dist/han.min.css","hash":"6d586bfcfb7ae48f1b12f76eec82d3ad31947501","modified":1528943888000},{"_id":"themes/next/source/lib/Han/dist/han.min.js","hash":"16b03db23a52623348f37c04544f2792032c1fb6","modified":1528943888000},{"_id":"themes/next/source/lib/fancybox/source/blank.gif","hash":"2daeaa8b5f19f0bc209d976c02bd6acb51b00b0a","modified":1528943888000},{"_id":"themes/next/source/lib/fancybox/source/fancybox_loading.gif","hash":"1a755fb2599f3a313cc6cfdb14df043f8c14a99c","modified":1528943888000},{"_id":"themes/next/source/lib/fancybox/source/fancybox_loading@2x.gif","hash":"273b123496a42ba45c3416adb027cd99745058b0","modified":1528943888000},{"_id":"themes/next/source/lib/fancybox/source/fancybox_overlay.png","hash":"b3a4ee645ba494f52840ef8412015ba0f465dbe0","modified":1528943888000},{"_id":"themes/next/source/lib/fancybox/source/fancybox_sprite.png","hash":"17df19f97628e77be09c352bf27425faea248251","modified":1528943888000},{"_id":"themes/next/source/lib/fancybox/source/fancybox_sprite@2x.png","hash":"30c58913f327e28f466a00f4c1ac8001b560aed8","modified":1528943888000},{"_id":"themes/next/source/lib/fancybox/source/jquery.fancybox.css","hash":"82f33ad0842aa9c154d029e0dada2497d4eb1d57","modified":1528943888000},{"_id":"themes/next/source/lib/fancybox/source/jquery.fancybox.js","hash":"d71602cbca33b9ecdb7ab291b7f86a49530f3601","modified":1528943888000},{"_id":"themes/next/source/lib/fancybox/source/jquery.fancybox.pack.js","hash":"ae6318aeb62ad4ce7a7e9a4cdacd93ffb004f0fb","modified":1528943888000},{"_id":"themes/next/source/lib/fastclick/lib/fastclick.js","hash":"1d6aeda0480d0e4cb6198edf7719d601d4ae2ccc","modified":1528943888000},{"_id":"themes/next/source/lib/fastclick/lib/fastclick.min.js","hash":"2cae0f5a6c5d6f3cb993015e6863f9483fc4de18","modified":1528943888000},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.css","hash":"3655f1fdf1e584c4d8e8d39026093ca306a5a341","modified":1528943888000},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.css.map","hash":"1573904b82807abbb32c97a3632c6c6808eaac50","modified":1528943888000},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.min.css","hash":"88af80502c44cd52ca81ffe7dc7276b7eccb06cf","modified":1528943888000},{"_id":"themes/next/source/lib/ua-parser-js/dist/ua-parser.min.js","hash":"41ea797c68dbcff2f6fb3aba1d1043a22e7cc0f6","modified":1528943888000},{"_id":"themes/next/source/lib/ua-parser-js/dist/ua-parser.pack.js","hash":"a817b6c158cbc5bab3582713de9fe18a18a80552","modified":1528943888000},{"_id":"themes/next/source/lib/Han/dist/han.js","hash":"4ac683b2bc8531c84d98f51b86957be0e6f830f3","modified":1528943888000},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.woff","hash":"28b782240b3e76db824e12c02754a9731a167527","modified":1528943888000},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.woff2","hash":"d6f48cba7d076fb6f2fd6ba993a75b9dc1ecbf0c","modified":1528943888000},{"_id":"themes/next/source/lib/velocity/velocity.js","hash":"4237c6e9d59da349639de20e559e87c2c0218cfd","modified":1528943888000},{"_id":"themes/next/source/css/_common/components/footer/footer.styl","hash":"9f73c4696f0907aa451a855444f88fc0698fa472","modified":1528943888000},{"_id":"themes/next/source/css/_common/components/header/header.styl","hash":"53cde051e0337f4bf42fb8d6d7a79fa3fa6d4ef2","modified":1528943888000},{"_id":"themes/next/source/css/_common/components/header/headerband.styl","hash":"d63e0cacc53dd375fcc113465a4328c59ff5f2c1","modified":1528943888000},{"_id":"themes/next/source/css/_common/components/header/menu.styl","hash":"1a0d059799a298fe17c49a44298d32cebde93785","modified":1528943888000},{"_id":"themes/next/source/css/_common/components/header/site-meta.styl","hash":"0656e753f182c9f47fef7304c847b7587a85ef0d","modified":1528943888000},{"_id":"themes/next/source/css/_common/components/header/site-nav.styl","hash":"1727702eac5d326b5c81a667944a245016668231","modified":1528943888000},{"_id":"themes/next/source/css/_common/components/highlight/diff.styl","hash":"167986d0f649516671ddf7193eebba7b421cd115","modified":1528943888000},{"_id":"themes/next/source/css/_common/components/highlight/highlight.styl","hash":"50450d9fdc8a2b2be8cfca51e3e1a01ffd636c0b","modified":1528943888000},{"_id":"themes/next/source/css/_common/components/highlight/theme.styl","hash":"7fe4d4d656e86276c17cb4e48a560cb6a4def703","modified":1528943888000},{"_id":"themes/next/source/css/_common/components/pages/archive.styl","hash":"b6f3a06a94a6ee5470c956663164d58eda818a64","modified":1528943888000},{"_id":"themes/next/source/css/_common/components/pages/categories.styl","hash":"7fb593f90d74a99c21840679933b9ef6fdc16a61","modified":1528943888000},{"_id":"themes/next/source/css/_common/components/pages/pages.styl","hash":"f9760ecf186954cee3ba4a149be334e9ba296b89","modified":1528943888000},{"_id":"themes/next/source/css/_common/components/pages/post-detail.styl","hash":"4e3838d7ac81d9ad133960f0f7ed58a44a015285","modified":1528943888000},{"_id":"themes/next/source/css/_common/components/pages/schedule.styl","hash":"8cf318644acc8b4978537c263290363e21c7f5af","modified":1528943888000},{"_id":"themes/next/source/css/_common/components/post/my-post-copyright.styl","hash":"1a510f995e665b28d85ba4d169b824276c40e4f3","modified":1534814855644},{"_id":"themes/next/source/css/_common/components/post/post-button.styl","hash":"379aaca6c570d1912b8f99ccd02de2504f3b0ee7","modified":1533870497797},{"_id":"themes/next/source/css/_common/components/post/post-collapse.styl","hash":"875cbe88d5c7f6248990e2beb97c9828920e7e24","modified":1528943888000},{"_id":"themes/next/source/css/_common/components/post/post-copyright.styl","hash":"caf263d1928496688c0e1419801eafd7e6919ce5","modified":1528943888000},{"_id":"themes/next/source/css/_common/components/post/post-eof.styl","hash":"a200c0a1c5a895ac9dc41e0641a5dfcd766be99b","modified":1528943888000},{"_id":"themes/next/source/css/_common/components/post/post-expand.styl","hash":"a6c6eb8adba0a090ad1f4b9124e866887f20d10d","modified":1528943888000},{"_id":"themes/next/source/css/_common/components/post/post-gallery.styl","hash":"cd9e214e502697f2f2db84eb721bac57a49b0fce","modified":1528943888000},{"_id":"themes/next/source/css/_common/components/post/post-meta.styl","hash":"82c5ce4c9978aedaabd3c2e4ec5071474fb75987","modified":1533783268219},{"_id":"themes/next/source/css/_common/components/post/post-nav.styl","hash":"27deb3d3a243d30022055dac7dad851024099a8b","modified":1528943888000},{"_id":"themes/next/source/css/_common/components/post/post-reward.styl","hash":"ca88ea6999a61fb905eb6e72eba5f92d4ee31e6e","modified":1528943888000},{"_id":"themes/next/source/css/_common/components/post/post-rtl.styl","hash":"b2495ae5e04dcca610aacadc47881d9e716cd440","modified":1528943888000},{"_id":"themes/next/source/css/_common/components/post/post-tags.styl","hash":"5a982d8ef3b3623ea5f59e63728990f5623c1b57","modified":1528943888000},{"_id":"themes/next/source/css/_common/components/post/post-title.styl","hash":"3d75452e907ac39ba0c5cb4dc9e21aeae88cef54","modified":1533782931168},{"_id":"themes/next/source/css/_common/components/post/post-type.styl","hash":"01567edaea6978628aa5521a122a85434c418bfd","modified":1528943888000},{"_id":"themes/next/source/css/_common/components/post/post-widgets.styl","hash":"7968343e41f8b94b318c36289dff1196c3eb1791","modified":1528943888000},{"_id":"themes/next/source/css/_common/components/post/post.styl","hash":"0a753aaebc89572748dba691d86879fb4f5b2662","modified":1534815166783},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-author-links.styl","hash":"39f04c4c7237a4e10acd3002331992b79945d241","modified":1528943888000},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-author.styl","hash":"761eba9811b050b25d548cc0854de4824b41eb08","modified":1528943888000},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-blogroll.styl","hash":"8dd9a1c6f4f6baa00c2cf01837e7617120cf9660","modified":1528943888000},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-dimmer.styl","hash":"11c22f0fb3f6beb13e5a425ec064a4ff974c13b7","modified":1528943888000},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-feed-link.styl","hash":"61f8cea3c01acd600e90e1bc2a07def405503748","modified":1528943888000},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-nav.styl","hash":"1153bb71edf253765145559674390e16dd67c633","modified":1528943888000},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-toc.styl","hash":"c8fe49a4bc014c24dead05b782a7082411a4abc5","modified":1528943888000},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-toggle.styl","hash":"a1521d48bb06d8d703753f52a198baa197af7da2","modified":1528943888000},{"_id":"themes/next/source/css/_common/components/sidebar/site-state.styl","hash":"e71652d3216e289c8548b1ea2357822c1476a425","modified":1528943888000},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar.styl","hash":"5ef6343835f484a2c0770bd1eb9cc443609e4c39","modified":1528943888000},{"_id":"themes/next/source/css/_common/components/tags/blockquote-center.styl","hash":"2fe76476432b31993338cb45cdb3b29a518b6379","modified":1528943888000},{"_id":"themes/next/source/css/_common/components/tags/exturl.styl","hash":"a3bdd71237afc112b2aa255f278cab6baeb25351","modified":1528943888000},{"_id":"themes/next/source/css/_common/components/tags/full-image.styl","hash":"f825da191816eef69ea8efb498a7f756d5ebb498","modified":1528943888000},{"_id":"themes/next/source/css/_common/components/tags/group-pictures.styl","hash":"2ad1a2a9bbf6742d1b0762c4c623b68113d1e0fe","modified":1528943888000},{"_id":"themes/next/source/css/_common/components/tags/label.styl","hash":"2ab1322fe52ab5aafd49e68f5bd890e8380ee927","modified":1528943888000},{"_id":"themes/next/source/css/_common/components/tags/note-modern.styl","hash":"b7076e58d647265ee0ad2b461fe8ce72c9373bc5","modified":1528943888000},{"_id":"themes/next/source/css/_common/components/tags/note.styl","hash":"9a409b798decdefdaf7a23f0b11004a8c27e82f3","modified":1528943888000},{"_id":"themes/next/source/css/_common/components/tags/tabs.styl","hash":"154a87a32d2fead480d5e909c37f6c476671c5e6","modified":1528943888000},{"_id":"themes/next/source/css/_common/components/tags/tags.styl","hash":"b80604868e4f5cf20fccafd7ee415c20c804f700","modified":1528943888000},{"_id":"themes/next/source/css/_common/components/third-party/algolia-search.styl","hash":"bba4f3bdb7517cd85376df3e1209b570c0548c69","modified":1528943888000},{"_id":"themes/next/source/css/_common/components/third-party/baidushare.styl","hash":"5dbeed535d63a50265d96b396a5440f9bb31e4ba","modified":1528943888000},{"_id":"themes/next/source/css/_common/components/third-party/busuanzi-counter.styl","hash":"a6e7d698702c2e383dde3fde2abde27951679084","modified":1528943888000},{"_id":"themes/next/source/css/_common/components/third-party/duoshuo.styl","hash":"717cc7f82be9cc151e23a7678601ff2fd3a7fa1d","modified":1528943888000},{"_id":"themes/next/source/css/_common/components/third-party/gitment.styl","hash":"874278147115601d2abf15987f5f7a84ada1ac6b","modified":1528943888000},{"_id":"themes/next/source/css/_common/components/third-party/han.styl","hash":"10599e16414a8b7a76c4e79e6617b5fe3d4d1adf","modified":1528943888000},{"_id":"themes/next/source/css/_common/components/third-party/jiathis.styl","hash":"15975ba7456b96916b1dbac448a1a0d2c38b8f3d","modified":1528943888000},{"_id":"themes/next/source/css/_common/components/third-party/localsearch.styl","hash":"16087276945fa038f199692e3eabb1c52b8ea633","modified":1528943888000},{"_id":"themes/next/source/css/_common/components/third-party/needsharebutton.styl","hash":"28825ae15fa20ae3942cdaa7bcc1f3523ce59acc","modified":1528943888000},{"_id":"themes/next/source/css/_common/components/third-party/third-party.styl","hash":"9c8196394a89dfa40b87bf0019e80144365a9c93","modified":1528943888000},{"_id":"themes/next/source/css/_schemes/Mist/outline/outline.styl","hash":"a07aa12cc36ac5c819670c2a3c17d07ed7a08986","modified":1528943888000},{"_id":"themes/next/source/css/_schemes/Mist/sidebar/sidebar-blogroll.styl","hash":"1f09be9bb38411f0629b58c3b23873589a6dbcaa","modified":1528943888000},{"_id":"themes/next/source/css/_schemes/Muse/sidebar/sidebar-blogroll.styl","hash":"1f09be9bb38411f0629b58c3b23873589a6dbcaa","modified":1528943888000},{"_id":"themes/next/source/lib/Han/dist/font/han-space.otf","hash":"07436f011b44051f61b8329c99de4bec64e86f4b","modified":1528943888000},{"_id":"themes/next/source/lib/Han/dist/font/han-space.woff","hash":"7a635062b10bf5662ae1d218ba0980171005d060","modified":1528943888000},{"_id":"themes/next/source/lib/Han/dist/font/han.otf","hash":"f1f6bb8f461f5672e000380195d3d2358a28494c","modified":1528943888000},{"_id":"themes/next/source/lib/Han/dist/font/han.woff","hash":"f38ff9b2eecaa17b50b66aa2dae87e9e7436d195","modified":1528943888000},{"_id":"themes/next/source/lib/Han/dist/font/han.woff2","hash":"623af3ed5423371ac136a4fe0e8cc7bb7396037a","modified":1528943888000},{"_id":"themes/next/source/lib/fancybox/source/helpers/fancybox_buttons.png","hash":"e385b139516c6813dcd64b8fc431c364ceafe5f3","modified":1528943888000},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-buttons.css","hash":"6394c48092085788a8c0ef72670b0652006231a1","modified":1528943888000},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-buttons.js","hash":"ee948b4489aedeb548a77c9e45d8c7c5732fd62d","modified":1528943888000},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-media.js","hash":"51139a4c79573d372a347ef01a493222a1eaf10a","modified":1528943888000},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-thumbs.css","hash":"b88b589f5f1aa1b3d87cc7eef34c281ff749b1ae","modified":1528943888000},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-thumbs.js","hash":"d22b1629cb23a6181bebb70d0cf653ffe4b835c8","modified":1528943888000},{"_id":"themes/next/source/lib/font-awesome/fonts/FontAwesome.otf","hash":"048707bc52ac4b6563aaa383bfe8660a0ddc908c","modified":1528943888000},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.eot","hash":"d980c2ce873dc43af460d4d572d441304499f400","modified":1528943888000},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.ttf","hash":"13b1eab65a983c7a73bc7997c479d66943f7c6cb","modified":1528943888000},{"_id":"themes/next/source/lib/algolia-instant-search/instantsearch.min.js","hash":"90a1b22129efc172e2dfcceeeb76bff58bc3192f","modified":1528943888000},{"_id":"themes/next/source/lib/three/three.min.js","hash":"26273b1cb4914850a89529b48091dc584f2c57b8","modified":1528943888000},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.svg","hash":"b5483b11f8ba213e733b5b8af9927a04fec996f6","modified":1528943888000},{"_id":"themes/next/source/images/avatar2.png","hash":"1f125a7b17961481ba8a1f937a3b7694f247454f","modified":1529047019000},{"_id":"public/baidusitemap.xml","hash":"3bd70ec13e94e6ab9fed77d1e5968eac6723a0f7","modified":1536240718352},{"_id":"public/search.xml","hash":"b3037714d61ab29744fe389928c654b1497ab2df","modified":1536240718358},{"_id":"public/sitemap.xml","hash":"6732b815e81d1c0740a22f3df85abef0dfa4c117","modified":1536240718359},{"_id":"public/about/index.html","hash":"145677e319357ffa4b4c0c77210c0ec822c091c7","modified":1536225605682},{"_id":"public/categories/index.html","hash":"0eba02a7ffe06ec67422c9be04387cd26a7e043d","modified":1536225605683},{"_id":"public/draft/view.html","hash":"da5495787a8b8247b701dad76aef001296e5b4bc","modified":1536225605683},{"_id":"public/tags/index.html","hash":"008063ca7dd29fb8c12b1c5bc737ce09c0136e9f","modified":1536225605684},{"_id":"public/2018/08/08/jvm/kotlin/better_hideCost/index.html","hash":"479460a52d38fb5f76018fb73b13acaa309a8f11","modified":1536225605684},{"_id":"public/2018/01/05/base/base_02_keyEncrypt/index.html","hash":"aee2aa911c62a92690f735d659479c03e209c85a","modified":1536225605684},{"_id":"public/2018/01/01/base/base_01_StringCode/index.html","hash":"27586fe313353880513c29405fd4b26ce2bef98e","modified":1536225605684},{"_id":"public/2017/12/12/use/shadowsocks-go/index.html","hash":"63528aa16155b5f9cab2a8c3f3df25e4785cdd99","modified":1536225605684},{"_id":"public/2017/06/10/SqlSwitch-Spring/index.html","hash":"17b0bdfc322112b5de3903a929b725b3edbefe91","modified":1536225605684},{"_id":"public/2017/10/10/algorithm/game/麻将胡牌算法/index.html","hash":"86ba74426bb79868aa3bec9b43308759562a6180","modified":1536225605684},{"_id":"public/2017/02/10/setting/plus-next-img/index.html","hash":"78500a0e3192023f55367668547c78002f9888f8","modified":1536225605685},{"_id":"public/2017/01/10/setting/setting-hexo/index.html","hash":"efb643edc317d5bad540325d4f401f2b17329494","modified":1536240718489},{"_id":"public/2016/07/12/install/install_mysql/index.html","hash":"46a2a24552fd04df5be4a243ca1edcde40a14b34","modified":1536225605684},{"_id":"public/2016/07/12/install/install_jvm&tomcat/index.html","hash":"62df79b913a3f39aa6fac531240142e6213d25f2","modified":1536225605685},{"_id":"public/archives/index.html","hash":"c6ff9a9957c8800242397607ed364822201d6e69","modified":1536225605685},{"_id":"public/archives/2016/index.html","hash":"a97d64ac4fe71dbef5009cb4d2601ae2ee8df8eb","modified":1536225605685},{"_id":"public/archives/2016/07/index.html","hash":"985dc019a0df69fd5a44bab04eb6b8463c427272","modified":1536225605685},{"_id":"public/archives/2017/index.html","hash":"71bfa1af70d3f987892d02ccb3f6f21e7f21d4d3","modified":1536225605685},{"_id":"public/archives/2017/01/index.html","hash":"2ebf627db49433e8793c5f194f1b1821b8b2e814","modified":1536225605685},{"_id":"public/archives/2017/02/index.html","hash":"b83022e52be008c418de8a3bedbd8cc73e969034","modified":1536225605685},{"_id":"public/archives/2017/06/index.html","hash":"8192fa5524164a61db0df59051a7425f5588aa6e","modified":1536225605685},{"_id":"public/archives/2017/10/index.html","hash":"6b8c3fe34bd8172c2d32d95caf3b169947cbdcd9","modified":1536225605685},{"_id":"public/archives/2017/12/index.html","hash":"6cfdfb7a7c4f6bcf94db9058ea881b05045b80ac","modified":1536225605685},{"_id":"public/archives/2018/index.html","hash":"d2d893aea17d0c154ae8056afbed8151bcd36a24","modified":1536225605685},{"_id":"public/archives/2018/01/index.html","hash":"43f598cd08a6ae8a4c3671f04912777dd810284d","modified":1536225605685},{"_id":"public/archives/2018/08/index.html","hash":"50cb20045f704fdbd50863f4265687f36bdd46a1","modified":1536225605685},{"_id":"public/categories/Base/index.html","hash":"cfb63f38fa6596235ead01bc77b2ef70699b5fc0","modified":1536225605686},{"_id":"public/categories/install/index.html","hash":"af78d479efc8f0214d2f5c5509b48d101d02c784","modified":1536225605686},{"_id":"public/categories/setting/index.html","hash":"87687cae414594d738f042185e01218723bb27e8","modified":1536225605686},{"_id":"public/categories/use/index.html","hash":"f15dfb9fd197716864894dc95738ca5b4ade4f18","modified":1536225605686},{"_id":"public/categories/setting/blog/index.html","hash":"2dd4c6fccf7141a263d33deca0a95d4399563c7a","modified":1536225605686},{"_id":"public/categories/install/linux/index.html","hash":"037185728e5ae6f7394f66130b00e2a0e0280a11","modified":1536225605686},{"_id":"public/categories/setting/blog/plus/index.html","hash":"dbb566ece719f4e0d84126da64a62e19f4c8af49","modified":1536225605686},{"_id":"public/categories/algorithm/index.html","hash":"9fb6e9151ceeb1017a324eac62e732498c80d8ba","modified":1536225605686},{"_id":"public/categories/jvm/index.html","hash":"5ce649b4ba31e7f0636a4fbb11d6b42c84318346","modified":1536225605686},{"_id":"public/categories/algorithm/game/index.html","hash":"0c8df1341d0dcd49e81ed23aef4960799dbf3993","modified":1536225605686},{"_id":"public/categories/jvm/kotlin/index.html","hash":"5b510db990af793c0f76f869b97300bc31ae1063","modified":1536225605686},{"_id":"public/index.html","hash":"5688cab5e63258980335a99379c99dacd2055277","modified":1536240718490},{"_id":"public/tags/Spring/index.html","hash":"00f3acc1ff6450401013c107ff2fd846e7499033","modified":1536225605686},{"_id":"public/tags/SQL/index.html","hash":"eb36b18791c6b6506910b8ab7ddd094c2fc4a083","modified":1536225605686},{"_id":"public/tags/database-hotChange/index.html","hash":"7055e92711987460109e78da106549ed5c86cc18","modified":1536225605686},{"_id":"public/tags/base/index.html","hash":"cdeafa61be75471c8181fcc1277dfd87cc511a1b","modified":1536225605686},{"_id":"public/tags/String/index.html","hash":"338645706a829f40f731b2bf07aac0591c8c3409","modified":1536225605686},{"_id":"public/tags/Decode/index.html","hash":"8ed67027d31fa361f4b9501899164b79234dd67c","modified":1536225605687},{"_id":"public/tags/encrypt/index.html","hash":"d750b8528d1544d03f6b6ebf52045a7eacb341b2","modified":1536225605687},{"_id":"public/tags/algorithm/index.html","hash":"082b09fbbb45082005979e23558ccc2185e208b7","modified":1536225605687},{"_id":"public/tags/java/index.html","hash":"fd5cbeb5adb32e54cca2169f43f9732dbaad1928","modified":1536225605687},{"_id":"public/tags/tomcat/index.html","hash":"d31276ebcb4f3f86c36b2defd5a3d1f320e10bc5","modified":1536225605687},{"_id":"public/tags/install/index.html","hash":"66e3e3144fe1ce5e37f8b6ef848f23131cb52f92","modified":1536225605687},{"_id":"public/tags/mysql/index.html","hash":"8b12ecf49d6b329b06738faf376de8b9e72318d1","modified":1536225605687},{"_id":"public/tags/hexo/index.html","hash":"d76ab5804e10ab0c07b5e2d73cd09c5cc40e0539","modified":1536225605687},{"_id":"public/tags/img/index.html","hash":"f553076e41f7b3ada91fbc3ac820c0a6d4409009","modified":1536225605687},{"_id":"public/tags/setting/index.html","hash":"3aa9dc34e5964b7533c9ae9b42a5444d51dcae2e","modified":1536225605687},{"_id":"public/tags/go/index.html","hash":"d4ae8c68f970497fc3df06975dbf19dad6ebdcee","modified":1536225605687},{"_id":"public/tags/ss/index.html","hash":"ab94ba3c0f80532d9f551a8959be117a6838a10f","modified":1536225605688},{"_id":"public/tags/use/index.html","hash":"5a7cd359948f426040358564ad3582a2d34293d7","modified":1536225605688},{"_id":"public/tags/shadowsocks/index.html","hash":"f037fd8a65c2eb23142e239d8cf4696956800892","modified":1536225605688},{"_id":"public/tags/game/index.html","hash":"04f26fc35bfcb00f8802b2dbe0f572b96925ce2d","modified":1536225605688},{"_id":"public/tags/kotlin/index.html","hash":"41cb3ebffffac0ee2503ac49e923aa465ab9c575","modified":1536225605823},{"_id":"public/tags/算法/index.html","hash":"22bc25bc48f2452658bf32254471941f711b5510","modified":1536225605823},{"_id":"public/tags/麻将/index.html","hash":"9b1ff6d6d6b658f52e7977fd81a5abb7e41de614","modified":1536225605688},{"_id":"public/tags/cost/index.html","hash":"dc98d6ed6334bd73d115df2bab752225777a818c","modified":1536225605823},{"_id":"public/tags/优化/index.html","hash":"cb90ba7b26f7b2e3ef32703fe6e8583ba807102a","modified":1536225605824},{"_id":"public/2017/06/10/life/台湾的记录/index.html","hash":"ceeb0266d6871c2653d26c15afb7784ae8d607f5","modified":1535175107126},{"_id":"public/archives/page/2/index.html","hash":"920f6262b5ff3e7b8f126caeea6c785a59059d7b","modified":1536225605685},{"_id":"public/page/2/index.html","hash":"18fa8eee47d17d160529ae53840ea63600f8babb","modified":1536225605686},{"_id":"public/tags/life/index.html","hash":"5f5832f02a0ced2a2db1233e8475cd856e310a88","modified":1535160408881},{"_id":"public/tags/travel/index.html","hash":"e42adc487907372b35d0f3e82d64430c353f5e38","modified":1535160408882},{"_id":"public/CNAME","hash":"e8a2b1a0ddc444a00a53229690a4a1de2475649d","modified":1535160408890},{"_id":"public/baidu_verify_LTdH7sdSdx.html","hash":"68811e8e3cabefb6580763b03bafb119d36cdc4b","modified":1535160408890},{"_id":"public/googleb2b4a4dcdb4a9ac4.html","hash":"c24887874e749e1b988975ca23da9950a6e69fb1","modified":1535160408890},{"_id":"public/images/apple-touch-icon-next.png","hash":"2959dbc97f31c80283e67104fe0854e2369e40aa","modified":1535160408890},{"_id":"public/images/algolia_logo.svg","hash":"45eeea0b5fba833e21e38ea10ed5ab385ceb4f01","modified":1535160408891},{"_id":"public/images/avatar.gif","hash":"264082bb3a1af70d5499c7d22b0902cb454b6d12","modified":1535160408891},{"_id":"public/images/avatar.png","hash":"d8ad9079ac4d2128b9d4328ffdf5ddf8cd0d5fa1","modified":1535160408891},{"_id":"public/images/cc-by-nc-nd.svg","hash":"bc3588c9b2d7c68830524783120ff6cf957cf668","modified":1535160408891},{"_id":"public/images/cc-by-nc-sa.svg","hash":"6f55543d1fb9cbc436c101d24f802dec7b41efc3","modified":1535160408891},{"_id":"public/images/cc-by-nc.svg","hash":"6f076713fb9bf934aa2c1046bdf2cf2e37bc1eab","modified":1535160408891},{"_id":"public/images/cc-by-nd.svg","hash":"42cd73da328077ccc92f859bb8f3cf621b3484f8","modified":1535160408891},{"_id":"public/images/cc-by-sa.svg","hash":"70c1535f43e54e5ff35ca81419e77e4c0c301398","modified":1535160408891},{"_id":"public/images/cc-by.svg","hash":"e92a33c32d1dac8ed94849b2b4e6456e887efe70","modified":1535160408891},{"_id":"public/images/cc-zero.svg","hash":"9bfb52b2f63527a7049247bf00d44e6dc1170e7d","modified":1535160408893},{"_id":"public/images/favicon-16x16-next.png","hash":"943a0d67a9cdf8c198109b28f9dbd42f761d11c3","modified":1535160408893},{"_id":"public/images/favicon-32x32-next.png","hash":"0749d7b24b0d2fae1c8eb7f671ad4646ee1894b1","modified":1535160408893},{"_id":"public/images/loading.gif","hash":"5fbd472222feb8a22cf5b8aa5dc5b8e13af88e2b","modified":1535160408893},{"_id":"public/images/logo.svg","hash":"169f56fd82941591dad3abd734a50ec7259be950","modified":1535160408893},{"_id":"public/images/placeholder.gif","hash":"5fbd472222feb8a22cf5b8aa5dc5b8e13af88e2b","modified":1535160408893},{"_id":"public/images/quote-l.svg","hash":"cd108d6f44351cadf8e6742565217f88818a0458","modified":1535160408893},{"_id":"public/images/quote-r.svg","hash":"2a2a250b32a87c69dcc1b1976c74b747bedbfb41","modified":1535160408893},{"_id":"public/images/searchicon.png","hash":"67727a6a969be0b2659b908518fa6706eed307b8","modified":1535160408894},{"_id":"public/lib/fastclick/LICENSE","hash":"6f474ea75c42442da7bbcf2e9143ce98258efd8d","modified":1535160408894},{"_id":"public/lib/font-awesome/HELP-US-OUT.txt","hash":"ee33b2798b1e714b904d663436c6b3521011d1fa","modified":1535160408894},{"_id":"public/lib/fancybox/source/blank.gif","hash":"2daeaa8b5f19f0bc209d976c02bd6acb51b00b0a","modified":1535160408894},{"_id":"public/lib/fancybox/source/fancybox_loading.gif","hash":"1a755fb2599f3a313cc6cfdb14df043f8c14a99c","modified":1535160408894},{"_id":"public/lib/fancybox/source/fancybox_loading@2x.gif","hash":"273b123496a42ba45c3416adb027cd99745058b0","modified":1535160408894},{"_id":"public/lib/fancybox/source/fancybox_overlay.png","hash":"b3a4ee645ba494f52840ef8412015ba0f465dbe0","modified":1535160408894},{"_id":"public/lib/fancybox/source/fancybox_sprite.png","hash":"17df19f97628e77be09c352bf27425faea248251","modified":1535160408895},{"_id":"public/lib/fancybox/source/fancybox_sprite@2x.png","hash":"30c58913f327e28f466a00f4c1ac8001b560aed8","modified":1535160408895},{"_id":"public/lib/font-awesome/css/font-awesome.css.map","hash":"1573904b82807abbb32c97a3632c6c6808eaac50","modified":1535160408895},{"_id":"public/lib/Han/dist/font/han-space.woff","hash":"7a635062b10bf5662ae1d218ba0980171005d060","modified":1535160408895},{"_id":"public/lib/Han/dist/font/han-space.otf","hash":"07436f011b44051f61b8329c99de4bec64e86f4b","modified":1535160408895},{"_id":"public/lib/Han/dist/font/han.otf","hash":"f1f6bb8f461f5672e000380195d3d2358a28494c","modified":1535160408895},{"_id":"public/lib/Han/dist/font/han.woff","hash":"f38ff9b2eecaa17b50b66aa2dae87e9e7436d195","modified":1535160408895},{"_id":"public/lib/Han/dist/font/han.woff2","hash":"623af3ed5423371ac136a4fe0e8cc7bb7396037a","modified":1535160408895},{"_id":"public/lib/fancybox/source/helpers/fancybox_buttons.png","hash":"e385b139516c6813dcd64b8fc431c364ceafe5f3","modified":1535160408895},{"_id":"public/2016/07/12/install/install_mysql/1.check.png","hash":"47410d070a29baec7090f533f5829deb3d61824d","modified":1535160408895},{"_id":"public/2016/07/12/install/install_mysql/2.remove1.png","hash":"9925b0d5ec9ff5efd54d39a32f57d96e1a5261eb","modified":1535160408895},{"_id":"public/2016/07/12/install/install_mysql/3.getdep.png","hash":"609f56944ca645e308b31b5dad95b2c2f8f31a6e","modified":1535160408895},{"_id":"public/2016/07/12/install/install_mysql/4.findfiles.png","hash":"3055d928dca30ec8cbb1f796c075bb6df7332ea3","modified":1535160408895},{"_id":"public/2016/07/12/install/install_mysql/5.del.png","hash":"69ba0d8f3581c31be745a853f20bbfd500973e61","modified":1535160408895},{"_id":"public/assets/js/APlayer.min.js","hash":"22caa28ff6b41a16ff40f15d38f1739e22359478","modified":1535160408895},{"_id":"public/assets/css/APlayer.min.css","hash":"07372a2ba507388d0fed166d761b1c2c2a659dce","modified":1535160408896},{"_id":"public/assets/js/Meting.min.js","hash":"a0585220b918d78649a7893279e1ec4fb5abe835","modified":1535160408897},{"_id":"public/assets/css/DPlayer.min.css","hash":"bbfcb2564dd7643cf54c27e464de586cb3ef0b8b","modified":1535160408897},{"_id":"public/lib/font-awesome/fonts/fontawesome-webfont.woff","hash":"28b782240b3e76db824e12c02754a9731a167527","modified":1535160409450},{"_id":"public/lib/font-awesome/fonts/fontawesome-webfont.woff2","hash":"d6f48cba7d076fb6f2fd6ba993a75b9dc1ecbf0c","modified":1535160409457},{"_id":"public/2016/07/12/install/install_jvm&tomcat/1.jdk-license.png","hash":"1699c58dbbd0839f3e5484935fa89e95366e3aee","modified":1535160409462},{"_id":"public/assets/js/DPlayer.min.js","hash":"4093ba933f60bd05c3a482433b2f2b4bf48cbd9a","modified":1535160409463},{"_id":"public/js/src/affix.js","hash":"978e0422b5bf1b560236d8d10ebc1adcf66392e3","modified":1535160409475},{"_id":"public/js/src/algolia-search.js","hash":"b172f697ed339a24b1e80261075232978d164c35","modified":1535160409475},{"_id":"public/js/src/bootstrap.js","hash":"034bc8113e0966fe2096ba5b56061bbf10ef0512","modified":1535160409475},{"_id":"public/js/src/exturl.js","hash":"e42e2aaab7bf4c19a0c8e779140e079c6aa5c0b1","modified":1535160409475},{"_id":"public/js/src/hook-duoshuo.js","hash":"a6119070c0119f33e08b29da7d2cce2635eb40a0","modified":1535160409475},{"_id":"public/js/src/js.cookie.js","hash":"9b37973a90fd50e71ea91682265715e45ae82c75","modified":1535160409479},{"_id":"public/js/src/motion.js","hash":"754b294394f102c8fd9423a1789ddb1201677898","modified":1535160409479},{"_id":"public/js/src/post-details.js","hash":"a13f45f7aa8291cf7244ec5ba93907d119c5dbdd","modified":1535160409479},{"_id":"public/js/src/scroll-cookie.js","hash":"09dc828cbf5f31158ff6250d2bf7c3cde6365c67","modified":1535160409480},{"_id":"public/js/src/scrollspy.js","hash":"fe4da1b9fe73518226446f5f27d2831e4426fc35","modified":1535160409480},{"_id":"public/js/src/utils.js","hash":"9b1325801d27213083d1487a12b1a62b539ab6f8","modified":1535160409480},{"_id":"public/lib/algolia-instant-search/instantsearch.min.css","hash":"90ef19edc982645b118b095615838d9c5eaba0de","modified":1535160409481},{"_id":"public/lib/canvas-nest/canvas-nest.min.js","hash":"0387e75e23b1db108a755073fe52a0d03eb391a7","modified":1535160409481},{"_id":"public/lib/canvas-ribbon/canvas-ribbon.js","hash":"ff5915eb2596e890a2fc6697c864f861a1995ec0","modified":1535160409481},{"_id":"public/lib/fastclick/bower.json","hash":"4dcecf83afddba148464d5339c93f6d0aa9f42e9","modified":1535160409481},{"_id":"public/lib/font-awesome/bower.json","hash":"64394a2a9aa00f8e321d8daa5e51a420f0e96dad","modified":1535160409481},{"_id":"public/lib/jquery_lazyload/bower.json","hash":"ae3c3b61e6e7f9e1d7e3585ad854380ecc04cf53","modified":1535160409481},{"_id":"public/lib/jquery_lazyload/jquery.lazyload.js","hash":"481fd478650e12b67c201a0ea41e92743f8b45a3","modified":1535160409481},{"_id":"public/lib/jquery_lazyload/jquery.scrollstop.js","hash":"0e9a81785a011c98be5ea821a8ed7d411818cfd1","modified":1535160409481},{"_id":"public/lib/needsharebutton/needsharebutton.css","hash":"3ef0020a1815ca6151ea4886cd0d37421ae3695c","modified":1535160409482},{"_id":"public/lib/pace/pace-theme-big-counter.min.css","hash":"5b561dc328af4c4d512e20a76fe964d113a32ba8","modified":1535160409482},{"_id":"public/lib/pace/pace-theme-barber-shop.min.css","hash":"ee0d51446cb4ffe1bb96bd7bc8c8e046dddfcf46","modified":1535160409482},{"_id":"public/lib/pace/pace-theme-bounce.min.css","hash":"f6bdb9a785b7979dd8ec5c60e278af955ef1e585","modified":1535160409482},{"_id":"public/lib/pace/pace-theme-center-atom.min.css","hash":"dcf79c24fe5350fb73d8038573a104e73639e9d3","modified":1535160409482},{"_id":"public/lib/pace/pace-theme-center-circle.min.css","hash":"a4066769c78affbfbc5e30a600e2c7862cd532e0","modified":1535160409482},{"_id":"public/lib/pace/pace-theme-center-radar.min.css","hash":"ab7cba998bf4c03b13df342bf43647fa4f419783","modified":1535160409482},{"_id":"public/lib/pace/pace-theme-center-simple.min.css","hash":"67f44c947548bd4d77e7590d3f59e236cbf9e98a","modified":1535160409482},{"_id":"public/lib/pace/pace-theme-corner-indicator.min.css","hash":"b3c64c973f31884e3d8145989476707333406b9a","modified":1535160409482},{"_id":"public/lib/pace/pace-theme-fill-left.min.css","hash":"0bec1e235a4a2cccda3f993b205424e1441a44ae","modified":1535160409482},{"_id":"public/lib/pace/pace-theme-flash.min.css","hash":"13ace22c40312d7bbd8d9c1e50eff897a7a497d8","modified":1535160409482},{"_id":"public/lib/pace/pace-theme-mac-osx.min.css","hash":"9f2e7b51b084da407863826b25265b31150b3821","modified":1535160409482},{"_id":"public/lib/pace/pace-theme-loading-bar.min.css","hash":"7ee28875dfc1230d76c537f6605766e8d4011e9f","modified":1535160409482},{"_id":"public/lib/pace/pace-theme-minimal.min.css","hash":"9cd783cceb8a191f3c8b5d81f7a430ecc3e489d3","modified":1535160409482},{"_id":"public/lib/pace/pace.min.js","hash":"9944dfb7814b911090e96446cea4d36e2b487234","modified":1535160409483},{"_id":"public/lib/velocity/bower.json","hash":"0ef14e7ccdfba5db6eb3f8fc6aa3b47282c36409","modified":1535160409483},{"_id":"public/js/src/schemes/pisces.js","hash":"8050a5b2683d1d77238c5762b6bd89c543daed6e","modified":1535160409483},{"_id":"public/lib/velocity/velocity.ui.min.js","hash":"ed5e534cd680a25d8d14429af824f38a2c7d9908","modified":1535160409483},{"_id":"public/lib/fancybox/source/jquery.fancybox.css","hash":"5f163444617b6cf267342f06ac166a237bb62df9","modified":1535160409483},{"_id":"public/lib/fastclick/lib/fastclick.min.js","hash":"2cae0f5a6c5d6f3cb993015e6863f9483fc4de18","modified":1535160409483},{"_id":"public/lib/ua-parser-js/dist/ua-parser.min.js","hash":"38628e75e4412cc6f11074e03e1c6d257aae495b","modified":1535160409483},{"_id":"public/lib/ua-parser-js/dist/ua-parser.pack.js","hash":"214dad442a92d36af77ed0ca1d9092b16687f02f","modified":1535160409483},{"_id":"public/lib/fancybox/source/helpers/jquery.fancybox-buttons.css","hash":"1a9d8e5c22b371fcc69d4dbbb823d9c39f04c0c8","modified":1535160409483},{"_id":"public/lib/fancybox/source/helpers/jquery.fancybox-buttons.js","hash":"91e41741c2e93f732c82aaacec4cfc6e3f3ec876","modified":1535160409483},{"_id":"public/lib/fancybox/source/helpers/jquery.fancybox-media.js","hash":"3bdf69ed2469e4fb57f5a95f17300eef891ff90d","modified":1535160409483},{"_id":"public/lib/fancybox/source/helpers/jquery.fancybox-thumbs.css","hash":"4ac329c16a5277592fc12a37cca3d72ca4ec292f","modified":1535160409483},{"_id":"public/lib/fancybox/source/helpers/jquery.fancybox-thumbs.js","hash":"53e194f4a72e649c04fb586dd57762b8c022800b","modified":1535160409483},{"_id":"public/lib/fastclick/README.html","hash":"da3c74d484c73cc7df565e8abbfa4d6a5a18d4da","modified":1535160409483},{"_id":"public/lib/jquery_lazyload/CONTRIBUTING.html","hash":"a6358170d346af13b1452ac157b60505bec7015c","modified":1535160409483},{"_id":"public/lib/jquery_lazyload/README.html","hash":"bde24335f6bc09d8801c0dcd7274f71b466552bd","modified":1535160409483},{"_id":"public/css/main.css","hash":"02d6c8cd847dbea6d67bf3636b70eccd7b211a52","modified":1535160409483},{"_id":"public/lib/needsharebutton/font-embedded.css","hash":"c39d37278c1e178838732af21bd26cd0baeddfe0","modified":1535160409484},{"_id":"public/lib/needsharebutton/needsharebutton.js","hash":"9885fd9bea5e7ebafc5b1de9d17be5e106248d96","modified":1535160409484},{"_id":"public/lib/three/canvas_sphere.min.js","hash":"d8ea241a53c135a650f7335d2b6982b899fd58a9","modified":1535160409484},{"_id":"public/lib/three/three-waves.min.js","hash":"d968cba6b3a50b3626a02d67b544f349d83b147c","modified":1535160409484},{"_id":"public/lib/three/canvas_lines.min.js","hash":"dce4a3b65f8bf958f973690caa7ec4952f353b0c","modified":1535160409484},{"_id":"public/lib/velocity/velocity.min.js","hash":"2f1afadc12e4cf59ef3b405308d21baa97e739c6","modified":1535160409484},{"_id":"public/lib/velocity/velocity.ui.js","hash":"6a1d101eab3de87527bb54fcc8c7b36b79d8f0df","modified":1535160409484},{"_id":"public/lib/jquery/index.js","hash":"41b4bfbaa96be6d1440db6e78004ade1c134e276","modified":1535160409484},{"_id":"public/lib/Han/dist/han.css","hash":"bd40da3fba8735df5850956814e312bd7b3193d7","modified":1535160409484},{"_id":"public/lib/Han/dist/han.min.css","hash":"a0c9e32549a8b8cf327ab9227b037f323cdb60ee","modified":1535160409484},{"_id":"public/lib/Han/dist/han.min.js","hash":"f559c68a25065a14f47da954a7617d87263e409d","modified":1535160409484},{"_id":"public/lib/fancybox/source/jquery.fancybox.js","hash":"1cf3d47b5ccb7cb6e9019c64f2a88d03a64853e4","modified":1535160409484},{"_id":"public/lib/fancybox/source/jquery.fancybox.pack.js","hash":"53360764b429c212f424399384417ccc233bb3be","modified":1535160409484},{"_id":"public/lib/fastclick/lib/fastclick.js","hash":"06cef196733a710e77ad7e386ced6963f092dc55","modified":1535160409485},{"_id":"public/lib/font-awesome/css/font-awesome.css","hash":"0140952c64e3f2b74ef64e050f2fe86eab6624c8","modified":1535160409485},{"_id":"public/lib/font-awesome/css/font-awesome.min.css","hash":"512c7d79033e3028a9be61b540cf1a6870c896f8","modified":1535160409485},{"_id":"public/lib/Han/dist/han.js","hash":"e345397e0585c9fed1449e614ec13e0224acf2ab","modified":1535160409485},{"_id":"public/lib/velocity/velocity.js","hash":"9f08181baea0cc0e906703b7e5df9111b9ef3373","modified":1535160409485},{"_id":"public/lib/algolia-instant-search/instantsearch.min.js","hash":"9ccc6f8144f54e86df9a3fd33a18368d81cf3a4f","modified":1535160409485},{"_id":"public/lib/three/three.min.js","hash":"73f4cdc17e51a72b9bf5b9291f65386d615c483b","modified":1535160409485},{"_id":"public/lib/font-awesome/fonts/FontAwesome.otf","hash":"048707bc52ac4b6563aaa383bfe8660a0ddc908c","modified":1535160409485},{"_id":"public/lib/font-awesome/fonts/fontawesome-webfont.ttf","hash":"13b1eab65a983c7a73bc7997c479d66943f7c6cb","modified":1535160409486},{"_id":"public/lib/font-awesome/fonts/fontawesome-webfont.eot","hash":"d980c2ce873dc43af460d4d572d441304499f400","modified":1535160409486},{"_id":"public/lib/font-awesome/fonts/fontawesome-webfont.svg","hash":"b5483b11f8ba213e733b5b8af9927a04fec996f6","modified":1535160409523},{"_id":"public/images/avatar2.png","hash":"1f125a7b17961481ba8a1f937a3b7694f247454f","modified":1535160409545},{"_id":"source/_posts/base/base_03_DesignPattern.md","hash":"6b86ecc3bdc6cb8d493cc58239f2e50e761990d1","modified":1536239503180},{"_id":"public/2018/08/28/base/base_03_DesignPattern/index.html","hash":"75b4d5265a72c2d2be687beb8deafb42594e6aac","modified":1536240718489},{"_id":"public/tags/architect/index.html","hash":"08897c2ea1cef7c2924f86fa2a7b727dc828ed01","modified":1536225605824},{"_id":"public/tags/Design/index.html","hash":"5b55d5cc705adb1b980729f5faf0133a07a85b35","modified":1536225605824},{"_id":"public/tags/pattern/index.html","hash":"faa20ab02ac0b08692564cd1299eaf50c0c511c0","modified":1536225605824},{"_id":"source/_posts/base/base_03_DesignPattern/计算器的简单工厂结构.png","hash":"f53eaf29abeeffa901411893a64569517d43bb2d","modified":1536239108339},{"_id":"source/_posts/base/base_03_DesignPattern/计算器的工厂方法结构.png","hash":"e85bfaedb7a1bdda0a4a51e9b4c3fc9e2b062f3c","modified":1536239189692},{"_id":"public/2018/08/28/base/base_03_DesignPattern/计算器的简单工厂结构.png","hash":"f53eaf29abeeffa901411893a64569517d43bb2d","modified":1536240718500},{"_id":"public/2018/08/28/base/base_03_DesignPattern/计算器的工厂方法结构.png","hash":"e85bfaedb7a1bdda0a4a51e9b4c3fc9e2b062f3c","modified":1536240718501}],"Category":[{"name":"Base","_id":"cjl8qv5t6000dhkehq5l3bwfo"},{"name":"install","_id":"cjl8qv5th000mhkehbmh0nhp4"},{"name":"setting","_id":"cjl8qv5tl000uhkehlof3szmn"},{"name":"use","_id":"cjl8qv5tn0010hkeh1ot68kp2"},{"name":"linux","parent":"cjl8qv5th000mhkehbmh0nhp4","_id":"cjl8qv5to0013hkehbp421b7q"},{"name":"blog","parent":"cjl8qv5tl000uhkehlof3szmn","_id":"cjl8qv5tp001ahkehvqxvp209"},{"name":"plus","parent":"cjl8qv5tp001ahkehvqxvp209","_id":"cjl8qv5ts001lhkehk592oamj"},{"name":"algorithm","_id":"cjl8qv5wq002jhkeh1gxqdnkz"},{"name":"jvm","_id":"cjl8qv5ws002lhkehfn8j498c"},{"name":"game","parent":"cjl8qv5wq002jhkeh1gxqdnkz","_id":"cjl8qv5wt002nhkehavvgxudm"},{"name":"kotlin","parent":"cjl8qv5ws002lhkehfn8j498c","_id":"cjl8qv5wt002phkehw9eyzryp"}],"Data":[],"Page":[{"title":"关于","date":"2018-06-15T09:13:40.000Z","type":"about","comments":0,"_content":"\nhi\nthis ","source":"about/index.md","raw":"---\ntitle: 关于\ndate: 2018-06-15 17:13:40\ntype: \"about\"\ncomments: false\n---\n\nhi\nthis ","updated":"2018-08-23T13:02:24.821Z","path":"about/index.html","layout":"page","_id":"cjl8qv5gr0001hkehx4cubr1l","content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"\\assets\\css\\APlayer.min.css\"><script src=\"\\assets\\js\\APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><p>hi\nthis </p>\n","site":{"data":{}},"excerpt":"","more":"<p>hi\nthis </p>\n"},{"title":"分类","date":"2016-10-21T03:59:10.000Z","type":"categories","comments":0,"_content":"","source":"categories/index.md","raw":"---\ntitle: 分类\ndate: 2016-10-21 11:59:10\ntype: \"categories\"\ncomments: false\n---","updated":"2018-08-23T12:58:01.851Z","path":"categories/index.html","layout":"page","_id":"cjl8qv5qy0008hkehjrjtso9o","content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"\\assets\\css\\APlayer.min.css\"><script src=\"\\assets\\js\\APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script>","site":{"data":{}},"excerpt":"","more":""},{"_content":"## Army Content\n+ admin:**虹西**\n+ date: **2018/05/07**\n\n> #### \n> #### \n\n\n## Main Content\n\n### 1.\n1、面向对象的特征有哪些方面？\n\n2、访问修饰符public,private,protected,以及不写（默认）时的区别？\n\n3、String 是最基本的数据类型吗？  \n4、float f=3.4;是否正确？  \n5、short s1 = 1; s1 = s1 + 1;有错吗?short s1 = 1; s1 += 1;有错吗？  \n6、Java有没有goto？    \n7、int和Integer有什么区别？  \n8、&amp;和&amp;&amp;的区别？  \n9、解释内存中的栈(stack)、堆(heap)和静态区(static area)的用法。  \n10、Math.round(11.5) 等于多少？Math.round(-11.5)等于多少？  \n11、switch 是否能作用在byte 上，是否能作用在long 上，是否能作用在String上？  \n12、用最有效率的方法计算2乘以8？  \n13、数组有没有length()方法？String有没有length()方法？  \n14、在Java中，如何跳出当前的多重嵌套循环？  \n15、构造器（constructor）是否可被重写（override）？  \n16、两个对象值相同(x.equals(y) == true)，但却可有不同的hash code，这句话对不对？  \n17、是否可以继承String类？  \n18、当一个对象被当作参数传递到一个方法后，此方法可改变这个对象的属性，并可返回变化后的结果，那么这里到底是值传递还是引用传递？\n19、String和StringBuilder、StringBuffer的区别？  \n20、重载（Overload）和重写（Override）的区别。重载的方法能否根据返回类型进行区分？  \n21、描述一下JVM加载class文件的原理机制？  \n22、char 型变量中能不能存贮一个中文汉字，为什么？  \n23、抽象类（abstract class）和接口（interface）有什么异同？  \n24、静态嵌套类(Static Nested Class)和内部类（Inner Class）的不同？  \n25、Java 中会存在内存泄漏吗，请简单描述。  \n26、抽象的（abstract）方法是否可同时是静态的（static）,是否可同时是本地方法（native），是否可同时被synchronized修饰？\n27、阐述静态变量和实例变量的区别。  \n28、是否可以从一个静态（static）方法内部发出对非静态（non-static）方法的调用？  \n29、如何实现对象克隆？  \n31、String s = new String(\"xyz\");创建了几个字符串对象？  \n32、接口是否可继承（extends）接口？抽象类是否可实现（implements）接口？抽象类是否可继承具体类（concrete class）？\n33、一个\".java\"源文件中是否可以包含多个类（不是内部类）？有什么限制？  \n34、Anonymous Inner Class(匿名内部类)是否可以继承其它类？是否可以实现接口？  \n35、内部类可以引用它的包含类（外部类）的成员吗？有没有什么限制？  \n36、Java 中的final关键字有哪些用法？  \n38、数据类型之间的转换：  \n39、如何实现字符串的反转及替换？  \n40、怎样将GB2312编码的字符串转换为ISO-8859-1编码的字符串？  \n41、日期和时间：  \n42、打印昨天的当前时刻。  \n43、比较一下Java和JavaSciprt。  \n44、什么时候用断言（assert）？  \n45、Error和Exception有什么区别？\n46、try{}里有一个return语句，那么紧跟在这个try后的finally{}里的代码会不会被执行，什么时候被执行，在return前还是后?\n47、Java语言如何进行异常处理，关键字：throws、throw、try、catch、finally分别如何使用？\n48、运行时异常与受检异常有何异同？\n49、列出一些你常见的运行时异常？\n50、阐述final、finally、finalize的区别。\n51、类ExampleA继承Exception，类ExampleB继承ExampleA。\n请问执行此段代码的输出是什么？\n52、List、Set、Map是否继承自Collection接口？\n53、阐述ArrayList、Vector、LinkedList的存储性能和特性。\n54、Collection和Collections的区别？\n55、List、Map、Set三个接口存取元素时，各有什么特点？\n56、TreeMap和TreeSet在排序时如何比较元素？Collections工具类中的sort()方法如何比较元素？\n57、Thread类的sleep()方法和对象的wait()方法都可以让线程暂停执行，它们有什么区别?\n58、线程的sleep()方法和yield()方法有什么区别？\n59、当一个线程进入一个对象的synchronized方法A之后，其它线程是否可进入此对象的synchronized方法B？\n60、请说出与线程同步以及线程调度相关的方法。\n61、编写多线程程序有几种实现方式？\n62、synchronized关键字的用法？\n63、举例说明同步和异步。\n64、启动一个线程是调用run()还是start()方法？\n65、什么是线程池（thread pool）？\n66、线程的基本状态以及状态之间的关系？\n67、简述synchronized 和java.util.concurrent.locks.Lock的异同？\n68、Java中如何实现序列化，有什么意义？\n69、Java中有几种类型的流？\n70、写一个方法，输入一个文件名和一个字符串，统计这个字符串在这个文件中出现的次数。\n71、如何用Java代码列出一个目录下所有的文件？\n72、用Java的套接字编程实现一个多线程的回显（echo）服务器。\n73、XML文档定义有几种形式？它们之间有何本质区别？解析XML文档有哪几种方式？\n74、你在项目中哪些地方用到了XML？\n75、阐述JDBC操作数据库的步骤。\n76、Statement和PreparedStatement有什么区别？哪个性能更好？\n77、使用JDBC操作数据库时，如何提升读取数据的性能？如何提升更新数据的性能？\n78、在进行数据库编程时，连接池有什么作用？\n79、什么是DAO模式？\n80、事务的ACID是指什么？\n81、JDBC中如何进行事务处理？\n82、JDBC能否处理Blob和Clob？\n83、简述正则表达式及其用途。\n84、Java中是如何支持正则表达式操作的？\n85、获得一个类的类对象有哪些方式？\n86、如何通过反射创建对象？\n87、如何通过反射获取和设置对象私有字段的值？\n88、如何通过反射调用对象的方法？\n89、简述一下面向对象的\"六原则一法则\"。\n90、简述一下你了解的设计模式。\n91、用Java写一个单例类。\n92、什么是UML？\n93、UML中有哪些常用的图？\n94、用Java写一个冒泡排序。\n95、用Java写一个折半查找。\n\nJava面试题全集（以下列出题目，看答案请转至：Java面试题全集（中））\n\n96、阐述Servlet和CGI的区别?  \n97、Servlet接口中有哪些方法？  \n98、转发（forward）和重定向（redirect）的区别？\n99、JSP有哪些内置对象？作用分别是什么？\n100、get和post请求的区别？\n101、常用的Web服务器有哪些？\n102、JSP和Servlet是什么关系？\n103、讲解JSP中的四种作用域。\n104、如何实现JSP或Servlet的单线程模式？\n105、实现会话跟踪的技术有哪些？\n106、过滤器有哪些作用和用法？\n107、监听器有哪些作用和用法？\n108、web.xml文件中可以配置哪些内容？\n109、你的项目中使用过哪些JSTL标签？\n110、使用标签库有什么好处？如何自定义JSP标签？\n111、说一下表达式语言（EL）的隐式对象及其作用。\n112、表达式语言（EL）支持哪些运算符？\n113、Java Web开发的Model 1和Model 2分别指的是什么？\n114、Servlet 3中的异步处理指的是什么？\n115、如何在基于Java的Web项目中实现文件上传和下载？\n116、服务器收到用户提交的表单数据，到底是调用Servlet的doGet()还是doPost()方法？\n117、JSP中的静态包含和动态包含有什么区别？\n118、Servlet中如何获取用户提交的查询参数或表单数据？\n119、Servlet中如何获取用户配置的初始化参数以及服务器上下文参数？\n120、如何设置请求的编码以及响应内容的类型？\n121、解释一下网络应用的模式及其特点。\n122、什么是Web Service（Web服务）？\n123、概念解释：SOAP、WSDL、UDDI。\n124、Java规范中和Web Service相关的规范有哪些？\n125、介绍一下你了解的Java领域的Web Service框架。\n\nJava面试题全集（以下列出题目，整理以及看答案请转至：Java面试题全集（下））\n\n126、什么是ORM？\n127、持久层设计要考虑的问题有哪些？你用过的持久层框架有哪些？\n128、Hibernate中SessionFactory是线程安全的吗？Session是线程安全的吗（两个线程能够共享同一个Session吗）？\n129、Hibernate中Session的load和get方法的区别是什么？\n130、Session的save()、update()、merge()、lock()、saveOrUpdate()和persist()方法分别是做什么的？有什么区别？\n131、阐述Session加载实体对象的过程。\n132、Query接口的list方法和iterate方法有什么区别？\n133、Hibernate如何实现分页查询？\n134、锁机制有什么用？简述Hibernate的悲观锁和乐观锁机制。\n135、阐述实体对象的三种状态以及转换关系。\n136、如何理解Hibernate的延迟加载机制？在实际应用中，延迟加载与Session关闭的矛盾是如何处理的？\n137、举一个多对多关联的例子，并说明如何实现多对多关联映射。\n138、谈一下你对继承映射的理解。\n139、简述Hibernate常见优化策略。\n140、谈一谈Hibernate的一级缓存、二级缓存和查询缓存。\n141、Hibernate中DetachedCriteria类是做什么的？\n142、@OneToMany注解的mappedBy属性有什么作用？\n143、MyBatis中使用<code>#</code>和<code>$</code>书写占位符有什么区别？\n144、解释一下MyBatis中命名空间（namespace）的作用。\n145、MyBatis中的动态SQL是什么意思？\n146、什么是IoC和DI？DI是如何实现的？\n147、Spring中Bean的作用域有哪些？\n148、解释一下什么叫AOP（面向切面编程）？\n149、你是如何理解\"横切关注\"这个概念的？\n150、你如何理解AOP中的连接点（Joinpoint）、切点（Pointcut）、增强（Advice）、引介（Introduction）、织入（Weaving）、切面（Aspect）这些概念？\n151、Spring中自动装配的方式有哪些？\n152、Spring中如何使用注解来配置Bean？有哪些相关的注解？\n153、Spring支持的事务管理类型有哪些？你在项目中使用哪种方式？\n154、如何在Web项目中配置Spring的IoC容器？\n155、如何在Web项目中配置Spring MVC？\n156、Spring MVC的工作原理是怎样的？\n157、如何在Spring IoC容器中配置数据源？\n158、如何配置配置事务增强？\n159、选择使用Spring框架的原因（Spring框架为企业级开发带来的好处有哪些）？\n160、Spring IoC容器配置Bean的方式？\n161、阐述Spring框架中Bean的生命周期？\n162、依赖注入时如何注入集合属性？\n163、Spring中的自动装配有哪些限制？\n164、在Web项目中如何获得Spring的IoC容器？\n165. 大型网站在架构上应当考虑哪些问题？\n166、你用过的网站前端优化的技术有哪些？\n167、你使用过的应用服务器优化技术有哪些？\n168、什么是XSS攻击？什么是SQL注入攻击？什么是CSRF攻击？\n169. 什么是领域模型(domain model)？贫血模型(anaemic domain model)和充血模型(rich domain model)有什么区别？\n170. 谈一谈测试驱动开发（TDD）的好处以及你的理解。","source":"draft/view.md","raw":"## Army Content\n+ admin:**虹西**\n+ date: **2018/05/07**\n\n> #### \n> #### \n\n\n## Main Content\n\n### 1.\n1、面向对象的特征有哪些方面？\n\n2、访问修饰符public,private,protected,以及不写（默认）时的区别？\n\n3、String 是最基本的数据类型吗？  \n4、float f=3.4;是否正确？  \n5、short s1 = 1; s1 = s1 + 1;有错吗?short s1 = 1; s1 += 1;有错吗？  \n6、Java有没有goto？    \n7、int和Integer有什么区别？  \n8、&amp;和&amp;&amp;的区别？  \n9、解释内存中的栈(stack)、堆(heap)和静态区(static area)的用法。  \n10、Math.round(11.5) 等于多少？Math.round(-11.5)等于多少？  \n11、switch 是否能作用在byte 上，是否能作用在long 上，是否能作用在String上？  \n12、用最有效率的方法计算2乘以8？  \n13、数组有没有length()方法？String有没有length()方法？  \n14、在Java中，如何跳出当前的多重嵌套循环？  \n15、构造器（constructor）是否可被重写（override）？  \n16、两个对象值相同(x.equals(y) == true)，但却可有不同的hash code，这句话对不对？  \n17、是否可以继承String类？  \n18、当一个对象被当作参数传递到一个方法后，此方法可改变这个对象的属性，并可返回变化后的结果，那么这里到底是值传递还是引用传递？\n19、String和StringBuilder、StringBuffer的区别？  \n20、重载（Overload）和重写（Override）的区别。重载的方法能否根据返回类型进行区分？  \n21、描述一下JVM加载class文件的原理机制？  \n22、char 型变量中能不能存贮一个中文汉字，为什么？  \n23、抽象类（abstract class）和接口（interface）有什么异同？  \n24、静态嵌套类(Static Nested Class)和内部类（Inner Class）的不同？  \n25、Java 中会存在内存泄漏吗，请简单描述。  \n26、抽象的（abstract）方法是否可同时是静态的（static）,是否可同时是本地方法（native），是否可同时被synchronized修饰？\n27、阐述静态变量和实例变量的区别。  \n28、是否可以从一个静态（static）方法内部发出对非静态（non-static）方法的调用？  \n29、如何实现对象克隆？  \n31、String s = new String(\"xyz\");创建了几个字符串对象？  \n32、接口是否可继承（extends）接口？抽象类是否可实现（implements）接口？抽象类是否可继承具体类（concrete class）？\n33、一个\".java\"源文件中是否可以包含多个类（不是内部类）？有什么限制？  \n34、Anonymous Inner Class(匿名内部类)是否可以继承其它类？是否可以实现接口？  \n35、内部类可以引用它的包含类（外部类）的成员吗？有没有什么限制？  \n36、Java 中的final关键字有哪些用法？  \n38、数据类型之间的转换：  \n39、如何实现字符串的反转及替换？  \n40、怎样将GB2312编码的字符串转换为ISO-8859-1编码的字符串？  \n41、日期和时间：  \n42、打印昨天的当前时刻。  \n43、比较一下Java和JavaSciprt。  \n44、什么时候用断言（assert）？  \n45、Error和Exception有什么区别？\n46、try{}里有一个return语句，那么紧跟在这个try后的finally{}里的代码会不会被执行，什么时候被执行，在return前还是后?\n47、Java语言如何进行异常处理，关键字：throws、throw、try、catch、finally分别如何使用？\n48、运行时异常与受检异常有何异同？\n49、列出一些你常见的运行时异常？\n50、阐述final、finally、finalize的区别。\n51、类ExampleA继承Exception，类ExampleB继承ExampleA。\n请问执行此段代码的输出是什么？\n52、List、Set、Map是否继承自Collection接口？\n53、阐述ArrayList、Vector、LinkedList的存储性能和特性。\n54、Collection和Collections的区别？\n55、List、Map、Set三个接口存取元素时，各有什么特点？\n56、TreeMap和TreeSet在排序时如何比较元素？Collections工具类中的sort()方法如何比较元素？\n57、Thread类的sleep()方法和对象的wait()方法都可以让线程暂停执行，它们有什么区别?\n58、线程的sleep()方法和yield()方法有什么区别？\n59、当一个线程进入一个对象的synchronized方法A之后，其它线程是否可进入此对象的synchronized方法B？\n60、请说出与线程同步以及线程调度相关的方法。\n61、编写多线程程序有几种实现方式？\n62、synchronized关键字的用法？\n63、举例说明同步和异步。\n64、启动一个线程是调用run()还是start()方法？\n65、什么是线程池（thread pool）？\n66、线程的基本状态以及状态之间的关系？\n67、简述synchronized 和java.util.concurrent.locks.Lock的异同？\n68、Java中如何实现序列化，有什么意义？\n69、Java中有几种类型的流？\n70、写一个方法，输入一个文件名和一个字符串，统计这个字符串在这个文件中出现的次数。\n71、如何用Java代码列出一个目录下所有的文件？\n72、用Java的套接字编程实现一个多线程的回显（echo）服务器。\n73、XML文档定义有几种形式？它们之间有何本质区别？解析XML文档有哪几种方式？\n74、你在项目中哪些地方用到了XML？\n75、阐述JDBC操作数据库的步骤。\n76、Statement和PreparedStatement有什么区别？哪个性能更好？\n77、使用JDBC操作数据库时，如何提升读取数据的性能？如何提升更新数据的性能？\n78、在进行数据库编程时，连接池有什么作用？\n79、什么是DAO模式？\n80、事务的ACID是指什么？\n81、JDBC中如何进行事务处理？\n82、JDBC能否处理Blob和Clob？\n83、简述正则表达式及其用途。\n84、Java中是如何支持正则表达式操作的？\n85、获得一个类的类对象有哪些方式？\n86、如何通过反射创建对象？\n87、如何通过反射获取和设置对象私有字段的值？\n88、如何通过反射调用对象的方法？\n89、简述一下面向对象的\"六原则一法则\"。\n90、简述一下你了解的设计模式。\n91、用Java写一个单例类。\n92、什么是UML？\n93、UML中有哪些常用的图？\n94、用Java写一个冒泡排序。\n95、用Java写一个折半查找。\n\nJava面试题全集（以下列出题目，看答案请转至：Java面试题全集（中））\n\n96、阐述Servlet和CGI的区别?  \n97、Servlet接口中有哪些方法？  \n98、转发（forward）和重定向（redirect）的区别？\n99、JSP有哪些内置对象？作用分别是什么？\n100、get和post请求的区别？\n101、常用的Web服务器有哪些？\n102、JSP和Servlet是什么关系？\n103、讲解JSP中的四种作用域。\n104、如何实现JSP或Servlet的单线程模式？\n105、实现会话跟踪的技术有哪些？\n106、过滤器有哪些作用和用法？\n107、监听器有哪些作用和用法？\n108、web.xml文件中可以配置哪些内容？\n109、你的项目中使用过哪些JSTL标签？\n110、使用标签库有什么好处？如何自定义JSP标签？\n111、说一下表达式语言（EL）的隐式对象及其作用。\n112、表达式语言（EL）支持哪些运算符？\n113、Java Web开发的Model 1和Model 2分别指的是什么？\n114、Servlet 3中的异步处理指的是什么？\n115、如何在基于Java的Web项目中实现文件上传和下载？\n116、服务器收到用户提交的表单数据，到底是调用Servlet的doGet()还是doPost()方法？\n117、JSP中的静态包含和动态包含有什么区别？\n118、Servlet中如何获取用户提交的查询参数或表单数据？\n119、Servlet中如何获取用户配置的初始化参数以及服务器上下文参数？\n120、如何设置请求的编码以及响应内容的类型？\n121、解释一下网络应用的模式及其特点。\n122、什么是Web Service（Web服务）？\n123、概念解释：SOAP、WSDL、UDDI。\n124、Java规范中和Web Service相关的规范有哪些？\n125、介绍一下你了解的Java领域的Web Service框架。\n\nJava面试题全集（以下列出题目，整理以及看答案请转至：Java面试题全集（下））\n\n126、什么是ORM？\n127、持久层设计要考虑的问题有哪些？你用过的持久层框架有哪些？\n128、Hibernate中SessionFactory是线程安全的吗？Session是线程安全的吗（两个线程能够共享同一个Session吗）？\n129、Hibernate中Session的load和get方法的区别是什么？\n130、Session的save()、update()、merge()、lock()、saveOrUpdate()和persist()方法分别是做什么的？有什么区别？\n131、阐述Session加载实体对象的过程。\n132、Query接口的list方法和iterate方法有什么区别？\n133、Hibernate如何实现分页查询？\n134、锁机制有什么用？简述Hibernate的悲观锁和乐观锁机制。\n135、阐述实体对象的三种状态以及转换关系。\n136、如何理解Hibernate的延迟加载机制？在实际应用中，延迟加载与Session关闭的矛盾是如何处理的？\n137、举一个多对多关联的例子，并说明如何实现多对多关联映射。\n138、谈一下你对继承映射的理解。\n139、简述Hibernate常见优化策略。\n140、谈一谈Hibernate的一级缓存、二级缓存和查询缓存。\n141、Hibernate中DetachedCriteria类是做什么的？\n142、@OneToMany注解的mappedBy属性有什么作用？\n143、MyBatis中使用<code>#</code>和<code>$</code>书写占位符有什么区别？\n144、解释一下MyBatis中命名空间（namespace）的作用。\n145、MyBatis中的动态SQL是什么意思？\n146、什么是IoC和DI？DI是如何实现的？\n147、Spring中Bean的作用域有哪些？\n148、解释一下什么叫AOP（面向切面编程）？\n149、你是如何理解\"横切关注\"这个概念的？\n150、你如何理解AOP中的连接点（Joinpoint）、切点（Pointcut）、增强（Advice）、引介（Introduction）、织入（Weaving）、切面（Aspect）这些概念？\n151、Spring中自动装配的方式有哪些？\n152、Spring中如何使用注解来配置Bean？有哪些相关的注解？\n153、Spring支持的事务管理类型有哪些？你在项目中使用哪种方式？\n154、如何在Web项目中配置Spring的IoC容器？\n155、如何在Web项目中配置Spring MVC？\n156、Spring MVC的工作原理是怎样的？\n157、如何在Spring IoC容器中配置数据源？\n158、如何配置配置事务增强？\n159、选择使用Spring框架的原因（Spring框架为企业级开发带来的好处有哪些）？\n160、Spring IoC容器配置Bean的方式？\n161、阐述Spring框架中Bean的生命周期？\n162、依赖注入时如何注入集合属性？\n163、Spring中的自动装配有哪些限制？\n164、在Web项目中如何获得Spring的IoC容器？\n165. 大型网站在架构上应当考虑哪些问题？\n166、你用过的网站前端优化的技术有哪些？\n167、你使用过的应用服务器优化技术有哪些？\n168、什么是XSS攻击？什么是SQL注入攻击？什么是CSRF攻击？\n169. 什么是领域模型(domain model)？贫血模型(anaemic domain model)和充血模型(rich domain model)有什么区别？\n170. 谈一谈测试驱动开发（TDD）的好处以及你的理解。","date":"2018-08-07T05:08:50.957Z","updated":"2018-08-07T05:08:50.957Z","path":"draft/view.html","title":"","comments":1,"layout":"page","_id":"cjl8qv5qz0009hkehw1khm1rm","content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"\\assets\\css\\APlayer.min.css\"><script src=\"\\assets\\js\\APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><h2 id=\"Army-Content\"><a href=\"#Army-Content\" class=\"headerlink\" title=\"Army Content\"></a>Army Content</h2><ul>\n<li>admin:<strong>虹西</strong></li>\n<li>date: <strong>2018/05/07</strong></li>\n</ul>\n<blockquote>\n<p>#### </p>\n<p>#### </p>\n</blockquote>\n<h2 id=\"Main-Content\"><a href=\"#Main-Content\" class=\"headerlink\" title=\"Main Content\"></a>Main Content</h2><h3 id=\"1\"><a href=\"#1\" class=\"headerlink\" title=\"1.\"></a>1.</h3><p>1、面向对象的特征有哪些方面？</p>\n<p>2、访问修饰符public,private,protected,以及不写（默认）时的区别？</p>\n<p>3、String 是最基本的数据类型吗？<br>4、float f=3.4;是否正确？<br>5、short s1 = 1; s1 = s1 + 1;有错吗?short s1 = 1; s1 += 1;有错吗？<br>6、Java有没有goto？<br>7、int和Integer有什么区别？<br>8、&amp;和&amp;&amp;的区别？<br>9、解释内存中的栈(stack)、堆(heap)和静态区(static area)的用法。<br>10、Math.round(11.5) 等于多少？Math.round(-11.5)等于多少？<br>11、switch 是否能作用在byte 上，是否能作用在long 上，是否能作用在String上？<br>12、用最有效率的方法计算2乘以8？<br>13、数组有没有length()方法？String有没有length()方法？<br>14、在Java中，如何跳出当前的多重嵌套循环？<br>15、构造器（constructor）是否可被重写（override）？<br>16、两个对象值相同(x.equals(y) == true)，但却可有不同的hash code，这句话对不对？<br>17、是否可以继承String类？<br>18、当一个对象被当作参数传递到一个方法后，此方法可改变这个对象的属性，并可返回变化后的结果，那么这里到底是值传递还是引用传递？\n19、String和StringBuilder、StringBuffer的区别？<br>20、重载（Overload）和重写（Override）的区别。重载的方法能否根据返回类型进行区分？<br>21、描述一下JVM加载class文件的原理机制？<br>22、char 型变量中能不能存贮一个中文汉字，为什么？<br>23、抽象类（abstract class）和接口（interface）有什么异同？<br>24、静态嵌套类(Static Nested Class)和内部类（Inner Class）的不同？<br>25、Java 中会存在内存泄漏吗，请简单描述。<br>26、抽象的（abstract）方法是否可同时是静态的（static）,是否可同时是本地方法（native），是否可同时被synchronized修饰？\n27、阐述静态变量和实例变量的区别。<br>28、是否可以从一个静态（static）方法内部发出对非静态（non-static）方法的调用？<br>29、如何实现对象克隆？<br>31、String s = new String(“xyz”);创建了几个字符串对象？<br>32、接口是否可继承（extends）接口？抽象类是否可实现（implements）接口？抽象类是否可继承具体类（concrete class）？\n33、一个”.java”源文件中是否可以包含多个类（不是内部类）？有什么限制？<br>34、Anonymous Inner Class(匿名内部类)是否可以继承其它类？是否可以实现接口？<br>35、内部类可以引用它的包含类（外部类）的成员吗？有没有什么限制？<br>36、Java 中的final关键字有哪些用法？<br>38、数据类型之间的转换：<br>39、如何实现字符串的反转及替换？<br>40、怎样将GB2312编码的字符串转换为ISO-8859-1编码的字符串？<br>41、日期和时间：<br>42、打印昨天的当前时刻。<br>43、比较一下Java和JavaSciprt。<br>44、什么时候用断言（assert）？<br>45、Error和Exception有什么区别？\n46、try{}里有一个return语句，那么紧跟在这个try后的finally{}里的代码会不会被执行，什么时候被执行，在return前还是后?\n47、Java语言如何进行异常处理，关键字：throws、throw、try、catch、finally分别如何使用？\n48、运行时异常与受检异常有何异同？\n49、列出一些你常见的运行时异常？\n50、阐述final、finally、finalize的区别。\n51、类ExampleA继承Exception，类ExampleB继承ExampleA。\n请问执行此段代码的输出是什么？\n52、List、Set、Map是否继承自Collection接口？\n53、阐述ArrayList、Vector、LinkedList的存储性能和特性。\n54、Collection和Collections的区别？\n55、List、Map、Set三个接口存取元素时，各有什么特点？\n56、TreeMap和TreeSet在排序时如何比较元素？Collections工具类中的sort()方法如何比较元素？\n57、Thread类的sleep()方法和对象的wait()方法都可以让线程暂停执行，它们有什么区别?\n58、线程的sleep()方法和yield()方法有什么区别？\n59、当一个线程进入一个对象的synchronized方法A之后，其它线程是否可进入此对象的synchronized方法B？\n60、请说出与线程同步以及线程调度相关的方法。\n61、编写多线程程序有几种实现方式？\n62、synchronized关键字的用法？\n63、举例说明同步和异步。\n64、启动一个线程是调用run()还是start()方法？\n65、什么是线程池（thread pool）？\n66、线程的基本状态以及状态之间的关系？\n67、简述synchronized 和java.util.concurrent.locks.Lock的异同？\n68、Java中如何实现序列化，有什么意义？\n69、Java中有几种类型的流？\n70、写一个方法，输入一个文件名和一个字符串，统计这个字符串在这个文件中出现的次数。\n71、如何用Java代码列出一个目录下所有的文件？\n72、用Java的套接字编程实现一个多线程的回显（echo）服务器。\n73、XML文档定义有几种形式？它们之间有何本质区别？解析XML文档有哪几种方式？\n74、你在项目中哪些地方用到了XML？\n75、阐述JDBC操作数据库的步骤。\n76、Statement和PreparedStatement有什么区别？哪个性能更好？\n77、使用JDBC操作数据库时，如何提升读取数据的性能？如何提升更新数据的性能？\n78、在进行数据库编程时，连接池有什么作用？\n79、什么是DAO模式？\n80、事务的ACID是指什么？\n81、JDBC中如何进行事务处理？\n82、JDBC能否处理Blob和Clob？\n83、简述正则表达式及其用途。\n84、Java中是如何支持正则表达式操作的？\n85、获得一个类的类对象有哪些方式？\n86、如何通过反射创建对象？\n87、如何通过反射获取和设置对象私有字段的值？\n88、如何通过反射调用对象的方法？\n89、简述一下面向对象的”六原则一法则”。\n90、简述一下你了解的设计模式。\n91、用Java写一个单例类。\n92、什么是UML？\n93、UML中有哪些常用的图？\n94、用Java写一个冒泡排序。\n95、用Java写一个折半查找。</p>\n<p>Java面试题全集（以下列出题目，看答案请转至：Java面试题全集（中））</p>\n<p>96、阐述Servlet和CGI的区别?<br>97、Servlet接口中有哪些方法？<br>98、转发（forward）和重定向（redirect）的区别？\n99、JSP有哪些内置对象？作用分别是什么？\n100、get和post请求的区别？\n101、常用的Web服务器有哪些？\n102、JSP和Servlet是什么关系？\n103、讲解JSP中的四种作用域。\n104、如何实现JSP或Servlet的单线程模式？\n105、实现会话跟踪的技术有哪些？\n106、过滤器有哪些作用和用法？\n107、监听器有哪些作用和用法？\n108、web.xml文件中可以配置哪些内容？\n109、你的项目中使用过哪些JSTL标签？\n110、使用标签库有什么好处？如何自定义JSP标签？\n111、说一下表达式语言（EL）的隐式对象及其作用。\n112、表达式语言（EL）支持哪些运算符？\n113、Java Web开发的Model 1和Model 2分别指的是什么？\n114、Servlet 3中的异步处理指的是什么？\n115、如何在基于Java的Web项目中实现文件上传和下载？\n116、服务器收到用户提交的表单数据，到底是调用Servlet的doGet()还是doPost()方法？\n117、JSP中的静态包含和动态包含有什么区别？\n118、Servlet中如何获取用户提交的查询参数或表单数据？\n119、Servlet中如何获取用户配置的初始化参数以及服务器上下文参数？\n120、如何设置请求的编码以及响应内容的类型？\n121、解释一下网络应用的模式及其特点。\n122、什么是Web Service（Web服务）？\n123、概念解释：SOAP、WSDL、UDDI。\n124、Java规范中和Web Service相关的规范有哪些？\n125、介绍一下你了解的Java领域的Web Service框架。</p>\n<p>Java面试题全集（以下列出题目，整理以及看答案请转至：Java面试题全集（下））</p>\n<p>126、什么是ORM？\n127、持久层设计要考虑的问题有哪些？你用过的持久层框架有哪些？\n128、Hibernate中SessionFactory是线程安全的吗？Session是线程安全的吗（两个线程能够共享同一个Session吗）？\n129、Hibernate中Session的load和get方法的区别是什么？\n130、Session的save()、update()、merge()、lock()、saveOrUpdate()和persist()方法分别是做什么的？有什么区别？\n131、阐述Session加载实体对象的过程。\n132、Query接口的list方法和iterate方法有什么区别？\n133、Hibernate如何实现分页查询？\n134、锁机制有什么用？简述Hibernate的悲观锁和乐观锁机制。\n135、阐述实体对象的三种状态以及转换关系。\n136、如何理解Hibernate的延迟加载机制？在实际应用中，延迟加载与Session关闭的矛盾是如何处理的？\n137、举一个多对多关联的例子，并说明如何实现多对多关联映射。\n138、谈一下你对继承映射的理解。\n139、简述Hibernate常见优化策略。\n140、谈一谈Hibernate的一级缓存、二级缓存和查询缓存。\n141、Hibernate中DetachedCriteria类是做什么的？\n142、@OneToMany注解的mappedBy属性有什么作用？\n143、MyBatis中使用<code>#</code>和<code>$</code>书写占位符有什么区别？\n144、解释一下MyBatis中命名空间（namespace）的作用。\n145、MyBatis中的动态SQL是什么意思？\n146、什么是IoC和DI？DI是如何实现的？\n147、Spring中Bean的作用域有哪些？\n148、解释一下什么叫AOP（面向切面编程）？\n149、你是如何理解”横切关注”这个概念的？\n150、你如何理解AOP中的连接点（Joinpoint）、切点（Pointcut）、增强（Advice）、引介（Introduction）、织入（Weaving）、切面（Aspect）这些概念？\n151、Spring中自动装配的方式有哪些？\n152、Spring中如何使用注解来配置Bean？有哪些相关的注解？\n153、Spring支持的事务管理类型有哪些？你在项目中使用哪种方式？\n154、如何在Web项目中配置Spring的IoC容器？\n155、如何在Web项目中配置Spring MVC？\n156、Spring MVC的工作原理是怎样的？\n157、如何在Spring IoC容器中配置数据源？\n158、如何配置配置事务增强？\n159、选择使用Spring框架的原因（Spring框架为企业级开发带来的好处有哪些）？\n160、Spring IoC容器配置Bean的方式？\n161、阐述Spring框架中Bean的生命周期？\n162、依赖注入时如何注入集合属性？\n163、Spring中的自动装配有哪些限制？\n164、在Web项目中如何获得Spring的IoC容器？</p>\n<ol start=\"165\">\n<li>大型网站在架构上应当考虑哪些问题？\n166、你用过的网站前端优化的技术有哪些？\n167、你使用过的应用服务器优化技术有哪些？\n168、什么是XSS攻击？什么是SQL注入攻击？什么是CSRF攻击？</li>\n<li>什么是领域模型(domain model)？贫血模型(anaemic domain model)和充血模型(rich domain model)有什么区别？</li>\n<li>谈一谈测试驱动开发（TDD）的好处以及你的理解。</li>\n</ol>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"Army-Content\"><a href=\"#Army-Content\" class=\"headerlink\" title=\"Army Content\"></a>Army Content</h2><ul>\n<li>admin:<strong>虹西</strong></li>\n<li>date: <strong>2018/05/07</strong></li>\n</ul>\n<blockquote>\n<p>#### </p>\n<p>#### </p>\n</blockquote>\n<h2 id=\"Main-Content\"><a href=\"#Main-Content\" class=\"headerlink\" title=\"Main Content\"></a>Main Content</h2><h3 id=\"1\"><a href=\"#1\" class=\"headerlink\" title=\"1.\"></a>1.</h3><p>1、面向对象的特征有哪些方面？</p>\n<p>2、访问修饰符public,private,protected,以及不写（默认）时的区别？</p>\n<p>3、String 是最基本的数据类型吗？<br>4、float f=3.4;是否正确？<br>5、short s1 = 1; s1 = s1 + 1;有错吗?short s1 = 1; s1 += 1;有错吗？<br>6、Java有没有goto？<br>7、int和Integer有什么区别？<br>8、&amp;和&amp;&amp;的区别？<br>9、解释内存中的栈(stack)、堆(heap)和静态区(static area)的用法。<br>10、Math.round(11.5) 等于多少？Math.round(-11.5)等于多少？<br>11、switch 是否能作用在byte 上，是否能作用在long 上，是否能作用在String上？<br>12、用最有效率的方法计算2乘以8？<br>13、数组有没有length()方法？String有没有length()方法？<br>14、在Java中，如何跳出当前的多重嵌套循环？<br>15、构造器（constructor）是否可被重写（override）？<br>16、两个对象值相同(x.equals(y) == true)，但却可有不同的hash code，这句话对不对？<br>17、是否可以继承String类？<br>18、当一个对象被当作参数传递到一个方法后，此方法可改变这个对象的属性，并可返回变化后的结果，那么这里到底是值传递还是引用传递？\n19、String和StringBuilder、StringBuffer的区别？<br>20、重载（Overload）和重写（Override）的区别。重载的方法能否根据返回类型进行区分？<br>21、描述一下JVM加载class文件的原理机制？<br>22、char 型变量中能不能存贮一个中文汉字，为什么？<br>23、抽象类（abstract class）和接口（interface）有什么异同？<br>24、静态嵌套类(Static Nested Class)和内部类（Inner Class）的不同？<br>25、Java 中会存在内存泄漏吗，请简单描述。<br>26、抽象的（abstract）方法是否可同时是静态的（static）,是否可同时是本地方法（native），是否可同时被synchronized修饰？\n27、阐述静态变量和实例变量的区别。<br>28、是否可以从一个静态（static）方法内部发出对非静态（non-static）方法的调用？<br>29、如何实现对象克隆？<br>31、String s = new String(“xyz”);创建了几个字符串对象？<br>32、接口是否可继承（extends）接口？抽象类是否可实现（implements）接口？抽象类是否可继承具体类（concrete class）？\n33、一个”.java”源文件中是否可以包含多个类（不是内部类）？有什么限制？<br>34、Anonymous Inner Class(匿名内部类)是否可以继承其它类？是否可以实现接口？<br>35、内部类可以引用它的包含类（外部类）的成员吗？有没有什么限制？<br>36、Java 中的final关键字有哪些用法？<br>38、数据类型之间的转换：<br>39、如何实现字符串的反转及替换？<br>40、怎样将GB2312编码的字符串转换为ISO-8859-1编码的字符串？<br>41、日期和时间：<br>42、打印昨天的当前时刻。<br>43、比较一下Java和JavaSciprt。<br>44、什么时候用断言（assert）？<br>45、Error和Exception有什么区别？\n46、try{}里有一个return语句，那么紧跟在这个try后的finally{}里的代码会不会被执行，什么时候被执行，在return前还是后?\n47、Java语言如何进行异常处理，关键字：throws、throw、try、catch、finally分别如何使用？\n48、运行时异常与受检异常有何异同？\n49、列出一些你常见的运行时异常？\n50、阐述final、finally、finalize的区别。\n51、类ExampleA继承Exception，类ExampleB继承ExampleA。\n请问执行此段代码的输出是什么？\n52、List、Set、Map是否继承自Collection接口？\n53、阐述ArrayList、Vector、LinkedList的存储性能和特性。\n54、Collection和Collections的区别？\n55、List、Map、Set三个接口存取元素时，各有什么特点？\n56、TreeMap和TreeSet在排序时如何比较元素？Collections工具类中的sort()方法如何比较元素？\n57、Thread类的sleep()方法和对象的wait()方法都可以让线程暂停执行，它们有什么区别?\n58、线程的sleep()方法和yield()方法有什么区别？\n59、当一个线程进入一个对象的synchronized方法A之后，其它线程是否可进入此对象的synchronized方法B？\n60、请说出与线程同步以及线程调度相关的方法。\n61、编写多线程程序有几种实现方式？\n62、synchronized关键字的用法？\n63、举例说明同步和异步。\n64、启动一个线程是调用run()还是start()方法？\n65、什么是线程池（thread pool）？\n66、线程的基本状态以及状态之间的关系？\n67、简述synchronized 和java.util.concurrent.locks.Lock的异同？\n68、Java中如何实现序列化，有什么意义？\n69、Java中有几种类型的流？\n70、写一个方法，输入一个文件名和一个字符串，统计这个字符串在这个文件中出现的次数。\n71、如何用Java代码列出一个目录下所有的文件？\n72、用Java的套接字编程实现一个多线程的回显（echo）服务器。\n73、XML文档定义有几种形式？它们之间有何本质区别？解析XML文档有哪几种方式？\n74、你在项目中哪些地方用到了XML？\n75、阐述JDBC操作数据库的步骤。\n76、Statement和PreparedStatement有什么区别？哪个性能更好？\n77、使用JDBC操作数据库时，如何提升读取数据的性能？如何提升更新数据的性能？\n78、在进行数据库编程时，连接池有什么作用？\n79、什么是DAO模式？\n80、事务的ACID是指什么？\n81、JDBC中如何进行事务处理？\n82、JDBC能否处理Blob和Clob？\n83、简述正则表达式及其用途。\n84、Java中是如何支持正则表达式操作的？\n85、获得一个类的类对象有哪些方式？\n86、如何通过反射创建对象？\n87、如何通过反射获取和设置对象私有字段的值？\n88、如何通过反射调用对象的方法？\n89、简述一下面向对象的”六原则一法则”。\n90、简述一下你了解的设计模式。\n91、用Java写一个单例类。\n92、什么是UML？\n93、UML中有哪些常用的图？\n94、用Java写一个冒泡排序。\n95、用Java写一个折半查找。</p>\n<p>Java面试题全集（以下列出题目，看答案请转至：Java面试题全集（中））</p>\n<p>96、阐述Servlet和CGI的区别?<br>97、Servlet接口中有哪些方法？<br>98、转发（forward）和重定向（redirect）的区别？\n99、JSP有哪些内置对象？作用分别是什么？\n100、get和post请求的区别？\n101、常用的Web服务器有哪些？\n102、JSP和Servlet是什么关系？\n103、讲解JSP中的四种作用域。\n104、如何实现JSP或Servlet的单线程模式？\n105、实现会话跟踪的技术有哪些？\n106、过滤器有哪些作用和用法？\n107、监听器有哪些作用和用法？\n108、web.xml文件中可以配置哪些内容？\n109、你的项目中使用过哪些JSTL标签？\n110、使用标签库有什么好处？如何自定义JSP标签？\n111、说一下表达式语言（EL）的隐式对象及其作用。\n112、表达式语言（EL）支持哪些运算符？\n113、Java Web开发的Model 1和Model 2分别指的是什么？\n114、Servlet 3中的异步处理指的是什么？\n115、如何在基于Java的Web项目中实现文件上传和下载？\n116、服务器收到用户提交的表单数据，到底是调用Servlet的doGet()还是doPost()方法？\n117、JSP中的静态包含和动态包含有什么区别？\n118、Servlet中如何获取用户提交的查询参数或表单数据？\n119、Servlet中如何获取用户配置的初始化参数以及服务器上下文参数？\n120、如何设置请求的编码以及响应内容的类型？\n121、解释一下网络应用的模式及其特点。\n122、什么是Web Service（Web服务）？\n123、概念解释：SOAP、WSDL、UDDI。\n124、Java规范中和Web Service相关的规范有哪些？\n125、介绍一下你了解的Java领域的Web Service框架。</p>\n<p>Java面试题全集（以下列出题目，整理以及看答案请转至：Java面试题全集（下））</p>\n<p>126、什么是ORM？\n127、持久层设计要考虑的问题有哪些？你用过的持久层框架有哪些？\n128、Hibernate中SessionFactory是线程安全的吗？Session是线程安全的吗（两个线程能够共享同一个Session吗）？\n129、Hibernate中Session的load和get方法的区别是什么？\n130、Session的save()、update()、merge()、lock()、saveOrUpdate()和persist()方法分别是做什么的？有什么区别？\n131、阐述Session加载实体对象的过程。\n132、Query接口的list方法和iterate方法有什么区别？\n133、Hibernate如何实现分页查询？\n134、锁机制有什么用？简述Hibernate的悲观锁和乐观锁机制。\n135、阐述实体对象的三种状态以及转换关系。\n136、如何理解Hibernate的延迟加载机制？在实际应用中，延迟加载与Session关闭的矛盾是如何处理的？\n137、举一个多对多关联的例子，并说明如何实现多对多关联映射。\n138、谈一下你对继承映射的理解。\n139、简述Hibernate常见优化策略。\n140、谈一谈Hibernate的一级缓存、二级缓存和查询缓存。\n141、Hibernate中DetachedCriteria类是做什么的？\n142、@OneToMany注解的mappedBy属性有什么作用？\n143、MyBatis中使用<code>#</code>和<code>$</code>书写占位符有什么区别？\n144、解释一下MyBatis中命名空间（namespace）的作用。\n145、MyBatis中的动态SQL是什么意思？\n146、什么是IoC和DI？DI是如何实现的？\n147、Spring中Bean的作用域有哪些？\n148、解释一下什么叫AOP（面向切面编程）？\n149、你是如何理解”横切关注”这个概念的？\n150、你如何理解AOP中的连接点（Joinpoint）、切点（Pointcut）、增强（Advice）、引介（Introduction）、织入（Weaving）、切面（Aspect）这些概念？\n151、Spring中自动装配的方式有哪些？\n152、Spring中如何使用注解来配置Bean？有哪些相关的注解？\n153、Spring支持的事务管理类型有哪些？你在项目中使用哪种方式？\n154、如何在Web项目中配置Spring的IoC容器？\n155、如何在Web项目中配置Spring MVC？\n156、Spring MVC的工作原理是怎样的？\n157、如何在Spring IoC容器中配置数据源？\n158、如何配置配置事务增强？\n159、选择使用Spring框架的原因（Spring框架为企业级开发带来的好处有哪些）？\n160、Spring IoC容器配置Bean的方式？\n161、阐述Spring框架中Bean的生命周期？\n162、依赖注入时如何注入集合属性？\n163、Spring中的自动装配有哪些限制？\n164、在Web项目中如何获得Spring的IoC容器？</p>\n<ol start=\"165\">\n<li>大型网站在架构上应当考虑哪些问题？\n166、你用过的网站前端优化的技术有哪些？\n167、你使用过的应用服务器优化技术有哪些？\n168、什么是XSS攻击？什么是SQL注入攻击？什么是CSRF攻击？</li>\n<li>什么是领域模型(domain model)？贫血模型(anaemic domain model)和充血模型(rich domain model)有什么区别？</li>\n<li>谈一谈测试驱动开发（TDD）的好处以及你的理解。</li>\n</ol>\n"},{"title":"标签","comments":0,"date":"2016-10-21T03:59:10.000Z","type":"tags","_content":"","source":"tags/index.md","raw":"---\ntitle: 标签\ncomments: false\ndate: 2016-10-21 11:59:10\ntype: \"tags\"\n---","updated":"2018-08-23T12:56:27.026Z","path":"tags/index.html","layout":"page","_id":"cjl8qv5r4000ahkehhjk4lrp9","content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"\\assets\\css\\APlayer.min.css\"><script src=\"\\assets\\js\\APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script>","site":{"data":{}},"excerpt":"","more":""}],"Post":[{"title":"Spring 动态数据源热切换","copyright":true,"date":"2017-06-10T05:00:00.000Z","_content":"\n\n\n在某些业务场景重我们会遇到数据库的切换，   \n如果只是少数的几个数据源，我们可以在配置池里设置好，随意切换就可以。\n可是如果是动态的多数据源呢，Spring中已经内置了数据源的动态切换路由,在该类中可继承重写数据源的切换控制    \n但是正确的配置，仍然需要受几次挫折的。其中有不少问题\n\n\n<!-- more -->\n\n挖个坑，埋点土，数个12345，鸽，有空填一下~","source":"_posts/SqlSwitch-Spring.md","raw":"---\ntitle: Spring 动态数据源热切换\ncopyright: true  \ntags: \n    - Spring \n    - SQL \n    - database hotChange \n\ndate: 2017-06-010 13:00:00\n---\n\n\n\n在某些业务场景重我们会遇到数据库的切换，   \n如果只是少数的几个数据源，我们可以在配置池里设置好，随意切换就可以。\n可是如果是动态的多数据源呢，Spring中已经内置了数据源的动态切换路由,在该类中可继承重写数据源的切换控制    \n但是正确的配置，仍然需要受几次挫折的。其中有不少问题\n\n\n<!-- more -->\n\n挖个坑，埋点土，数个12345，鸽，有空填一下~","slug":"SqlSwitch-Spring","published":1,"updated":"2018-08-28T06:59:51.091Z","_id":"cjl8qv5gm0000hkeholjnrmwp","comments":1,"layout":"post","photos":[],"link":"","content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"\\assets\\css\\APlayer.min.css\"><script src=\"\\assets\\js\\APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><p>在某些业务场景重我们会遇到数据库的切换，<br>如果只是少数的几个数据源，我们可以在配置池里设置好，随意切换就可以。\n可是如果是动态的多数据源呢，Spring中已经内置了数据源的动态切换路由,在该类中可继承重写数据源的切换控制<br>但是正确的配置，仍然需要受几次挫折的。其中有不少问题</p>\n<a id=\"more\"></a>\n<p>挖个坑，埋点土，数个12345，鸽，有空填一下~</p>\n","site":{"data":{}},"excerpt":"<p>在某些业务场景重我们会遇到数据库的切换，<br>如果只是少数的几个数据源，我们可以在配置池里设置好，随意切换就可以。\n可是如果是动态的多数据源呢，Spring中已经内置了数据源的动态切换路由,在该类中可继承重写数据源的切换控制<br>但是正确的配置，仍然需要受几次挫折的。其中有不少问题</p>","more":"<p>挖个坑，埋点土，数个12345，鸽，有空填一下~</p>"},{"title":"字符串编码 StringCode","copyright":true,"date":"2018-01-01T05:00:00.000Z","_content":"\n一般遇到编码问题我们一两行代码就能解决，但有时需试错。\n这里细说一点原理来备忘，但遇到编码问题还是要试错。  \n原理：映射表选错。本文提一点映射表规范。\n<!-- more -->\n\n## Base\n### 字符 char\n```\n a D f\n```\n以上三种，代表基本文字\n\n### 字符串 String\n```\nnice to meet you\n```\n多个字符组集合\n\n### 键值表 map   \n    y = x * 2\n每个x对应唯一y，x与y组成键值表(HashTable)，如：\n    \n    1 -> 2\n    2 -> 4\n    3 -> 6\n    \n### 编码&解码 cod & decode \n编码:字符串按照一定规则（map）转换成二进制存储。\n字符串”123”存起来，先要转换成”246”。\n实际存储的值：    \n\n    0010 0100 0110\n字符串解码(decode)就是把二进制数据按一定规则转换成字符串显示。\n\n\n## 计算机数据存储 cache\n计算机都是以”0”或”1”存储的。\n如果要存储”GEB”，它会先转换成二进制再存储。\n我们使用EngineGo表，他用3位的二进制数字表示8种不同的字符。  \nEngineGo表：\n\n| 二进制 | 字符 | 二进制 | 字符 |\n| ------ | ---- | ------ | ---- |\n| 000    | A    | 100    | E    |\n| 001    | B    | 101    | F    |\n| 010    | C    | 110    | G    |\n| 011    | D    | 111    | H    |\n我们在编辑器添加”GEB”字符串保存时，计算机根据EngineGo表存储数据\n\n    110 100 001\n      G   E   B \n读取时，计算机会主动猜测应该使用哪个表来还原，\n假如它猜对了，使用EngineGo表还原，便会成功得到“GEB”。\n猜错了，就乱码了。\n\n##ASCII编码\nASCII编码由西方国家设计，用英文作常用字符集，包括大小写字母，数字加一些标点符号和运算符号约120个。\n3位二进制只能表示8个不同的字符，于是我们扩充位数，7位可以表示128个字符，加1位用错误检查。\n最终使用8位，称为一个字节。\n\n| 编号    | 字符 | 编号      | 字符 |\n| --------- | ---- | ----------- | ---- |\n| （省略）… | …  | 64          | @    |\n| 48        | 0    | 65          | A    |\n| 49        | 1    | 66(1000010) | B    |\n| 50        | 2    | 67          | C    |\n| 51        | 3    | 68          | D    |\n| 52        | 4    | 69(1000101) | E    |\n| 53        | 5    | 70          | F    |\n| 54        | 6    | 71(01100111)| G    |\n| 55        | 7    | 72          | H    |\n| 56        | 8    | 73          | I    |\n| 57        | 9    | 74          | J    |\n| 58        | :    | 75          | K    |\n| 59        | ;    | 76          | L    |\n| 60        | <    | 77          | M    |\n| 61        | =    | 78          | N    |\n| 62        | >    | 79          | O    |\n| 63        | ?    | （省略）… | …  |\n此时“GEB”被存储为：\n\n    01100111 1000101 1000010\n          B       E       B\n\n\n## GBK编码\n但ASCII编码容量只有128。遇到中文无法处理，故国内使用GBK编码（一张更大的表）。\nGBK是可变长度的编码，为兼容ASCII编码，使用了单、双字节编码和双字节编码，\n小于127的字符，同ASCII表，大于127的，两个字节表示一个汉字。\n故处理英文字符串时，和使用ASCII表存储的二进制数据一样。  \n\n但处理中文时，如存储”你好”，GBK编码会把这个字符串编码成：\n\n    11000100 11100011 10111010 11000011\n“你”和”好”这分别用两个字节保存。此时使用ASCII编码保存就会报错，因ASCII编码中无”你”和”好”对应值。      \n\n我们用GBK码保存文件，如果包含中文，别人使用ASCII就无法解码。\nGBK文件只存ASCII码字符，解码时也正确，一般在文档中注明编码，打开时用对应的解码就好，但若文档中无编码信息，计算机就会猜测这是什么编码。\n即使是中文，还有繁体中文，简体中文类别。即使知道文档是中文，也不知道用哪个中文编码才能正确打开。\n\n## Unicode编码\n其实最简单方法是，用很多二进制位来存储世界上所有字符。  \nUnicode便是如此，它把每个国家的字符都编进去。如你好，对应 U+4F60 U+597D。\n不同于其他编码，Unicode只是一个标准，规定了表现形式，而编码和解码则有其他方式。  \n\nUnicode中每个字符都定义了对应表现形式：\n\n    4f60 597d\n    你   好\nUnicode只指定表示形式，存储形式可据需选择。\n如果每个字符都保存为4字节二进制（你好==00004f60，0000597d），这就是UTF-32编码。\n已经可以用4个字节表达所有字符，没有其他技术问题。\n\n## UTF-8编码\n但传输”A”字符，用UTF-32要用4个字节。而ASCII只要一个字节，这样会浪费存储空间和减缓传输速度。\nUTF-8为减少存储，将常用字符（英文）用一个字节表示（ASCII），其他用两到四个字节表示。\n\nUTF-8 UTF-32 对比\n\n| character | encoding | bits                                | character |\n| --------- | -------- | ----------------------------------- | --------- |\n| A         | ASCII    | 01000001                            | A         |\n| A         | Unicode  | 10011110 01000001(U+0041)           | A         |\n| A         | UTF-32   | 00000000 00000000 00000000 01000001 | A         |\n| A         | UTF-8    | 01000001                            | A         |\n| 你       | ASCII    | 无法表示                        | 你       |\n| 你       | Unicode  | 1001111 01100000(U+4f60)            | 你       |\n| 你       | UTF-32   | 00000000 00000000 10011110 01100000 | 你       |\n| 你       | UTF-8    | 11100100 10111101 10100000(e4bda0)  | 你       |\n| character | encoding | bits                                | character |\n| A         | ASCII    | 01000001                            | A         |\n| A         | Unicode  | 10011110 01000001(U+0041)           | A         |\n| 58        | :        | 75                                  | K         |\n| 59        | ;        | 76                                  | L         |\n| 60        | <        | 77                                  | M         |\n| 61        | =        | 78                                  | N         |\n| 62        | >        | 79                                  | O         |\n| 63        | ?        | （省略）…                     | …       |\n使用UTF-8编码后，”A”只要一个字节，汉字”你”从4个字节减少为3个。\nUnicode转换成UTF-8非只要一张转换表：\n\nUnicode范围\t转换规则\n\n| Unicode范围           | 转换规则                        |\n| ----------------------- | ----------------------------------- |\n| 0x00000000 - 0x0000007F | 0xxxxxxx                            |\n| 0x00000080 - 0x000007FF | 110xxxxx 10xxxxxx                   |\n| 0x00000800 - 0x0000FFFF | 1110xxxx 10xxxxxx 10xxxxxx          |\n| 0x00010000 - 0x001FFFFF | 11110xxx 10xxxxxx 10xxxxxx 10xxxxxx |\n\n以”你”为例，Unicode编码是U+4f60，对应第三列（07FF<4f60<FFFF），对比右边转换规则。\n把4f60的二进制1001111 01100000从右到左填入转换规则的x中，空的填0。\n\n    1001111 01100000 -> 1110xxxx 10xxxxxx 10xxxxxx -> 11100100 10111101 10100000\n最后得到的11100100 10111101 10100000(e4bda0)也就是”你”的UTF-8编码了。\n\n\n## HTML实体编码\n浏览器解析HTML的时候会把特殊的字符串理解成非字面的含义，所以当需要显示这些特殊字符串的时候，需要经过下表的转换：\n\n| 显示结果 | 描述   | 实体名称 | 实体编号      |\n| -------- | -------- | -------- | ----------------- |\n| 空格   | &nbsp;   | &#160;   | 空格            |\n| <        | 小于号 | &lt;     | &#60;             |\n| >        | 大于号 | &gt;     | &#62;             |\n| &        | 和      | &amp;    | &#38;             |\n| “      | 双引号 | &quot;   | &#34;             |\n| ‘      | 单引号 | &apos;   | &#39;             |\n| ′      | 重音符 | &acute;  | &#96;             |\n| ©       | 版权   | &copy;   | &#169;            |\n| ®       | 注册商标 | &reg;    | &#174;            |\n| ™      | 商标   | &trade;  | &#8482;           |\n| 你      | 中文   | &#x4F60; | &#x4F60;或&#20320 |\n| 好      | 中文   | &#x597D; | &#x597D;或&#22909 |\n从上表可以看到，特殊字符串是强制需要转换的，而且实际上，所有字符都可以经过转换表示，只需要用\n\n    &#x加上其16进制Unicode编码或者\n    &#加上其10进制Unicode编码\n作为实体编号即可，浏览器既能解析字符串本身，也能解析其UTF-8编码。\n\n## URL编码\nRFC3986中规定了URI中不能出现\n\n    : / ? # [ ] @ ! $ & ' ( ) * + , ; = \n当表示这些时，使用%加该字符的16进制UTF-8编码表示，出现非ASCII表的字符也一样，例如在浏览器输入\n\n    https://hongxi.io/你好\n\n浏览器会自动把不合规定的字符转换成%加UTF-8编码再进行请求（地址栏还是显示原本”你好”），当你粘贴在文本编辑器的时候就可以看到原本的URL变成：\n\n    https://hongxi.io/%E4%BD%A0%E5%A5%BD\n\n这里可以看到”你好”使用了它的UTF-8编码表示\n\n\n## 最后\n单纯从二进制数据是无法判断用什么编码存储的。但也有用AI来判断的，结果很出色。","source":"_posts/base/base_01_StringCode.md","raw":"---\ntitle: 字符串编码 StringCode\ncopyright: true  \ntags: \n    - base \n    - String  \n    - Decode \ncategories: \n    - Base     \n    \ndate: 2018-01-001 13:00:00\n---\n\n一般遇到编码问题我们一两行代码就能解决，但有时需试错。\n这里细说一点原理来备忘，但遇到编码问题还是要试错。  \n原理：映射表选错。本文提一点映射表规范。\n<!-- more -->\n\n## Base\n### 字符 char\n```\n a D f\n```\n以上三种，代表基本文字\n\n### 字符串 String\n```\nnice to meet you\n```\n多个字符组集合\n\n### 键值表 map   \n    y = x * 2\n每个x对应唯一y，x与y组成键值表(HashTable)，如：\n    \n    1 -> 2\n    2 -> 4\n    3 -> 6\n    \n### 编码&解码 cod & decode \n编码:字符串按照一定规则（map）转换成二进制存储。\n字符串”123”存起来，先要转换成”246”。\n实际存储的值：    \n\n    0010 0100 0110\n字符串解码(decode)就是把二进制数据按一定规则转换成字符串显示。\n\n\n## 计算机数据存储 cache\n计算机都是以”0”或”1”存储的。\n如果要存储”GEB”，它会先转换成二进制再存储。\n我们使用EngineGo表，他用3位的二进制数字表示8种不同的字符。  \nEngineGo表：\n\n| 二进制 | 字符 | 二进制 | 字符 |\n| ------ | ---- | ------ | ---- |\n| 000    | A    | 100    | E    |\n| 001    | B    | 101    | F    |\n| 010    | C    | 110    | G    |\n| 011    | D    | 111    | H    |\n我们在编辑器添加”GEB”字符串保存时，计算机根据EngineGo表存储数据\n\n    110 100 001\n      G   E   B \n读取时，计算机会主动猜测应该使用哪个表来还原，\n假如它猜对了，使用EngineGo表还原，便会成功得到“GEB”。\n猜错了，就乱码了。\n\n##ASCII编码\nASCII编码由西方国家设计，用英文作常用字符集，包括大小写字母，数字加一些标点符号和运算符号约120个。\n3位二进制只能表示8个不同的字符，于是我们扩充位数，7位可以表示128个字符，加1位用错误检查。\n最终使用8位，称为一个字节。\n\n| 编号    | 字符 | 编号      | 字符 |\n| --------- | ---- | ----------- | ---- |\n| （省略）… | …  | 64          | @    |\n| 48        | 0    | 65          | A    |\n| 49        | 1    | 66(1000010) | B    |\n| 50        | 2    | 67          | C    |\n| 51        | 3    | 68          | D    |\n| 52        | 4    | 69(1000101) | E    |\n| 53        | 5    | 70          | F    |\n| 54        | 6    | 71(01100111)| G    |\n| 55        | 7    | 72          | H    |\n| 56        | 8    | 73          | I    |\n| 57        | 9    | 74          | J    |\n| 58        | :    | 75          | K    |\n| 59        | ;    | 76          | L    |\n| 60        | <    | 77          | M    |\n| 61        | =    | 78          | N    |\n| 62        | >    | 79          | O    |\n| 63        | ?    | （省略）… | …  |\n此时“GEB”被存储为：\n\n    01100111 1000101 1000010\n          B       E       B\n\n\n## GBK编码\n但ASCII编码容量只有128。遇到中文无法处理，故国内使用GBK编码（一张更大的表）。\nGBK是可变长度的编码，为兼容ASCII编码，使用了单、双字节编码和双字节编码，\n小于127的字符，同ASCII表，大于127的，两个字节表示一个汉字。\n故处理英文字符串时，和使用ASCII表存储的二进制数据一样。  \n\n但处理中文时，如存储”你好”，GBK编码会把这个字符串编码成：\n\n    11000100 11100011 10111010 11000011\n“你”和”好”这分别用两个字节保存。此时使用ASCII编码保存就会报错，因ASCII编码中无”你”和”好”对应值。      \n\n我们用GBK码保存文件，如果包含中文，别人使用ASCII就无法解码。\nGBK文件只存ASCII码字符，解码时也正确，一般在文档中注明编码，打开时用对应的解码就好，但若文档中无编码信息，计算机就会猜测这是什么编码。\n即使是中文，还有繁体中文，简体中文类别。即使知道文档是中文，也不知道用哪个中文编码才能正确打开。\n\n## Unicode编码\n其实最简单方法是，用很多二进制位来存储世界上所有字符。  \nUnicode便是如此，它把每个国家的字符都编进去。如你好，对应 U+4F60 U+597D。\n不同于其他编码，Unicode只是一个标准，规定了表现形式，而编码和解码则有其他方式。  \n\nUnicode中每个字符都定义了对应表现形式：\n\n    4f60 597d\n    你   好\nUnicode只指定表示形式，存储形式可据需选择。\n如果每个字符都保存为4字节二进制（你好==00004f60，0000597d），这就是UTF-32编码。\n已经可以用4个字节表达所有字符，没有其他技术问题。\n\n## UTF-8编码\n但传输”A”字符，用UTF-32要用4个字节。而ASCII只要一个字节，这样会浪费存储空间和减缓传输速度。\nUTF-8为减少存储，将常用字符（英文）用一个字节表示（ASCII），其他用两到四个字节表示。\n\nUTF-8 UTF-32 对比\n\n| character | encoding | bits                                | character |\n| --------- | -------- | ----------------------------------- | --------- |\n| A         | ASCII    | 01000001                            | A         |\n| A         | Unicode  | 10011110 01000001(U+0041)           | A         |\n| A         | UTF-32   | 00000000 00000000 00000000 01000001 | A         |\n| A         | UTF-8    | 01000001                            | A         |\n| 你       | ASCII    | 无法表示                        | 你       |\n| 你       | Unicode  | 1001111 01100000(U+4f60)            | 你       |\n| 你       | UTF-32   | 00000000 00000000 10011110 01100000 | 你       |\n| 你       | UTF-8    | 11100100 10111101 10100000(e4bda0)  | 你       |\n| character | encoding | bits                                | character |\n| A         | ASCII    | 01000001                            | A         |\n| A         | Unicode  | 10011110 01000001(U+0041)           | A         |\n| 58        | :        | 75                                  | K         |\n| 59        | ;        | 76                                  | L         |\n| 60        | <        | 77                                  | M         |\n| 61        | =        | 78                                  | N         |\n| 62        | >        | 79                                  | O         |\n| 63        | ?        | （省略）…                     | …       |\n使用UTF-8编码后，”A”只要一个字节，汉字”你”从4个字节减少为3个。\nUnicode转换成UTF-8非只要一张转换表：\n\nUnicode范围\t转换规则\n\n| Unicode范围           | 转换规则                        |\n| ----------------------- | ----------------------------------- |\n| 0x00000000 - 0x0000007F | 0xxxxxxx                            |\n| 0x00000080 - 0x000007FF | 110xxxxx 10xxxxxx                   |\n| 0x00000800 - 0x0000FFFF | 1110xxxx 10xxxxxx 10xxxxxx          |\n| 0x00010000 - 0x001FFFFF | 11110xxx 10xxxxxx 10xxxxxx 10xxxxxx |\n\n以”你”为例，Unicode编码是U+4f60，对应第三列（07FF<4f60<FFFF），对比右边转换规则。\n把4f60的二进制1001111 01100000从右到左填入转换规则的x中，空的填0。\n\n    1001111 01100000 -> 1110xxxx 10xxxxxx 10xxxxxx -> 11100100 10111101 10100000\n最后得到的11100100 10111101 10100000(e4bda0)也就是”你”的UTF-8编码了。\n\n\n## HTML实体编码\n浏览器解析HTML的时候会把特殊的字符串理解成非字面的含义，所以当需要显示这些特殊字符串的时候，需要经过下表的转换：\n\n| 显示结果 | 描述   | 实体名称 | 实体编号      |\n| -------- | -------- | -------- | ----------------- |\n| 空格   | &nbsp;   | &#160;   | 空格            |\n| <        | 小于号 | &lt;     | &#60;             |\n| >        | 大于号 | &gt;     | &#62;             |\n| &        | 和      | &amp;    | &#38;             |\n| “      | 双引号 | &quot;   | &#34;             |\n| ‘      | 单引号 | &apos;   | &#39;             |\n| ′      | 重音符 | &acute;  | &#96;             |\n| ©       | 版权   | &copy;   | &#169;            |\n| ®       | 注册商标 | &reg;    | &#174;            |\n| ™      | 商标   | &trade;  | &#8482;           |\n| 你      | 中文   | &#x4F60; | &#x4F60;或&#20320 |\n| 好      | 中文   | &#x597D; | &#x597D;或&#22909 |\n从上表可以看到，特殊字符串是强制需要转换的，而且实际上，所有字符都可以经过转换表示，只需要用\n\n    &#x加上其16进制Unicode编码或者\n    &#加上其10进制Unicode编码\n作为实体编号即可，浏览器既能解析字符串本身，也能解析其UTF-8编码。\n\n## URL编码\nRFC3986中规定了URI中不能出现\n\n    : / ? # [ ] @ ! $ & ' ( ) * + , ; = \n当表示这些时，使用%加该字符的16进制UTF-8编码表示，出现非ASCII表的字符也一样，例如在浏览器输入\n\n    https://hongxi.io/你好\n\n浏览器会自动把不合规定的字符转换成%加UTF-8编码再进行请求（地址栏还是显示原本”你好”），当你粘贴在文本编辑器的时候就可以看到原本的URL变成：\n\n    https://hongxi.io/%E4%BD%A0%E5%A5%BD\n\n这里可以看到”你好”使用了它的UTF-8编码表示\n\n\n## 最后\n单纯从二进制数据是无法判断用什么编码存储的。但也有用AI来判断的，结果很出色。","slug":"base/base_01_StringCode","published":1,"updated":"2018-08-28T08:53:16.184Z","_id":"cjl8qv5t3000bhkeh4zfb9k3v","comments":1,"layout":"post","photos":[],"link":"","content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"\\assets\\css\\APlayer.min.css\"><script src=\"\\assets\\js\\APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><p>一般遇到编码问题我们一两行代码就能解决，但有时需试错。\n这里细说一点原理来备忘，但遇到编码问题还是要试错。<br>原理：映射表选错。本文提一点映射表规范。\n<a id=\"more\"></a></p>\n<h2 id=\"Base\"><a href=\"#Base\" class=\"headerlink\" title=\"Base\"></a>Base</h2><h3 id=\"字符-char\"><a href=\"#字符-char\" class=\"headerlink\" title=\"字符 char\"></a>字符 char</h3><figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-tag\">a</span> D f</span><br></pre></td></tr></table></figure>\n<p>以上三种，代表基本文字</p>\n<h3 id=\"字符串-String\"><a href=\"#字符串-String\" class=\"headerlink\" title=\"字符串 String\"></a>字符串 String</h3><figure class=\"highlight applescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nice <span class=\"keyword\">to</span> meet you</span><br></pre></td></tr></table></figure>\n<p>多个字符组集合</p>\n<h3 id=\"键值表-map\"><a href=\"#键值表-map\" class=\"headerlink\" title=\"键值表 map\"></a>键值表 map</h3><pre><code>y = x * 2\n</code></pre><p>每个x对应唯一y，x与y组成键值表(HashTable)，如：</p>\n<pre><code>1 -&gt; 2\n2 -&gt; 4\n3 -&gt; 6\n</code></pre><h3 id=\"编码-amp-解码-cod-amp-decode\"><a href=\"#编码-amp-解码-cod-amp-decode\" class=\"headerlink\" title=\"编码&amp;解码 cod &amp; decode\"></a>编码&amp;解码 cod &amp; decode</h3><p>编码:字符串按照一定规则（map）转换成二进制存储。\n字符串”123”存起来，先要转换成”246”。\n实际存储的值：    </p>\n<pre><code>0010 0100 0110\n</code></pre><p>字符串解码(decode)就是把二进制数据按一定规则转换成字符串显示。</p>\n<h2 id=\"计算机数据存储-cache\"><a href=\"#计算机数据存储-cache\" class=\"headerlink\" title=\"计算机数据存储 cache\"></a>计算机数据存储 cache</h2><p>计算机都是以”0”或”1”存储的。\n如果要存储”GEB”，它会先转换成二进制再存储。\n我们使用EngineGo表，他用3位的二进制数字表示8种不同的字符。<br>EngineGo表：</p>\n<table>\n<thead>\n<tr>\n<th>二进制</th>\n<th>字符</th>\n<th>二进制</th>\n<th>字符</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>000</td>\n<td>A</td>\n<td>100</td>\n<td>E</td>\n</tr>\n<tr>\n<td>001</td>\n<td>B</td>\n<td>101</td>\n<td>F</td>\n</tr>\n<tr>\n<td>010</td>\n<td>C</td>\n<td>110</td>\n<td>G</td>\n</tr>\n<tr>\n<td>011</td>\n<td>D</td>\n<td>111</td>\n<td>H</td>\n</tr>\n</tbody>\n</table>\n<p>我们在编辑器添加”GEB”字符串保存时，计算机根据EngineGo表存储数据</p>\n<pre><code>110 100 001\n  G   E   B \n</code></pre><p>读取时，计算机会主动猜测应该使用哪个表来还原，\n假如它猜对了，使用EngineGo表还原，便会成功得到“GEB”。\n猜错了，就乱码了。</p>\n<p>##ASCII编码\nASCII编码由西方国家设计，用英文作常用字符集，包括大小写字母，数字加一些标点符号和运算符号约120个。\n3位二进制只能表示8个不同的字符，于是我们扩充位数，7位可以表示128个字符，加1位用错误检查。\n最终使用8位，称为一个字节。</p>\n<table>\n<thead>\n<tr>\n<th>编号</th>\n<th>字符</th>\n<th>编号</th>\n<th>字符</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>（省略）…</td>\n<td>…</td>\n<td>64</td>\n<td>@</td>\n</tr>\n<tr>\n<td>48</td>\n<td>0</td>\n<td>65</td>\n<td>A</td>\n</tr>\n<tr>\n<td>49</td>\n<td>1</td>\n<td>66(1000010)</td>\n<td>B</td>\n</tr>\n<tr>\n<td>50</td>\n<td>2</td>\n<td>67</td>\n<td>C</td>\n</tr>\n<tr>\n<td>51</td>\n<td>3</td>\n<td>68</td>\n<td>D</td>\n</tr>\n<tr>\n<td>52</td>\n<td>4</td>\n<td>69(1000101)</td>\n<td>E</td>\n</tr>\n<tr>\n<td>53</td>\n<td>5</td>\n<td>70</td>\n<td>F</td>\n</tr>\n<tr>\n<td>54</td>\n<td>6</td>\n<td>71(01100111)</td>\n<td>G</td>\n</tr>\n<tr>\n<td>55</td>\n<td>7</td>\n<td>72</td>\n<td>H</td>\n</tr>\n<tr>\n<td>56</td>\n<td>8</td>\n<td>73</td>\n<td>I</td>\n</tr>\n<tr>\n<td>57</td>\n<td>9</td>\n<td>74</td>\n<td>J</td>\n</tr>\n<tr>\n<td>58</td>\n<td>:</td>\n<td>75</td>\n<td>K</td>\n</tr>\n<tr>\n<td>59</td>\n<td>;</td>\n<td>76</td>\n<td>L</td>\n</tr>\n<tr>\n<td>60</td>\n<td>&lt;</td>\n<td>77</td>\n<td>M</td>\n</tr>\n<tr>\n<td>61</td>\n<td>=</td>\n<td>78</td>\n<td>N</td>\n</tr>\n<tr>\n<td>62</td>\n<td>&gt;</td>\n<td>79</td>\n<td>O</td>\n</tr>\n<tr>\n<td>63</td>\n<td>?</td>\n<td>（省略）…</td>\n<td>…</td>\n</tr>\n</tbody>\n</table>\n<p>此时“GEB”被存储为：</p>\n<pre><code>01100111 1000101 1000010\n      B       E       B\n</code></pre><h2 id=\"GBK编码\"><a href=\"#GBK编码\" class=\"headerlink\" title=\"GBK编码\"></a>GBK编码</h2><p>但ASCII编码容量只有128。遇到中文无法处理，故国内使用GBK编码（一张更大的表）。\nGBK是可变长度的编码，为兼容ASCII编码，使用了单、双字节编码和双字节编码，\n小于127的字符，同ASCII表，大于127的，两个字节表示一个汉字。\n故处理英文字符串时，和使用ASCII表存储的二进制数据一样。  </p>\n<p>但处理中文时，如存储”你好”，GBK编码会把这个字符串编码成：</p>\n<pre><code>11000100 11100011 10111010 11000011\n</code></pre><p>“你”和”好”这分别用两个字节保存。此时使用ASCII编码保存就会报错，因ASCII编码中无”你”和”好”对应值。      </p>\n<p>我们用GBK码保存文件，如果包含中文，别人使用ASCII就无法解码。\nGBK文件只存ASCII码字符，解码时也正确，一般在文档中注明编码，打开时用对应的解码就好，但若文档中无编码信息，计算机就会猜测这是什么编码。\n即使是中文，还有繁体中文，简体中文类别。即使知道文档是中文，也不知道用哪个中文编码才能正确打开。</p>\n<h2 id=\"Unicode编码\"><a href=\"#Unicode编码\" class=\"headerlink\" title=\"Unicode编码\"></a>Unicode编码</h2><p>其实最简单方法是，用很多二进制位来存储世界上所有字符。<br>Unicode便是如此，它把每个国家的字符都编进去。如你好，对应 U+4F60 U+597D。\n不同于其他编码，Unicode只是一个标准，规定了表现形式，而编码和解码则有其他方式。  </p>\n<p>Unicode中每个字符都定义了对应表现形式：</p>\n<pre><code>4f60 597d\n你   好\n</code></pre><p>Unicode只指定表示形式，存储形式可据需选择。\n如果每个字符都保存为4字节二进制（你好==00004f60，0000597d），这就是UTF-32编码。\n已经可以用4个字节表达所有字符，没有其他技术问题。</p>\n<h2 id=\"UTF-8编码\"><a href=\"#UTF-8编码\" class=\"headerlink\" title=\"UTF-8编码\"></a>UTF-8编码</h2><p>但传输”A”字符，用UTF-32要用4个字节。而ASCII只要一个字节，这样会浪费存储空间和减缓传输速度。\nUTF-8为减少存储，将常用字符（英文）用一个字节表示（ASCII），其他用两到四个字节表示。</p>\n<p>UTF-8 UTF-32 对比</p>\n<table>\n<thead>\n<tr>\n<th>character</th>\n<th>encoding</th>\n<th>bits</th>\n<th>character</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>A</td>\n<td>ASCII</td>\n<td>01000001</td>\n<td>A</td>\n</tr>\n<tr>\n<td>A</td>\n<td>Unicode</td>\n<td>10011110 01000001(U+0041)</td>\n<td>A</td>\n</tr>\n<tr>\n<td>A</td>\n<td>UTF-32</td>\n<td>00000000 00000000 00000000 01000001</td>\n<td>A</td>\n</tr>\n<tr>\n<td>A</td>\n<td>UTF-8</td>\n<td>01000001</td>\n<td>A</td>\n</tr>\n<tr>\n<td>你</td>\n<td>ASCII</td>\n<td>无法表示</td>\n<td>你</td>\n</tr>\n<tr>\n<td>你</td>\n<td>Unicode</td>\n<td>1001111 01100000(U+4f60)</td>\n<td>你</td>\n</tr>\n<tr>\n<td>你</td>\n<td>UTF-32</td>\n<td>00000000 00000000 10011110 01100000</td>\n<td>你</td>\n</tr>\n<tr>\n<td>你</td>\n<td>UTF-8</td>\n<td>11100100 10111101 10100000(e4bda0)</td>\n<td>你</td>\n</tr>\n<tr>\n<td>character</td>\n<td>encoding</td>\n<td>bits</td>\n<td>character</td>\n</tr>\n<tr>\n<td>A</td>\n<td>ASCII</td>\n<td>01000001</td>\n<td>A</td>\n</tr>\n<tr>\n<td>A</td>\n<td>Unicode</td>\n<td>10011110 01000001(U+0041)</td>\n<td>A</td>\n</tr>\n<tr>\n<td>58</td>\n<td>:</td>\n<td>75</td>\n<td>K</td>\n</tr>\n<tr>\n<td>59</td>\n<td>;</td>\n<td>76</td>\n<td>L</td>\n</tr>\n<tr>\n<td>60</td>\n<td>&lt;</td>\n<td>77</td>\n<td>M</td>\n</tr>\n<tr>\n<td>61</td>\n<td>=</td>\n<td>78</td>\n<td>N</td>\n</tr>\n<tr>\n<td>62</td>\n<td>&gt;</td>\n<td>79</td>\n<td>O</td>\n</tr>\n<tr>\n<td>63</td>\n<td>?</td>\n<td>（省略）…</td>\n<td>…</td>\n</tr>\n</tbody>\n</table>\n<p>使用UTF-8编码后，”A”只要一个字节，汉字”你”从4个字节减少为3个。\nUnicode转换成UTF-8非只要一张转换表：</p>\n<p>Unicode范围    转换规则</p>\n<table>\n<thead>\n<tr>\n<th>Unicode范围</th>\n<th>转换规则</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>0x00000000 - 0x0000007F</td>\n<td>0xxxxxxx</td>\n</tr>\n<tr>\n<td>0x00000080 - 0x000007FF</td>\n<td>110xxxxx 10xxxxxx</td>\n</tr>\n<tr>\n<td>0x00000800 - 0x0000FFFF</td>\n<td>1110xxxx 10xxxxxx 10xxxxxx</td>\n</tr>\n<tr>\n<td>0x00010000 - 0x001FFFFF</td>\n<td>11110xxx 10xxxxxx 10xxxxxx 10xxxxxx</td>\n</tr>\n</tbody>\n</table>\n<p>以”你”为例，Unicode编码是U+4f60，对应第三列（07FF&lt;4f60&lt;FFFF），对比右边转换规则。\n把4f60的二进制1001111 01100000从右到左填入转换规则的x中，空的填0。</p>\n<pre><code>1001111 01100000 -&gt; 1110xxxx 10xxxxxx 10xxxxxx -&gt; 11100100 10111101 10100000\n</code></pre><p>最后得到的11100100 10111101 10100000(e4bda0)也就是”你”的UTF-8编码了。</p>\n<h2 id=\"HTML实体编码\"><a href=\"#HTML实体编码\" class=\"headerlink\" title=\"HTML实体编码\"></a>HTML实体编码</h2><p>浏览器解析HTML的时候会把特殊的字符串理解成非字面的含义，所以当需要显示这些特殊字符串的时候，需要经过下表的转换：</p>\n<table>\n<thead>\n<tr>\n<th>显示结果</th>\n<th>描述</th>\n<th>实体名称</th>\n<th>实体编号</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>空格</td>\n<td>&nbsp;</td>\n<td>&#160;</td>\n<td>空格</td>\n</tr>\n<tr>\n<td>&lt;</td>\n<td>小于号</td>\n<td>&lt;</td>\n<td>&#60;</td>\n</tr>\n<tr>\n<td>&gt;</td>\n<td>大于号</td>\n<td>&gt;</td>\n<td>&#62;</td>\n</tr>\n<tr>\n<td>&amp;</td>\n<td>和</td>\n<td>&amp;</td>\n<td>&#38;</td>\n</tr>\n<tr>\n<td>“</td>\n<td>双引号</td>\n<td>&quot;</td>\n<td>&#34;</td>\n</tr>\n<tr>\n<td>‘</td>\n<td>单引号</td>\n<td>&apos;</td>\n<td>&#39;</td>\n</tr>\n<tr>\n<td>′</td>\n<td>重音符</td>\n<td>&acute;</td>\n<td>&#96;</td>\n</tr>\n<tr>\n<td>©</td>\n<td>版权</td>\n<td>&copy;</td>\n<td>&#169;</td>\n</tr>\n<tr>\n<td>®</td>\n<td>注册商标</td>\n<td>&reg;</td>\n<td>&#174;</td>\n</tr>\n<tr>\n<td>™</td>\n<td>商标</td>\n<td>&trade;</td>\n<td>&#8482;</td>\n</tr>\n<tr>\n<td>你</td>\n<td>中文</td>\n<td>&#x4F60;</td>\n<td>&#x4F60;或&amp;#20320</td>\n</tr>\n<tr>\n<td>好</td>\n<td>中文</td>\n<td>&#x597D;</td>\n<td>&#x597D;或&amp;#22909</td>\n</tr>\n</tbody>\n</table>\n<p>从上表可以看到，特殊字符串是强制需要转换的，而且实际上，所有字符都可以经过转换表示，只需要用</p>\n<pre><code>&amp;#x加上其16进制Unicode编码或者\n&amp;#加上其10进制Unicode编码\n</code></pre><p>作为实体编号即可，浏览器既能解析字符串本身，也能解析其UTF-8编码。</p>\n<h2 id=\"URL编码\"><a href=\"#URL编码\" class=\"headerlink\" title=\"URL编码\"></a>URL编码</h2><p>RFC3986中规定了URI中不能出现</p>\n<pre><code>: / ? # [ ] @ ! $ &amp; &apos; ( ) * + , ; = \n</code></pre><p>当表示这些时，使用%加该字符的16进制UTF-8编码表示，出现非ASCII表的字符也一样，例如在浏览器输入</p>\n<pre><code>https://hongxi.io/你好\n</code></pre><p>浏览器会自动把不合规定的字符转换成%加UTF-8编码再进行请求（地址栏还是显示原本”你好”），当你粘贴在文本编辑器的时候就可以看到原本的URL变成：</p>\n<pre><code>https://hongxi.io/%E4%BD%A0%E5%A5%BD\n</code></pre><p>这里可以看到”你好”使用了它的UTF-8编码表示</p>\n<h2 id=\"最后\"><a href=\"#最后\" class=\"headerlink\" title=\"最后\"></a>最后</h2><p>单纯从二进制数据是无法判断用什么编码存储的。但也有用AI来判断的，结果很出色。</p>\n","site":{"data":{}},"excerpt":"<p>一般遇到编码问题我们一两行代码就能解决，但有时需试错。\n这里细说一点原理来备忘，但遇到编码问题还是要试错。<br>原理：映射表选错。本文提一点映射表规范。","more":"</p>\n<h2 id=\"Base\"><a href=\"#Base\" class=\"headerlink\" title=\"Base\"></a>Base</h2><h3 id=\"字符-char\"><a href=\"#字符-char\" class=\"headerlink\" title=\"字符 char\"></a>字符 char</h3><figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-tag\">a</span> D f</span><br></pre></td></tr></table></figure>\n<p>以上三种，代表基本文字</p>\n<h3 id=\"字符串-String\"><a href=\"#字符串-String\" class=\"headerlink\" title=\"字符串 String\"></a>字符串 String</h3><figure class=\"highlight applescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nice <span class=\"keyword\">to</span> meet you</span><br></pre></td></tr></table></figure>\n<p>多个字符组集合</p>\n<h3 id=\"键值表-map\"><a href=\"#键值表-map\" class=\"headerlink\" title=\"键值表 map\"></a>键值表 map</h3><pre><code>y = x * 2\n</code></pre><p>每个x对应唯一y，x与y组成键值表(HashTable)，如：</p>\n<pre><code>1 -&gt; 2\n2 -&gt; 4\n3 -&gt; 6\n</code></pre><h3 id=\"编码-amp-解码-cod-amp-decode\"><a href=\"#编码-amp-解码-cod-amp-decode\" class=\"headerlink\" title=\"编码&amp;解码 cod &amp; decode\"></a>编码&amp;解码 cod &amp; decode</h3><p>编码:字符串按照一定规则（map）转换成二进制存储。\n字符串”123”存起来，先要转换成”246”。\n实际存储的值：    </p>\n<pre><code>0010 0100 0110\n</code></pre><p>字符串解码(decode)就是把二进制数据按一定规则转换成字符串显示。</p>\n<h2 id=\"计算机数据存储-cache\"><a href=\"#计算机数据存储-cache\" class=\"headerlink\" title=\"计算机数据存储 cache\"></a>计算机数据存储 cache</h2><p>计算机都是以”0”或”1”存储的。\n如果要存储”GEB”，它会先转换成二进制再存储。\n我们使用EngineGo表，他用3位的二进制数字表示8种不同的字符。<br>EngineGo表：</p>\n<table>\n<thead>\n<tr>\n<th>二进制</th>\n<th>字符</th>\n<th>二进制</th>\n<th>字符</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>000</td>\n<td>A</td>\n<td>100</td>\n<td>E</td>\n</tr>\n<tr>\n<td>001</td>\n<td>B</td>\n<td>101</td>\n<td>F</td>\n</tr>\n<tr>\n<td>010</td>\n<td>C</td>\n<td>110</td>\n<td>G</td>\n</tr>\n<tr>\n<td>011</td>\n<td>D</td>\n<td>111</td>\n<td>H</td>\n</tr>\n</tbody>\n</table>\n<p>我们在编辑器添加”GEB”字符串保存时，计算机根据EngineGo表存储数据</p>\n<pre><code>110 100 001\n  G   E   B \n</code></pre><p>读取时，计算机会主动猜测应该使用哪个表来还原，\n假如它猜对了，使用EngineGo表还原，便会成功得到“GEB”。\n猜错了，就乱码了。</p>\n<p>##ASCII编码\nASCII编码由西方国家设计，用英文作常用字符集，包括大小写字母，数字加一些标点符号和运算符号约120个。\n3位二进制只能表示8个不同的字符，于是我们扩充位数，7位可以表示128个字符，加1位用错误检查。\n最终使用8位，称为一个字节。</p>\n<table>\n<thead>\n<tr>\n<th>编号</th>\n<th>字符</th>\n<th>编号</th>\n<th>字符</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>（省略）…</td>\n<td>…</td>\n<td>64</td>\n<td>@</td>\n</tr>\n<tr>\n<td>48</td>\n<td>0</td>\n<td>65</td>\n<td>A</td>\n</tr>\n<tr>\n<td>49</td>\n<td>1</td>\n<td>66(1000010)</td>\n<td>B</td>\n</tr>\n<tr>\n<td>50</td>\n<td>2</td>\n<td>67</td>\n<td>C</td>\n</tr>\n<tr>\n<td>51</td>\n<td>3</td>\n<td>68</td>\n<td>D</td>\n</tr>\n<tr>\n<td>52</td>\n<td>4</td>\n<td>69(1000101)</td>\n<td>E</td>\n</tr>\n<tr>\n<td>53</td>\n<td>5</td>\n<td>70</td>\n<td>F</td>\n</tr>\n<tr>\n<td>54</td>\n<td>6</td>\n<td>71(01100111)</td>\n<td>G</td>\n</tr>\n<tr>\n<td>55</td>\n<td>7</td>\n<td>72</td>\n<td>H</td>\n</tr>\n<tr>\n<td>56</td>\n<td>8</td>\n<td>73</td>\n<td>I</td>\n</tr>\n<tr>\n<td>57</td>\n<td>9</td>\n<td>74</td>\n<td>J</td>\n</tr>\n<tr>\n<td>58</td>\n<td>:</td>\n<td>75</td>\n<td>K</td>\n</tr>\n<tr>\n<td>59</td>\n<td>;</td>\n<td>76</td>\n<td>L</td>\n</tr>\n<tr>\n<td>60</td>\n<td>&lt;</td>\n<td>77</td>\n<td>M</td>\n</tr>\n<tr>\n<td>61</td>\n<td>=</td>\n<td>78</td>\n<td>N</td>\n</tr>\n<tr>\n<td>62</td>\n<td>&gt;</td>\n<td>79</td>\n<td>O</td>\n</tr>\n<tr>\n<td>63</td>\n<td>?</td>\n<td>（省略）…</td>\n<td>…</td>\n</tr>\n</tbody>\n</table>\n<p>此时“GEB”被存储为：</p>\n<pre><code>01100111 1000101 1000010\n      B       E       B\n</code></pre><h2 id=\"GBK编码\"><a href=\"#GBK编码\" class=\"headerlink\" title=\"GBK编码\"></a>GBK编码</h2><p>但ASCII编码容量只有128。遇到中文无法处理，故国内使用GBK编码（一张更大的表）。\nGBK是可变长度的编码，为兼容ASCII编码，使用了单、双字节编码和双字节编码，\n小于127的字符，同ASCII表，大于127的，两个字节表示一个汉字。\n故处理英文字符串时，和使用ASCII表存储的二进制数据一样。  </p>\n<p>但处理中文时，如存储”你好”，GBK编码会把这个字符串编码成：</p>\n<pre><code>11000100 11100011 10111010 11000011\n</code></pre><p>“你”和”好”这分别用两个字节保存。此时使用ASCII编码保存就会报错，因ASCII编码中无”你”和”好”对应值。      </p>\n<p>我们用GBK码保存文件，如果包含中文，别人使用ASCII就无法解码。\nGBK文件只存ASCII码字符，解码时也正确，一般在文档中注明编码，打开时用对应的解码就好，但若文档中无编码信息，计算机就会猜测这是什么编码。\n即使是中文，还有繁体中文，简体中文类别。即使知道文档是中文，也不知道用哪个中文编码才能正确打开。</p>\n<h2 id=\"Unicode编码\"><a href=\"#Unicode编码\" class=\"headerlink\" title=\"Unicode编码\"></a>Unicode编码</h2><p>其实最简单方法是，用很多二进制位来存储世界上所有字符。<br>Unicode便是如此，它把每个国家的字符都编进去。如你好，对应 U+4F60 U+597D。\n不同于其他编码，Unicode只是一个标准，规定了表现形式，而编码和解码则有其他方式。  </p>\n<p>Unicode中每个字符都定义了对应表现形式：</p>\n<pre><code>4f60 597d\n你   好\n</code></pre><p>Unicode只指定表示形式，存储形式可据需选择。\n如果每个字符都保存为4字节二进制（你好==00004f60，0000597d），这就是UTF-32编码。\n已经可以用4个字节表达所有字符，没有其他技术问题。</p>\n<h2 id=\"UTF-8编码\"><a href=\"#UTF-8编码\" class=\"headerlink\" title=\"UTF-8编码\"></a>UTF-8编码</h2><p>但传输”A”字符，用UTF-32要用4个字节。而ASCII只要一个字节，这样会浪费存储空间和减缓传输速度。\nUTF-8为减少存储，将常用字符（英文）用一个字节表示（ASCII），其他用两到四个字节表示。</p>\n<p>UTF-8 UTF-32 对比</p>\n<table>\n<thead>\n<tr>\n<th>character</th>\n<th>encoding</th>\n<th>bits</th>\n<th>character</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>A</td>\n<td>ASCII</td>\n<td>01000001</td>\n<td>A</td>\n</tr>\n<tr>\n<td>A</td>\n<td>Unicode</td>\n<td>10011110 01000001(U+0041)</td>\n<td>A</td>\n</tr>\n<tr>\n<td>A</td>\n<td>UTF-32</td>\n<td>00000000 00000000 00000000 01000001</td>\n<td>A</td>\n</tr>\n<tr>\n<td>A</td>\n<td>UTF-8</td>\n<td>01000001</td>\n<td>A</td>\n</tr>\n<tr>\n<td>你</td>\n<td>ASCII</td>\n<td>无法表示</td>\n<td>你</td>\n</tr>\n<tr>\n<td>你</td>\n<td>Unicode</td>\n<td>1001111 01100000(U+4f60)</td>\n<td>你</td>\n</tr>\n<tr>\n<td>你</td>\n<td>UTF-32</td>\n<td>00000000 00000000 10011110 01100000</td>\n<td>你</td>\n</tr>\n<tr>\n<td>你</td>\n<td>UTF-8</td>\n<td>11100100 10111101 10100000(e4bda0)</td>\n<td>你</td>\n</tr>\n<tr>\n<td>character</td>\n<td>encoding</td>\n<td>bits</td>\n<td>character</td>\n</tr>\n<tr>\n<td>A</td>\n<td>ASCII</td>\n<td>01000001</td>\n<td>A</td>\n</tr>\n<tr>\n<td>A</td>\n<td>Unicode</td>\n<td>10011110 01000001(U+0041)</td>\n<td>A</td>\n</tr>\n<tr>\n<td>58</td>\n<td>:</td>\n<td>75</td>\n<td>K</td>\n</tr>\n<tr>\n<td>59</td>\n<td>;</td>\n<td>76</td>\n<td>L</td>\n</tr>\n<tr>\n<td>60</td>\n<td>&lt;</td>\n<td>77</td>\n<td>M</td>\n</tr>\n<tr>\n<td>61</td>\n<td>=</td>\n<td>78</td>\n<td>N</td>\n</tr>\n<tr>\n<td>62</td>\n<td>&gt;</td>\n<td>79</td>\n<td>O</td>\n</tr>\n<tr>\n<td>63</td>\n<td>?</td>\n<td>（省略）…</td>\n<td>…</td>\n</tr>\n</tbody>\n</table>\n<p>使用UTF-8编码后，”A”只要一个字节，汉字”你”从4个字节减少为3个。\nUnicode转换成UTF-8非只要一张转换表：</p>\n<p>Unicode范围    转换规则</p>\n<table>\n<thead>\n<tr>\n<th>Unicode范围</th>\n<th>转换规则</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>0x00000000 - 0x0000007F</td>\n<td>0xxxxxxx</td>\n</tr>\n<tr>\n<td>0x00000080 - 0x000007FF</td>\n<td>110xxxxx 10xxxxxx</td>\n</tr>\n<tr>\n<td>0x00000800 - 0x0000FFFF</td>\n<td>1110xxxx 10xxxxxx 10xxxxxx</td>\n</tr>\n<tr>\n<td>0x00010000 - 0x001FFFFF</td>\n<td>11110xxx 10xxxxxx 10xxxxxx 10xxxxxx</td>\n</tr>\n</tbody>\n</table>\n<p>以”你”为例，Unicode编码是U+4f60，对应第三列（07FF&lt;4f60&lt;FFFF），对比右边转换规则。\n把4f60的二进制1001111 01100000从右到左填入转换规则的x中，空的填0。</p>\n<pre><code>1001111 01100000 -&gt; 1110xxxx 10xxxxxx 10xxxxxx -&gt; 11100100 10111101 10100000\n</code></pre><p>最后得到的11100100 10111101 10100000(e4bda0)也就是”你”的UTF-8编码了。</p>\n<h2 id=\"HTML实体编码\"><a href=\"#HTML实体编码\" class=\"headerlink\" title=\"HTML实体编码\"></a>HTML实体编码</h2><p>浏览器解析HTML的时候会把特殊的字符串理解成非字面的含义，所以当需要显示这些特殊字符串的时候，需要经过下表的转换：</p>\n<table>\n<thead>\n<tr>\n<th>显示结果</th>\n<th>描述</th>\n<th>实体名称</th>\n<th>实体编号</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>空格</td>\n<td>&nbsp;</td>\n<td>&#160;</td>\n<td>空格</td>\n</tr>\n<tr>\n<td>&lt;</td>\n<td>小于号</td>\n<td>&lt;</td>\n<td>&#60;</td>\n</tr>\n<tr>\n<td>&gt;</td>\n<td>大于号</td>\n<td>&gt;</td>\n<td>&#62;</td>\n</tr>\n<tr>\n<td>&amp;</td>\n<td>和</td>\n<td>&amp;</td>\n<td>&#38;</td>\n</tr>\n<tr>\n<td>“</td>\n<td>双引号</td>\n<td>&quot;</td>\n<td>&#34;</td>\n</tr>\n<tr>\n<td>‘</td>\n<td>单引号</td>\n<td>&apos;</td>\n<td>&#39;</td>\n</tr>\n<tr>\n<td>′</td>\n<td>重音符</td>\n<td>&acute;</td>\n<td>&#96;</td>\n</tr>\n<tr>\n<td>©</td>\n<td>版权</td>\n<td>&copy;</td>\n<td>&#169;</td>\n</tr>\n<tr>\n<td>®</td>\n<td>注册商标</td>\n<td>&reg;</td>\n<td>&#174;</td>\n</tr>\n<tr>\n<td>™</td>\n<td>商标</td>\n<td>&trade;</td>\n<td>&#8482;</td>\n</tr>\n<tr>\n<td>你</td>\n<td>中文</td>\n<td>&#x4F60;</td>\n<td>&#x4F60;或&amp;#20320</td>\n</tr>\n<tr>\n<td>好</td>\n<td>中文</td>\n<td>&#x597D;</td>\n<td>&#x597D;或&amp;#22909</td>\n</tr>\n</tbody>\n</table>\n<p>从上表可以看到，特殊字符串是强制需要转换的，而且实际上，所有字符都可以经过转换表示，只需要用</p>\n<pre><code>&amp;#x加上其16进制Unicode编码或者\n&amp;#加上其10进制Unicode编码\n</code></pre><p>作为实体编号即可，浏览器既能解析字符串本身，也能解析其UTF-8编码。</p>\n<h2 id=\"URL编码\"><a href=\"#URL编码\" class=\"headerlink\" title=\"URL编码\"></a>URL编码</h2><p>RFC3986中规定了URI中不能出现</p>\n<pre><code>: / ? # [ ] @ ! $ &amp; &apos; ( ) * + , ; = \n</code></pre><p>当表示这些时，使用%加该字符的16进制UTF-8编码表示，出现非ASCII表的字符也一样，例如在浏览器输入</p>\n<pre><code>https://hongxi.io/你好\n</code></pre><p>浏览器会自动把不合规定的字符转换成%加UTF-8编码再进行请求（地址栏还是显示原本”你好”），当你粘贴在文本编辑器的时候就可以看到原本的URL变成：</p>\n<pre><code>https://hongxi.io/%E4%BD%A0%E5%A5%BD\n</code></pre><p>这里可以看到”你好”使用了它的UTF-8编码表示</p>\n<h2 id=\"最后\"><a href=\"#最后\" class=\"headerlink\" title=\"最后\"></a>最后</h2><p>单纯从二进制数据是无法判断用什么编码存储的。但也有用AI来判断的，结果很出色。</p>"},{"title":"公私钥加密 Public/private keyEncryption","copyright":true,"date":"2018-01-05T05:00:00.000Z","_content":"\n\n本文主要介绍密码学常用工具极其原理，包括不对称加密，加密算法，数字签名等内容\n<!-- more -->\n\n\n## Base\n## 对称密码 symmetric encryption\n特点：  \n  加密和解密使用的是同一个密码  \n  加密后的密文只有该对称密码才能解密  \n别名：对称密码，私钥密码  \n例子：保险柜  \n\n    # 原文\n    显卡，Gtx610\n    \n    # 约定一个密钥（不能被第三方知道）\n    000111 \n    \n    # 把信息和对称密钥异或运算，得到密文\n    101100\n我们可以将密文和密钥告知另一人，他用异或运算可获取原文。  \n但在使用中，加解密通常会使用分组密码多次迭代异或。常用的对称加密算法有DES与AES。\n\n|          | DES          | AES                             |\n| -------- | ------------ | ------------------------------- |\n| 密钥长度 | 56位        | 128, 192, 256 位               |\n| 加密方式 | 对称分组密码 | 对称分组密码              |\n| 加密轮数 | 16轮        | 128位10轮，192位12轮，256位14轮 |\n| 安全性 | 被攻破    | 安全                          |\n| 速度   | 较慢       | 较快                          |\n\n## 密码配送 key allocation\n对称密码最大的问题是密钥配送，\n如何约定只有传输者和接受者都知道并且足够长的密钥“000111”，\n任何得到这个密钥的人都能够解密信息。常用的解决方法有两种：\n\n-使用密钥分配中心  \n1.A与B想要加密传输信息。  \n2.密钥分配中心为每个人都生成一个密钥。  \n   >A的密钥是000000  \n   B的密钥是111111\n\n3.当A,B准备传输信息时，分配中心会生成一个会话密钥。-> 会话密钥=000111。\n4.分别用A,B密钥加密会话密钥，发送给A,B。\n   >“A，会话密钥通过你的密钥加密后是000111。”\n   “B，会话密钥通过你的密钥加密后是111000。”\n\n5.A,B用自己的密钥解密->得到会话密钥，再用会话密钥进行对称加密->传输信息，之后销毁会话密钥。  \n但该方法的缺点很明显：  \n   >需要密钥分配中心，不方便。\n   分配中心也会遇到密钥配送问题。\n   分配中心被攻破所有人都会很危险。\n\n## 非对称密码 asymmetric cryptographic \n与对称密码不同，它包含一个公钥和私钥。  \n特点：  \n+公钥与私钥严格符合数学关系一一对应且不可互换  \n+公钥可公开发布，私钥必须自己保管，不可泄露  \n+公钥加密的内容只有对应的私钥才能解密，使用私钥签名的内容只有对应的公钥才能解密  \n#### 注意 attention\n虽然都用一样的分组迭代算法(AES，DES)，\n但是公钥对明文运算称为“加密”，私钥对明文运算称为“签名”。\nRSA算法中，公私钥的数学关系满足：\n\n    公钥 * 私钥 mod L = 1\n以上可以看出公私钥可以互换，都能用一个加密，另外一个解密。\n**但是，公钥在选取的时候需满足一些额外条件(如与L互质),\n所以使用公钥加密才符合严格的数学安全，而私钥“加密”不能。私钥只能用作签名，\n让持有公钥者来验证这条信息确实是私钥持有者认证过的，实际用作加密则安全性没有公钥高。**\n\n## 场景演化 test\nSunkist，Cherry，Wing三个约一起见面。\n任意两个人沟通的内容，第三个人都可以听到。\n而且他们之间只能通过聊天沟通，不能通过肢体语言或者传纸条的方式交流。\nSunkist与Cherry要如何传输信息而不被Wing发现？  \n两个步骤:  \n**1.商议密钥，要在Wing在旁边的情况下约定一个只有Sunkist与Cherry知道的密钥。  \n2.通过密钥把信息进行对称加密传输，这点很像上面提到的对称加密。**  \n \n假定该场景中三人只会乘法，不会除法。简称为Sunkist-Cherry算法：  \n1.让Sunkist与Cherry都确定一个算法（通常是公开的算法）。  \n   >Sunkist： “我会Diffie-Hellman算法和Sunkist-Cherry算法。”  \n   Cherry：“我只会Sunkist-Cherry算法，那我们就用这个算法吧。”  \n   Wing：“我知道你们要用Sunkist-Cherry算法了。”  \n   \n2.Sunkist与Cherry分别选择一个私人数字，这个私人数字必须保密。\n  >Sunkist： “我不会告诉你我选择了什么数字。”（Sunkist选择了数字5，其他两人都不知道。）  \n  Cherry： “我不会告诉你我选择了什么数字。”（Cherry选择了数字10，其他两人都不知道。）  \n  Wing：“我知道你们要用Sunkist-Cherry算法了。”  \n\n3.共同选择一个数字，作为公有数字。\n  >Sunkist： “我们就选择数字2作为公有数字吧。”  \n   Cherry：“好的！”    \n   Wing：“你们要用Sunkist-Cherry算法，而且公有数字是2。”  \n\n4.Sunkist与Cherry分别把公有数字乘以自己的私人数字得到混合数字，然后告诉对方。\n     \n   >Sunkist： “我的混合数字是10。”（5 * 2 = 10）  \n   Cherry： “我的混合数字是20。”（10 * 2 = 20）  \n   Wing：“你们要用Sunkist-Cherry算法，而且公有数字是2。\n   Sunkist的混合数字是10，Cherry的混合数字是20。”\n   \n5.Sunkist与Cherry分别把私人数字与对方的混合数字相乘，得到最终的密钥\n   >Sunkist把私人数字5以及Cherry的混合数字20相乘得到100。  \n   Cherry把私人数字10以及Sunkist的混合数字10相乘得到100。  \n   \n**整个过程中，公钥是2，最终商议出的密钥是100，\nWing虽然知道Sunkist与Cherry聊天的全部内容，\n知道公有数字与它们的混合数字，但无法计算出密钥。**  \n\nSunkist-Cherry算法利用了一个容易运算（乘法）但不可逆（除法）的数学技巧。\n在实际应用，我们最常使用Diffie–Hellman算法，它利用了基于有限域上的离散对数的性质。\nSunkist-Cherry算法与Diffie-Hellman算法解决了当双方只能公开交换信息的时候商议密钥的问题。\n要注意，在这里的公私钥并不是用作互相加解密的。\n  \n非对称密码除了解决商议密钥的问题，还常常用来解决另外一个问题，\n例如使用RSA算法，生成一对一一对应的公私钥，经过公钥加密的内容只有私钥才能解密,\n通过私钥签名的内容通过公钥才能验证。\n在实际应用中，使用公钥加密，私钥解密用在SSH登录以及Https传输中，\n而私钥签名，公钥解密则用在数字签名中。\n\n## 数字签名\nSunkist要找Cherry借钱，大家商议立一个借据。\n不过如果在无法见面的情况下，如何立借据并且证明这个借据是Sunkist写的呢？\n这里需要用到RSA算法，Sunkist使用RSA算法生成一对公私钥，\n把公钥公布在自己的网站上，然后把借据通过私钥签名，\n所有人都可以通过Sunkist的公钥尝试对签名后的内容解密，能解密成功则证明这个借据是Sunkist写的。\n使用数字签名有几个好处:\n\n1.无需物理接触  \n2.容易验证，只需要用公钥去尝试解密就能验证。  \n3.防止Sunkist否认，因为公钥能解密的内容必定是对应的私钥加密的。  \n\n但Cherry如何确定这个公钥是Sunkist的，\n当它要获取Sunkist的公钥的时候，有可能Sunkist的网站被黑了，被换作其他人的公钥了（中间人攻击）。\n要解决这个问题，我们可以使用数字证书来确保获取正确的公钥。\n\n## 数字证书\n数字证书的作用就是获取某人的正确公钥，首先我们需要一个中立可信的证书机构，\n它有点像注册中心，大家可以把自己的公钥放在它那里保管。当Cherry要获取Sunkist的公钥的时候：\n\nSunkist先向证书机构注册自己的公钥。\nCherry向证书机构请求Sunkist的公钥。\n证书机构用自己的私钥把Sunkist的公钥进行签名后发送给Cherry，\n一般来说我们浏览器默认会存储了证书机构的公钥，使用证书机构的公钥把签名后信息解密，然后得到Sunkist的公钥。\n使用Sunkist的公钥把Sunkist发送的信息进行解密。\n这里有个信任链，我们默认信任了浏览器中的证书机构的公钥，证书机构信任了Sunkist提交的公钥。我们使用证书机构的公钥解密就能得到Sunkist正确的公钥。\n\n## SSH登陆\nSSH登录有两种方式：\n\n使用密码登录\n使用公钥登录\nSSH在第一次登录主机的时候，会有类似的信息：\n\nThe authenticity of host 'host (12.18.429.21)' can't be established.\nRSA key fingerprint is 98:2e:d7:e0:de:9f:ac:67:28:c2:42:2d:37:16:58:4d.\nAre you sure you want to continue connecting (yes/no)?\n什么意思呢？主机会发送它的公钥指纹，你需要验证这个公钥是该主机的。\n确认之后，它们一开始都需要通过Diffie–Hellman算法商议密钥进行加密传输。\n然后再进入认证过程，之后的数据传输使用对称加密传输。其中密码登录方式的话直接使用对称加密验证密码。而使用公钥登录分为几个步骤\n\n客户端使用非对称加密算法（RSA，椭圆曲线算法）生成一对公私钥对。\n客户端把公钥放在服务端的anthority_key文件中。\n客户端与服务端建立了加密通道之后，服务端会使用客户端的公钥随机加密一个信息然后发送给本机\n客户端用自己的私钥解密，并且返回信息。\n服务端认证返回的信息与随机生成的信息是否相同，相同则认证成功。\n\n## Https传输\nHttps和ssl握手的具体过程：\n\n1.客户端的浏览器向服务器传送客户端 SSL 协议的版本号，加密算法的种类，产生的随机数，以及其他服务器和客户端之间通讯所需要的各种信息。  \n2.服务器向客户端传送 SSL 协议的版本号，加密算法的种类，随机数以及其他相关信息，同时服务器还将向客户端传送自己的证书。  \n3.客户利用服务器传过来的信息验证服务器的合法性，\n服务器的合法性包括：证书是否过期，发行服务器证书的 CA 是否可靠，发行者证书的公钥能否正确解开服务器证书的“发行者的数字签名”，\n服务器证书上的域名是否和服务器的实际域名相匹配。如果合法性验证没有通过，通讯将断开；如果合法性验证通过，将继续进行第四步。\n4.用户端随机产生一个用于后面通讯的“对称密码”，\n然后用服务器的公钥（服务器的公钥从步骤②中的服务器的证书中获得）对其加密，然后将加密后的“预主密码”传给服务器。\n….\n第三步，客户端就使用数字证书技术来获取网站的公钥。\n接下来就商议密钥进行对称加密传输。可以说，总的来说，Https传输是先使用非对称加密验证以及商议密钥，再经过对称加密传输数据的。\n\n## API调用\n我们使用第三方的API（例如七牛云，腾讯云的人工智能API），第三方为了验证调用是某个用户发起的，会提供一个公钥和一个私钥。\n这里的公钥和私钥并不是一一对应的，而是从两对公私钥中，分别取出一对的公钥与另外一对的私钥。\n\ns-c3\n\n剩下的公私钥由第三方保存。我们有两种方式使用这对公私钥：\n\n客户端调用 我们把公钥放在客户端文件中（js文件，手机客户端），因为公钥是可以公开的，不用担心被窃取。调用的时候通过公钥把信息进行加密发到第三方，第三方用对应的私钥解密。\n\n服务端调用 我们把私钥放在自己的服务端中。然后调用的时候通过私钥把信息进行签名发送给第三方，第三方用对应的公钥解密，如果能成功解密则代表验证成功。\n\n## 说明\n\n-因为对称加密比非对称加密快得多。在实际应用例如Https传输，API调用，都是使用非对称加密验证以及商议密钥。然后通过密钥进行对称加密传输数据。  \n-公钥和私钥是符合严格数学关系的一对一对应，一个公钥有且只有一个对应的私钥。  \n-公钥加密的信息只有相应的私钥才能解密，私钥签名的内容只有相应的公钥才能解密。  \n-为了保证系统的保密性，虽然公私钥能互相加解密，但是公钥和私钥并不能交换使用。（不能把私钥当成公钥用，把公钥当成私钥用。）  \n-用公钥加密，私钥解密，通常用在数据传输协商对称密钥。或者进行少量信息传输与验证（SSH登录）  \n-用私钥签名-公钥解密通常用在数字签名中。（证明文件是由私钥拥有者认证的。）  \n\n非对称加密中，公钥是可以公开的，只需要保管好私钥就好。\n\n","source":"_posts/base/base_02_keyEncrypt.md","raw":"---\ntitle: 公私钥加密 Public/private keyEncryption\ncopyright: true  \ntags: \n    - base \n    - encrypt  \n    - algorithm\n\ncategories: \n    - Base    \n    \ndate: 2018-01-005 13:00:00\n---\n\n\n本文主要介绍密码学常用工具极其原理，包括不对称加密，加密算法，数字签名等内容\n<!-- more -->\n\n\n## Base\n## 对称密码 symmetric encryption\n特点：  \n  加密和解密使用的是同一个密码  \n  加密后的密文只有该对称密码才能解密  \n别名：对称密码，私钥密码  \n例子：保险柜  \n\n    # 原文\n    显卡，Gtx610\n    \n    # 约定一个密钥（不能被第三方知道）\n    000111 \n    \n    # 把信息和对称密钥异或运算，得到密文\n    101100\n我们可以将密文和密钥告知另一人，他用异或运算可获取原文。  \n但在使用中，加解密通常会使用分组密码多次迭代异或。常用的对称加密算法有DES与AES。\n\n|          | DES          | AES                             |\n| -------- | ------------ | ------------------------------- |\n| 密钥长度 | 56位        | 128, 192, 256 位               |\n| 加密方式 | 对称分组密码 | 对称分组密码              |\n| 加密轮数 | 16轮        | 128位10轮，192位12轮，256位14轮 |\n| 安全性 | 被攻破    | 安全                          |\n| 速度   | 较慢       | 较快                          |\n\n## 密码配送 key allocation\n对称密码最大的问题是密钥配送，\n如何约定只有传输者和接受者都知道并且足够长的密钥“000111”，\n任何得到这个密钥的人都能够解密信息。常用的解决方法有两种：\n\n-使用密钥分配中心  \n1.A与B想要加密传输信息。  \n2.密钥分配中心为每个人都生成一个密钥。  \n   >A的密钥是000000  \n   B的密钥是111111\n\n3.当A,B准备传输信息时，分配中心会生成一个会话密钥。-> 会话密钥=000111。\n4.分别用A,B密钥加密会话密钥，发送给A,B。\n   >“A，会话密钥通过你的密钥加密后是000111。”\n   “B，会话密钥通过你的密钥加密后是111000。”\n\n5.A,B用自己的密钥解密->得到会话密钥，再用会话密钥进行对称加密->传输信息，之后销毁会话密钥。  \n但该方法的缺点很明显：  \n   >需要密钥分配中心，不方便。\n   分配中心也会遇到密钥配送问题。\n   分配中心被攻破所有人都会很危险。\n\n## 非对称密码 asymmetric cryptographic \n与对称密码不同，它包含一个公钥和私钥。  \n特点：  \n+公钥与私钥严格符合数学关系一一对应且不可互换  \n+公钥可公开发布，私钥必须自己保管，不可泄露  \n+公钥加密的内容只有对应的私钥才能解密，使用私钥签名的内容只有对应的公钥才能解密  \n#### 注意 attention\n虽然都用一样的分组迭代算法(AES，DES)，\n但是公钥对明文运算称为“加密”，私钥对明文运算称为“签名”。\nRSA算法中，公私钥的数学关系满足：\n\n    公钥 * 私钥 mod L = 1\n以上可以看出公私钥可以互换，都能用一个加密，另外一个解密。\n**但是，公钥在选取的时候需满足一些额外条件(如与L互质),\n所以使用公钥加密才符合严格的数学安全，而私钥“加密”不能。私钥只能用作签名，\n让持有公钥者来验证这条信息确实是私钥持有者认证过的，实际用作加密则安全性没有公钥高。**\n\n## 场景演化 test\nSunkist，Cherry，Wing三个约一起见面。\n任意两个人沟通的内容，第三个人都可以听到。\n而且他们之间只能通过聊天沟通，不能通过肢体语言或者传纸条的方式交流。\nSunkist与Cherry要如何传输信息而不被Wing发现？  \n两个步骤:  \n**1.商议密钥，要在Wing在旁边的情况下约定一个只有Sunkist与Cherry知道的密钥。  \n2.通过密钥把信息进行对称加密传输，这点很像上面提到的对称加密。**  \n \n假定该场景中三人只会乘法，不会除法。简称为Sunkist-Cherry算法：  \n1.让Sunkist与Cherry都确定一个算法（通常是公开的算法）。  \n   >Sunkist： “我会Diffie-Hellman算法和Sunkist-Cherry算法。”  \n   Cherry：“我只会Sunkist-Cherry算法，那我们就用这个算法吧。”  \n   Wing：“我知道你们要用Sunkist-Cherry算法了。”  \n   \n2.Sunkist与Cherry分别选择一个私人数字，这个私人数字必须保密。\n  >Sunkist： “我不会告诉你我选择了什么数字。”（Sunkist选择了数字5，其他两人都不知道。）  \n  Cherry： “我不会告诉你我选择了什么数字。”（Cherry选择了数字10，其他两人都不知道。）  \n  Wing：“我知道你们要用Sunkist-Cherry算法了。”  \n\n3.共同选择一个数字，作为公有数字。\n  >Sunkist： “我们就选择数字2作为公有数字吧。”  \n   Cherry：“好的！”    \n   Wing：“你们要用Sunkist-Cherry算法，而且公有数字是2。”  \n\n4.Sunkist与Cherry分别把公有数字乘以自己的私人数字得到混合数字，然后告诉对方。\n     \n   >Sunkist： “我的混合数字是10。”（5 * 2 = 10）  \n   Cherry： “我的混合数字是20。”（10 * 2 = 20）  \n   Wing：“你们要用Sunkist-Cherry算法，而且公有数字是2。\n   Sunkist的混合数字是10，Cherry的混合数字是20。”\n   \n5.Sunkist与Cherry分别把私人数字与对方的混合数字相乘，得到最终的密钥\n   >Sunkist把私人数字5以及Cherry的混合数字20相乘得到100。  \n   Cherry把私人数字10以及Sunkist的混合数字10相乘得到100。  \n   \n**整个过程中，公钥是2，最终商议出的密钥是100，\nWing虽然知道Sunkist与Cherry聊天的全部内容，\n知道公有数字与它们的混合数字，但无法计算出密钥。**  \n\nSunkist-Cherry算法利用了一个容易运算（乘法）但不可逆（除法）的数学技巧。\n在实际应用，我们最常使用Diffie–Hellman算法，它利用了基于有限域上的离散对数的性质。\nSunkist-Cherry算法与Diffie-Hellman算法解决了当双方只能公开交换信息的时候商议密钥的问题。\n要注意，在这里的公私钥并不是用作互相加解密的。\n  \n非对称密码除了解决商议密钥的问题，还常常用来解决另外一个问题，\n例如使用RSA算法，生成一对一一对应的公私钥，经过公钥加密的内容只有私钥才能解密,\n通过私钥签名的内容通过公钥才能验证。\n在实际应用中，使用公钥加密，私钥解密用在SSH登录以及Https传输中，\n而私钥签名，公钥解密则用在数字签名中。\n\n## 数字签名\nSunkist要找Cherry借钱，大家商议立一个借据。\n不过如果在无法见面的情况下，如何立借据并且证明这个借据是Sunkist写的呢？\n这里需要用到RSA算法，Sunkist使用RSA算法生成一对公私钥，\n把公钥公布在自己的网站上，然后把借据通过私钥签名，\n所有人都可以通过Sunkist的公钥尝试对签名后的内容解密，能解密成功则证明这个借据是Sunkist写的。\n使用数字签名有几个好处:\n\n1.无需物理接触  \n2.容易验证，只需要用公钥去尝试解密就能验证。  \n3.防止Sunkist否认，因为公钥能解密的内容必定是对应的私钥加密的。  \n\n但Cherry如何确定这个公钥是Sunkist的，\n当它要获取Sunkist的公钥的时候，有可能Sunkist的网站被黑了，被换作其他人的公钥了（中间人攻击）。\n要解决这个问题，我们可以使用数字证书来确保获取正确的公钥。\n\n## 数字证书\n数字证书的作用就是获取某人的正确公钥，首先我们需要一个中立可信的证书机构，\n它有点像注册中心，大家可以把自己的公钥放在它那里保管。当Cherry要获取Sunkist的公钥的时候：\n\nSunkist先向证书机构注册自己的公钥。\nCherry向证书机构请求Sunkist的公钥。\n证书机构用自己的私钥把Sunkist的公钥进行签名后发送给Cherry，\n一般来说我们浏览器默认会存储了证书机构的公钥，使用证书机构的公钥把签名后信息解密，然后得到Sunkist的公钥。\n使用Sunkist的公钥把Sunkist发送的信息进行解密。\n这里有个信任链，我们默认信任了浏览器中的证书机构的公钥，证书机构信任了Sunkist提交的公钥。我们使用证书机构的公钥解密就能得到Sunkist正确的公钥。\n\n## SSH登陆\nSSH登录有两种方式：\n\n使用密码登录\n使用公钥登录\nSSH在第一次登录主机的时候，会有类似的信息：\n\nThe authenticity of host 'host (12.18.429.21)' can't be established.\nRSA key fingerprint is 98:2e:d7:e0:de:9f:ac:67:28:c2:42:2d:37:16:58:4d.\nAre you sure you want to continue connecting (yes/no)?\n什么意思呢？主机会发送它的公钥指纹，你需要验证这个公钥是该主机的。\n确认之后，它们一开始都需要通过Diffie–Hellman算法商议密钥进行加密传输。\n然后再进入认证过程，之后的数据传输使用对称加密传输。其中密码登录方式的话直接使用对称加密验证密码。而使用公钥登录分为几个步骤\n\n客户端使用非对称加密算法（RSA，椭圆曲线算法）生成一对公私钥对。\n客户端把公钥放在服务端的anthority_key文件中。\n客户端与服务端建立了加密通道之后，服务端会使用客户端的公钥随机加密一个信息然后发送给本机\n客户端用自己的私钥解密，并且返回信息。\n服务端认证返回的信息与随机生成的信息是否相同，相同则认证成功。\n\n## Https传输\nHttps和ssl握手的具体过程：\n\n1.客户端的浏览器向服务器传送客户端 SSL 协议的版本号，加密算法的种类，产生的随机数，以及其他服务器和客户端之间通讯所需要的各种信息。  \n2.服务器向客户端传送 SSL 协议的版本号，加密算法的种类，随机数以及其他相关信息，同时服务器还将向客户端传送自己的证书。  \n3.客户利用服务器传过来的信息验证服务器的合法性，\n服务器的合法性包括：证书是否过期，发行服务器证书的 CA 是否可靠，发行者证书的公钥能否正确解开服务器证书的“发行者的数字签名”，\n服务器证书上的域名是否和服务器的实际域名相匹配。如果合法性验证没有通过，通讯将断开；如果合法性验证通过，将继续进行第四步。\n4.用户端随机产生一个用于后面通讯的“对称密码”，\n然后用服务器的公钥（服务器的公钥从步骤②中的服务器的证书中获得）对其加密，然后将加密后的“预主密码”传给服务器。\n….\n第三步，客户端就使用数字证书技术来获取网站的公钥。\n接下来就商议密钥进行对称加密传输。可以说，总的来说，Https传输是先使用非对称加密验证以及商议密钥，再经过对称加密传输数据的。\n\n## API调用\n我们使用第三方的API（例如七牛云，腾讯云的人工智能API），第三方为了验证调用是某个用户发起的，会提供一个公钥和一个私钥。\n这里的公钥和私钥并不是一一对应的，而是从两对公私钥中，分别取出一对的公钥与另外一对的私钥。\n\ns-c3\n\n剩下的公私钥由第三方保存。我们有两种方式使用这对公私钥：\n\n客户端调用 我们把公钥放在客户端文件中（js文件，手机客户端），因为公钥是可以公开的，不用担心被窃取。调用的时候通过公钥把信息进行加密发到第三方，第三方用对应的私钥解密。\n\n服务端调用 我们把私钥放在自己的服务端中。然后调用的时候通过私钥把信息进行签名发送给第三方，第三方用对应的公钥解密，如果能成功解密则代表验证成功。\n\n## 说明\n\n-因为对称加密比非对称加密快得多。在实际应用例如Https传输，API调用，都是使用非对称加密验证以及商议密钥。然后通过密钥进行对称加密传输数据。  \n-公钥和私钥是符合严格数学关系的一对一对应，一个公钥有且只有一个对应的私钥。  \n-公钥加密的信息只有相应的私钥才能解密，私钥签名的内容只有相应的公钥才能解密。  \n-为了保证系统的保密性，虽然公私钥能互相加解密，但是公钥和私钥并不能交换使用。（不能把私钥当成公钥用，把公钥当成私钥用。）  \n-用公钥加密，私钥解密，通常用在数据传输协商对称密钥。或者进行少量信息传输与验证（SSH登录）  \n-用私钥签名-公钥解密通常用在数字签名中。（证明文件是由私钥拥有者认证的。）  \n\n非对称加密中，公钥是可以公开的，只需要保管好私钥就好。\n\n","slug":"base/base_02_keyEncrypt","published":1,"updated":"2018-08-21T01:43:01.860Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjl8qv5t4000chkehsl7plwic","content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"\\assets\\css\\APlayer.min.css\"><script src=\"\\assets\\js\\APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><p>本文主要介绍密码学常用工具极其原理，包括不对称加密，加密算法，数字签名等内容\n<a id=\"more\"></a></p>\n<h2 id=\"Base\"><a href=\"#Base\" class=\"headerlink\" title=\"Base\"></a>Base</h2><h2 id=\"对称密码-symmetric-encryption\"><a href=\"#对称密码-symmetric-encryption\" class=\"headerlink\" title=\"对称密码 symmetric encryption\"></a>对称密码 symmetric encryption</h2><p>特点：<br>  加密和解密使用的是同一个密码<br>  加密后的密文只有该对称密码才能解密<br>别名：对称密码，私钥密码<br>例子：保险柜  </p>\n<pre><code># 原文\n显卡，Gtx610\n\n# 约定一个密钥（不能被第三方知道）\n000111 \n\n# 把信息和对称密钥异或运算，得到密文\n101100\n</code></pre><p>我们可以将密文和密钥告知另一人，他用异或运算可获取原文。<br>但在使用中，加解密通常会使用分组密码多次迭代异或。常用的对称加密算法有DES与AES。</p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th>DES</th>\n<th>AES</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>密钥长度</td>\n<td>56位</td>\n<td>128, 192, 256 位</td>\n</tr>\n<tr>\n<td>加密方式</td>\n<td>对称分组密码</td>\n<td>对称分组密码</td>\n</tr>\n<tr>\n<td>加密轮数</td>\n<td>16轮</td>\n<td>128位10轮，192位12轮，256位14轮</td>\n</tr>\n<tr>\n<td>安全性</td>\n<td>被攻破</td>\n<td>安全</td>\n</tr>\n<tr>\n<td>速度</td>\n<td>较慢</td>\n<td>较快</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"密码配送-key-allocation\"><a href=\"#密码配送-key-allocation\" class=\"headerlink\" title=\"密码配送 key allocation\"></a>密码配送 key allocation</h2><p>对称密码最大的问题是密钥配送，\n如何约定只有传输者和接受者都知道并且足够长的密钥“000111”，\n任何得到这个密钥的人都能够解密信息。常用的解决方法有两种：</p>\n<p>-使用密钥分配中心<br>1.A与B想要加密传输信息。<br>2.密钥分配中心为每个人都生成一个密钥。  </p>\n<blockquote>\n<p>A的密钥是000000<br>   B的密钥是111111</p>\n</blockquote>\n<p>3.当A,B准备传输信息时，分配中心会生成一个会话密钥。-&gt; 会话密钥=000111。\n4.分别用A,B密钥加密会话密钥，发送给A,B。</p>\n<blockquote>\n<p>“A，会话密钥通过你的密钥加密后是000111。”\n   “B，会话密钥通过你的密钥加密后是111000。”</p>\n</blockquote>\n<p>5.A,B用自己的密钥解密-&gt;得到会话密钥，再用会话密钥进行对称加密-&gt;传输信息，之后销毁会话密钥。<br>但该方法的缺点很明显：  </p>\n<blockquote>\n<p>需要密钥分配中心，不方便。\n   分配中心也会遇到密钥配送问题。\n   分配中心被攻破所有人都会很危险。</p>\n</blockquote>\n<h2 id=\"非对称密码-asymmetric-cryptographic\"><a href=\"#非对称密码-asymmetric-cryptographic\" class=\"headerlink\" title=\"非对称密码 asymmetric cryptographic\"></a>非对称密码 asymmetric cryptographic</h2><p>与对称密码不同，它包含一个公钥和私钥。<br>特点：<br>+公钥与私钥严格符合数学关系一一对应且不可互换<br>+公钥可公开发布，私钥必须自己保管，不可泄露<br>+公钥加密的内容只有对应的私钥才能解密，使用私钥签名的内容只有对应的公钥才能解密  </p>\n<h4 id=\"注意-attention\"><a href=\"#注意-attention\" class=\"headerlink\" title=\"注意 attention\"></a>注意 attention</h4><p>虽然都用一样的分组迭代算法(AES，DES)，\n但是公钥对明文运算称为“加密”，私钥对明文运算称为“签名”。\nRSA算法中，公私钥的数学关系满足：</p>\n<pre><code>公钥 * 私钥 mod L = 1\n</code></pre><p>以上可以看出公私钥可以互换，都能用一个加密，另外一个解密。\n<strong>但是，公钥在选取的时候需满足一些额外条件(如与L互质),\n所以使用公钥加密才符合严格的数学安全，而私钥“加密”不能。私钥只能用作签名，\n让持有公钥者来验证这条信息确实是私钥持有者认证过的，实际用作加密则安全性没有公钥高。</strong></p>\n<h2 id=\"场景演化-test\"><a href=\"#场景演化-test\" class=\"headerlink\" title=\"场景演化 test\"></a>场景演化 test</h2><p>Sunkist，Cherry，Wing三个约一起见面。\n任意两个人沟通的内容，第三个人都可以听到。\n而且他们之间只能通过聊天沟通，不能通过肢体语言或者传纸条的方式交流。\nSunkist与Cherry要如何传输信息而不被Wing发现？<br>两个步骤:<br><strong>1.商议密钥，要在Wing在旁边的情况下约定一个只有Sunkist与Cherry知道的密钥。<br>2.通过密钥把信息进行对称加密传输，这点很像上面提到的对称加密。</strong>  </p>\n<p>假定该场景中三人只会乘法，不会除法。简称为Sunkist-Cherry算法：<br>1.让Sunkist与Cherry都确定一个算法（通常是公开的算法）。  </p>\n<blockquote>\n<p>Sunkist： “我会Diffie-Hellman算法和Sunkist-Cherry算法。”<br>   Cherry：“我只会Sunkist-Cherry算法，那我们就用这个算法吧。”<br>   Wing：“我知道你们要用Sunkist-Cherry算法了。”  </p>\n</blockquote>\n<p>2.Sunkist与Cherry分别选择一个私人数字，这个私人数字必须保密。</p>\n<blockquote>\n<p>Sunkist： “我不会告诉你我选择了什么数字。”（Sunkist选择了数字5，其他两人都不知道。）<br>  Cherry： “我不会告诉你我选择了什么数字。”（Cherry选择了数字10，其他两人都不知道。）<br>  Wing：“我知道你们要用Sunkist-Cherry算法了。”  </p>\n</blockquote>\n<p>3.共同选择一个数字，作为公有数字。</p>\n<blockquote>\n<p>Sunkist： “我们就选择数字2作为公有数字吧。”<br>   Cherry：“好的！”<br>   Wing：“你们要用Sunkist-Cherry算法，而且公有数字是2。”  </p>\n</blockquote>\n<p>4.Sunkist与Cherry分别把公有数字乘以自己的私人数字得到混合数字，然后告诉对方。</p>\n<blockquote>\n<p>Sunkist： “我的混合数字是10。”（5 <em> 2 = 10）<br>   Cherry： “我的混合数字是20。”（10 </em> 2 = 20）<br>   Wing：“你们要用Sunkist-Cherry算法，而且公有数字是2。\n   Sunkist的混合数字是10，Cherry的混合数字是20。”</p>\n</blockquote>\n<p>5.Sunkist与Cherry分别把私人数字与对方的混合数字相乘，得到最终的密钥</p>\n<blockquote>\n<p>Sunkist把私人数字5以及Cherry的混合数字20相乘得到100。<br>   Cherry把私人数字10以及Sunkist的混合数字10相乘得到100。  </p>\n</blockquote>\n<p><strong>整个过程中，公钥是2，最终商议出的密钥是100，\nWing虽然知道Sunkist与Cherry聊天的全部内容，\n知道公有数字与它们的混合数字，但无法计算出密钥。</strong>  </p>\n<p>Sunkist-Cherry算法利用了一个容易运算（乘法）但不可逆（除法）的数学技巧。\n在实际应用，我们最常使用Diffie–Hellman算法，它利用了基于有限域上的离散对数的性质。\nSunkist-Cherry算法与Diffie-Hellman算法解决了当双方只能公开交换信息的时候商议密钥的问题。\n要注意，在这里的公私钥并不是用作互相加解密的。</p>\n<p>非对称密码除了解决商议密钥的问题，还常常用来解决另外一个问题，\n例如使用RSA算法，生成一对一一对应的公私钥，经过公钥加密的内容只有私钥才能解密,\n通过私钥签名的内容通过公钥才能验证。\n在实际应用中，使用公钥加密，私钥解密用在SSH登录以及Https传输中，\n而私钥签名，公钥解密则用在数字签名中。</p>\n<h2 id=\"数字签名\"><a href=\"#数字签名\" class=\"headerlink\" title=\"数字签名\"></a>数字签名</h2><p>Sunkist要找Cherry借钱，大家商议立一个借据。\n不过如果在无法见面的情况下，如何立借据并且证明这个借据是Sunkist写的呢？\n这里需要用到RSA算法，Sunkist使用RSA算法生成一对公私钥，\n把公钥公布在自己的网站上，然后把借据通过私钥签名，\n所有人都可以通过Sunkist的公钥尝试对签名后的内容解密，能解密成功则证明这个借据是Sunkist写的。\n使用数字签名有几个好处:</p>\n<p>1.无需物理接触<br>2.容易验证，只需要用公钥去尝试解密就能验证。<br>3.防止Sunkist否认，因为公钥能解密的内容必定是对应的私钥加密的。  </p>\n<p>但Cherry如何确定这个公钥是Sunkist的，\n当它要获取Sunkist的公钥的时候，有可能Sunkist的网站被黑了，被换作其他人的公钥了（中间人攻击）。\n要解决这个问题，我们可以使用数字证书来确保获取正确的公钥。</p>\n<h2 id=\"数字证书\"><a href=\"#数字证书\" class=\"headerlink\" title=\"数字证书\"></a>数字证书</h2><p>数字证书的作用就是获取某人的正确公钥，首先我们需要一个中立可信的证书机构，\n它有点像注册中心，大家可以把自己的公钥放在它那里保管。当Cherry要获取Sunkist的公钥的时候：</p>\n<p>Sunkist先向证书机构注册自己的公钥。\nCherry向证书机构请求Sunkist的公钥。\n证书机构用自己的私钥把Sunkist的公钥进行签名后发送给Cherry，\n一般来说我们浏览器默认会存储了证书机构的公钥，使用证书机构的公钥把签名后信息解密，然后得到Sunkist的公钥。\n使用Sunkist的公钥把Sunkist发送的信息进行解密。\n这里有个信任链，我们默认信任了浏览器中的证书机构的公钥，证书机构信任了Sunkist提交的公钥。我们使用证书机构的公钥解密就能得到Sunkist正确的公钥。</p>\n<h2 id=\"SSH登陆\"><a href=\"#SSH登陆\" class=\"headerlink\" title=\"SSH登陆\"></a>SSH登陆</h2><p>SSH登录有两种方式：</p>\n<p>使用密码登录\n使用公钥登录\nSSH在第一次登录主机的时候，会有类似的信息：</p>\n<p>The authenticity of host ‘host (12.18.429.21)’ can’t be established.\nRSA key fingerprint is 98:2e:d7:e0:de:9f:ac:67:28:c2:42:2d:37:16:58:4d.\nAre you sure you want to continue connecting (yes/no)?\n什么意思呢？主机会发送它的公钥指纹，你需要验证这个公钥是该主机的。\n确认之后，它们一开始都需要通过Diffie–Hellman算法商议密钥进行加密传输。\n然后再进入认证过程，之后的数据传输使用对称加密传输。其中密码登录方式的话直接使用对称加密验证密码。而使用公钥登录分为几个步骤</p>\n<p>客户端使用非对称加密算法（RSA，椭圆曲线算法）生成一对公私钥对。\n客户端把公钥放在服务端的anthority_key文件中。\n客户端与服务端建立了加密通道之后，服务端会使用客户端的公钥随机加密一个信息然后发送给本机\n客户端用自己的私钥解密，并且返回信息。\n服务端认证返回的信息与随机生成的信息是否相同，相同则认证成功。</p>\n<h2 id=\"Https传输\"><a href=\"#Https传输\" class=\"headerlink\" title=\"Https传输\"></a>Https传输</h2><p>Https和ssl握手的具体过程：</p>\n<p>1.客户端的浏览器向服务器传送客户端 SSL 协议的版本号，加密算法的种类，产生的随机数，以及其他服务器和客户端之间通讯所需要的各种信息。<br>2.服务器向客户端传送 SSL 协议的版本号，加密算法的种类，随机数以及其他相关信息，同时服务器还将向客户端传送自己的证书。<br>3.客户利用服务器传过来的信息验证服务器的合法性，\n服务器的合法性包括：证书是否过期，发行服务器证书的 CA 是否可靠，发行者证书的公钥能否正确解开服务器证书的“发行者的数字签名”，\n服务器证书上的域名是否和服务器的实际域名相匹配。如果合法性验证没有通过，通讯将断开；如果合法性验证通过，将继续进行第四步。\n4.用户端随机产生一个用于后面通讯的“对称密码”，\n然后用服务器的公钥（服务器的公钥从步骤②中的服务器的证书中获得）对其加密，然后将加密后的“预主密码”传给服务器。\n….\n第三步，客户端就使用数字证书技术来获取网站的公钥。\n接下来就商议密钥进行对称加密传输。可以说，总的来说，Https传输是先使用非对称加密验证以及商议密钥，再经过对称加密传输数据的。</p>\n<h2 id=\"API调用\"><a href=\"#API调用\" class=\"headerlink\" title=\"API调用\"></a>API调用</h2><p>我们使用第三方的API（例如七牛云，腾讯云的人工智能API），第三方为了验证调用是某个用户发起的，会提供一个公钥和一个私钥。\n这里的公钥和私钥并不是一一对应的，而是从两对公私钥中，分别取出一对的公钥与另外一对的私钥。</p>\n<p>s-c3</p>\n<p>剩下的公私钥由第三方保存。我们有两种方式使用这对公私钥：</p>\n<p>客户端调用 我们把公钥放在客户端文件中（js文件，手机客户端），因为公钥是可以公开的，不用担心被窃取。调用的时候通过公钥把信息进行加密发到第三方，第三方用对应的私钥解密。</p>\n<p>服务端调用 我们把私钥放在自己的服务端中。然后调用的时候通过私钥把信息进行签名发送给第三方，第三方用对应的公钥解密，如果能成功解密则代表验证成功。</p>\n<h2 id=\"说明\"><a href=\"#说明\" class=\"headerlink\" title=\"说明\"></a>说明</h2><p>-因为对称加密比非对称加密快得多。在实际应用例如Https传输，API调用，都是使用非对称加密验证以及商议密钥。然后通过密钥进行对称加密传输数据。<br>-公钥和私钥是符合严格数学关系的一对一对应，一个公钥有且只有一个对应的私钥。<br>-公钥加密的信息只有相应的私钥才能解密，私钥签名的内容只有相应的公钥才能解密。<br>-为了保证系统的保密性，虽然公私钥能互相加解密，但是公钥和私钥并不能交换使用。（不能把私钥当成公钥用，把公钥当成私钥用。）<br>-用公钥加密，私钥解密，通常用在数据传输协商对称密钥。或者进行少量信息传输与验证（SSH登录）<br>-用私钥签名-公钥解密通常用在数字签名中。（证明文件是由私钥拥有者认证的。）  </p>\n<p>非对称加密中，公钥是可以公开的，只需要保管好私钥就好。</p>\n","site":{"data":{}},"excerpt":"<p>本文主要介绍密码学常用工具极其原理，包括不对称加密，加密算法，数字签名等内容","more":"</p>\n<h2 id=\"Base\"><a href=\"#Base\" class=\"headerlink\" title=\"Base\"></a>Base</h2><h2 id=\"对称密码-symmetric-encryption\"><a href=\"#对称密码-symmetric-encryption\" class=\"headerlink\" title=\"对称密码 symmetric encryption\"></a>对称密码 symmetric encryption</h2><p>特点：<br>  加密和解密使用的是同一个密码<br>  加密后的密文只有该对称密码才能解密<br>别名：对称密码，私钥密码<br>例子：保险柜  </p>\n<pre><code># 原文\n显卡，Gtx610\n\n# 约定一个密钥（不能被第三方知道）\n000111 \n\n# 把信息和对称密钥异或运算，得到密文\n101100\n</code></pre><p>我们可以将密文和密钥告知另一人，他用异或运算可获取原文。<br>但在使用中，加解密通常会使用分组密码多次迭代异或。常用的对称加密算法有DES与AES。</p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th>DES</th>\n<th>AES</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>密钥长度</td>\n<td>56位</td>\n<td>128, 192, 256 位</td>\n</tr>\n<tr>\n<td>加密方式</td>\n<td>对称分组密码</td>\n<td>对称分组密码</td>\n</tr>\n<tr>\n<td>加密轮数</td>\n<td>16轮</td>\n<td>128位10轮，192位12轮，256位14轮</td>\n</tr>\n<tr>\n<td>安全性</td>\n<td>被攻破</td>\n<td>安全</td>\n</tr>\n<tr>\n<td>速度</td>\n<td>较慢</td>\n<td>较快</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"密码配送-key-allocation\"><a href=\"#密码配送-key-allocation\" class=\"headerlink\" title=\"密码配送 key allocation\"></a>密码配送 key allocation</h2><p>对称密码最大的问题是密钥配送，\n如何约定只有传输者和接受者都知道并且足够长的密钥“000111”，\n任何得到这个密钥的人都能够解密信息。常用的解决方法有两种：</p>\n<p>-使用密钥分配中心<br>1.A与B想要加密传输信息。<br>2.密钥分配中心为每个人都生成一个密钥。  </p>\n<blockquote>\n<p>A的密钥是000000<br>   B的密钥是111111</p>\n</blockquote>\n<p>3.当A,B准备传输信息时，分配中心会生成一个会话密钥。-&gt; 会话密钥=000111。\n4.分别用A,B密钥加密会话密钥，发送给A,B。</p>\n<blockquote>\n<p>“A，会话密钥通过你的密钥加密后是000111。”\n   “B，会话密钥通过你的密钥加密后是111000。”</p>\n</blockquote>\n<p>5.A,B用自己的密钥解密-&gt;得到会话密钥，再用会话密钥进行对称加密-&gt;传输信息，之后销毁会话密钥。<br>但该方法的缺点很明显：  </p>\n<blockquote>\n<p>需要密钥分配中心，不方便。\n   分配中心也会遇到密钥配送问题。\n   分配中心被攻破所有人都会很危险。</p>\n</blockquote>\n<h2 id=\"非对称密码-asymmetric-cryptographic\"><a href=\"#非对称密码-asymmetric-cryptographic\" class=\"headerlink\" title=\"非对称密码 asymmetric cryptographic\"></a>非对称密码 asymmetric cryptographic</h2><p>与对称密码不同，它包含一个公钥和私钥。<br>特点：<br>+公钥与私钥严格符合数学关系一一对应且不可互换<br>+公钥可公开发布，私钥必须自己保管，不可泄露<br>+公钥加密的内容只有对应的私钥才能解密，使用私钥签名的内容只有对应的公钥才能解密  </p>\n<h4 id=\"注意-attention\"><a href=\"#注意-attention\" class=\"headerlink\" title=\"注意 attention\"></a>注意 attention</h4><p>虽然都用一样的分组迭代算法(AES，DES)，\n但是公钥对明文运算称为“加密”，私钥对明文运算称为“签名”。\nRSA算法中，公私钥的数学关系满足：</p>\n<pre><code>公钥 * 私钥 mod L = 1\n</code></pre><p>以上可以看出公私钥可以互换，都能用一个加密，另外一个解密。\n<strong>但是，公钥在选取的时候需满足一些额外条件(如与L互质),\n所以使用公钥加密才符合严格的数学安全，而私钥“加密”不能。私钥只能用作签名，\n让持有公钥者来验证这条信息确实是私钥持有者认证过的，实际用作加密则安全性没有公钥高。</strong></p>\n<h2 id=\"场景演化-test\"><a href=\"#场景演化-test\" class=\"headerlink\" title=\"场景演化 test\"></a>场景演化 test</h2><p>Sunkist，Cherry，Wing三个约一起见面。\n任意两个人沟通的内容，第三个人都可以听到。\n而且他们之间只能通过聊天沟通，不能通过肢体语言或者传纸条的方式交流。\nSunkist与Cherry要如何传输信息而不被Wing发现？<br>两个步骤:<br><strong>1.商议密钥，要在Wing在旁边的情况下约定一个只有Sunkist与Cherry知道的密钥。<br>2.通过密钥把信息进行对称加密传输，这点很像上面提到的对称加密。</strong>  </p>\n<p>假定该场景中三人只会乘法，不会除法。简称为Sunkist-Cherry算法：<br>1.让Sunkist与Cherry都确定一个算法（通常是公开的算法）。  </p>\n<blockquote>\n<p>Sunkist： “我会Diffie-Hellman算法和Sunkist-Cherry算法。”<br>   Cherry：“我只会Sunkist-Cherry算法，那我们就用这个算法吧。”<br>   Wing：“我知道你们要用Sunkist-Cherry算法了。”  </p>\n</blockquote>\n<p>2.Sunkist与Cherry分别选择一个私人数字，这个私人数字必须保密。</p>\n<blockquote>\n<p>Sunkist： “我不会告诉你我选择了什么数字。”（Sunkist选择了数字5，其他两人都不知道。）<br>  Cherry： “我不会告诉你我选择了什么数字。”（Cherry选择了数字10，其他两人都不知道。）<br>  Wing：“我知道你们要用Sunkist-Cherry算法了。”  </p>\n</blockquote>\n<p>3.共同选择一个数字，作为公有数字。</p>\n<blockquote>\n<p>Sunkist： “我们就选择数字2作为公有数字吧。”<br>   Cherry：“好的！”<br>   Wing：“你们要用Sunkist-Cherry算法，而且公有数字是2。”  </p>\n</blockquote>\n<p>4.Sunkist与Cherry分别把公有数字乘以自己的私人数字得到混合数字，然后告诉对方。</p>\n<blockquote>\n<p>Sunkist： “我的混合数字是10。”（5 <em> 2 = 10）<br>   Cherry： “我的混合数字是20。”（10 </em> 2 = 20）<br>   Wing：“你们要用Sunkist-Cherry算法，而且公有数字是2。\n   Sunkist的混合数字是10，Cherry的混合数字是20。”</p>\n</blockquote>\n<p>5.Sunkist与Cherry分别把私人数字与对方的混合数字相乘，得到最终的密钥</p>\n<blockquote>\n<p>Sunkist把私人数字5以及Cherry的混合数字20相乘得到100。<br>   Cherry把私人数字10以及Sunkist的混合数字10相乘得到100。  </p>\n</blockquote>\n<p><strong>整个过程中，公钥是2，最终商议出的密钥是100，\nWing虽然知道Sunkist与Cherry聊天的全部内容，\n知道公有数字与它们的混合数字，但无法计算出密钥。</strong>  </p>\n<p>Sunkist-Cherry算法利用了一个容易运算（乘法）但不可逆（除法）的数学技巧。\n在实际应用，我们最常使用Diffie–Hellman算法，它利用了基于有限域上的离散对数的性质。\nSunkist-Cherry算法与Diffie-Hellman算法解决了当双方只能公开交换信息的时候商议密钥的问题。\n要注意，在这里的公私钥并不是用作互相加解密的。</p>\n<p>非对称密码除了解决商议密钥的问题，还常常用来解决另外一个问题，\n例如使用RSA算法，生成一对一一对应的公私钥，经过公钥加密的内容只有私钥才能解密,\n通过私钥签名的内容通过公钥才能验证。\n在实际应用中，使用公钥加密，私钥解密用在SSH登录以及Https传输中，\n而私钥签名，公钥解密则用在数字签名中。</p>\n<h2 id=\"数字签名\"><a href=\"#数字签名\" class=\"headerlink\" title=\"数字签名\"></a>数字签名</h2><p>Sunkist要找Cherry借钱，大家商议立一个借据。\n不过如果在无法见面的情况下，如何立借据并且证明这个借据是Sunkist写的呢？\n这里需要用到RSA算法，Sunkist使用RSA算法生成一对公私钥，\n把公钥公布在自己的网站上，然后把借据通过私钥签名，\n所有人都可以通过Sunkist的公钥尝试对签名后的内容解密，能解密成功则证明这个借据是Sunkist写的。\n使用数字签名有几个好处:</p>\n<p>1.无需物理接触<br>2.容易验证，只需要用公钥去尝试解密就能验证。<br>3.防止Sunkist否认，因为公钥能解密的内容必定是对应的私钥加密的。  </p>\n<p>但Cherry如何确定这个公钥是Sunkist的，\n当它要获取Sunkist的公钥的时候，有可能Sunkist的网站被黑了，被换作其他人的公钥了（中间人攻击）。\n要解决这个问题，我们可以使用数字证书来确保获取正确的公钥。</p>\n<h2 id=\"数字证书\"><a href=\"#数字证书\" class=\"headerlink\" title=\"数字证书\"></a>数字证书</h2><p>数字证书的作用就是获取某人的正确公钥，首先我们需要一个中立可信的证书机构，\n它有点像注册中心，大家可以把自己的公钥放在它那里保管。当Cherry要获取Sunkist的公钥的时候：</p>\n<p>Sunkist先向证书机构注册自己的公钥。\nCherry向证书机构请求Sunkist的公钥。\n证书机构用自己的私钥把Sunkist的公钥进行签名后发送给Cherry，\n一般来说我们浏览器默认会存储了证书机构的公钥，使用证书机构的公钥把签名后信息解密，然后得到Sunkist的公钥。\n使用Sunkist的公钥把Sunkist发送的信息进行解密。\n这里有个信任链，我们默认信任了浏览器中的证书机构的公钥，证书机构信任了Sunkist提交的公钥。我们使用证书机构的公钥解密就能得到Sunkist正确的公钥。</p>\n<h2 id=\"SSH登陆\"><a href=\"#SSH登陆\" class=\"headerlink\" title=\"SSH登陆\"></a>SSH登陆</h2><p>SSH登录有两种方式：</p>\n<p>使用密码登录\n使用公钥登录\nSSH在第一次登录主机的时候，会有类似的信息：</p>\n<p>The authenticity of host ‘host (12.18.429.21)’ can’t be established.\nRSA key fingerprint is 98:2e:d7:e0:de:9f:ac:67:28:c2:42:2d:37:16:58:4d.\nAre you sure you want to continue connecting (yes/no)?\n什么意思呢？主机会发送它的公钥指纹，你需要验证这个公钥是该主机的。\n确认之后，它们一开始都需要通过Diffie–Hellman算法商议密钥进行加密传输。\n然后再进入认证过程，之后的数据传输使用对称加密传输。其中密码登录方式的话直接使用对称加密验证密码。而使用公钥登录分为几个步骤</p>\n<p>客户端使用非对称加密算法（RSA，椭圆曲线算法）生成一对公私钥对。\n客户端把公钥放在服务端的anthority_key文件中。\n客户端与服务端建立了加密通道之后，服务端会使用客户端的公钥随机加密一个信息然后发送给本机\n客户端用自己的私钥解密，并且返回信息。\n服务端认证返回的信息与随机生成的信息是否相同，相同则认证成功。</p>\n<h2 id=\"Https传输\"><a href=\"#Https传输\" class=\"headerlink\" title=\"Https传输\"></a>Https传输</h2><p>Https和ssl握手的具体过程：</p>\n<p>1.客户端的浏览器向服务器传送客户端 SSL 协议的版本号，加密算法的种类，产生的随机数，以及其他服务器和客户端之间通讯所需要的各种信息。<br>2.服务器向客户端传送 SSL 协议的版本号，加密算法的种类，随机数以及其他相关信息，同时服务器还将向客户端传送自己的证书。<br>3.客户利用服务器传过来的信息验证服务器的合法性，\n服务器的合法性包括：证书是否过期，发行服务器证书的 CA 是否可靠，发行者证书的公钥能否正确解开服务器证书的“发行者的数字签名”，\n服务器证书上的域名是否和服务器的实际域名相匹配。如果合法性验证没有通过，通讯将断开；如果合法性验证通过，将继续进行第四步。\n4.用户端随机产生一个用于后面通讯的“对称密码”，\n然后用服务器的公钥（服务器的公钥从步骤②中的服务器的证书中获得）对其加密，然后将加密后的“预主密码”传给服务器。\n….\n第三步，客户端就使用数字证书技术来获取网站的公钥。\n接下来就商议密钥进行对称加密传输。可以说，总的来说，Https传输是先使用非对称加密验证以及商议密钥，再经过对称加密传输数据的。</p>\n<h2 id=\"API调用\"><a href=\"#API调用\" class=\"headerlink\" title=\"API调用\"></a>API调用</h2><p>我们使用第三方的API（例如七牛云，腾讯云的人工智能API），第三方为了验证调用是某个用户发起的，会提供一个公钥和一个私钥。\n这里的公钥和私钥并不是一一对应的，而是从两对公私钥中，分别取出一对的公钥与另外一对的私钥。</p>\n<p>s-c3</p>\n<p>剩下的公私钥由第三方保存。我们有两种方式使用这对公私钥：</p>\n<p>客户端调用 我们把公钥放在客户端文件中（js文件，手机客户端），因为公钥是可以公开的，不用担心被窃取。调用的时候通过公钥把信息进行加密发到第三方，第三方用对应的私钥解密。</p>\n<p>服务端调用 我们把私钥放在自己的服务端中。然后调用的时候通过私钥把信息进行签名发送给第三方，第三方用对应的公钥解密，如果能成功解密则代表验证成功。</p>\n<h2 id=\"说明\"><a href=\"#说明\" class=\"headerlink\" title=\"说明\"></a>说明</h2><p>-因为对称加密比非对称加密快得多。在实际应用例如Https传输，API调用，都是使用非对称加密验证以及商议密钥。然后通过密钥进行对称加密传输数据。<br>-公钥和私钥是符合严格数学关系的一对一对应，一个公钥有且只有一个对应的私钥。<br>-公钥加密的信息只有相应的私钥才能解密，私钥签名的内容只有相应的公钥才能解密。<br>-为了保证系统的保密性，虽然公私钥能互相加解密，但是公钥和私钥并不能交换使用。（不能把私钥当成公钥用，把公钥当成私钥用。）<br>-用公钥加密，私钥解密，通常用在数据传输协商对称密钥。或者进行少量信息传输与验证（SSH登录）<br>-用私钥签名-公钥解密通常用在数字签名中。（证明文件是由私钥拥有者认证的。）  </p>\n<p>非对称加密中，公钥是可以公开的，只需要保管好私钥就好。</p>"},{"title":"Jvm&Tomcat 安装","copyright":true,"date":"2016-07-12T05:00:00.000Z","_content":"\n\n本文主要说明Linux中配置jdk和tomcat过程,将自己在配置过程中遇到的一些问题及相关的解决方案列举出来\n<!-- more -->\n\n## Jvm\n### Install\n#### Go to Download JDK\n[Java SE Download Page On Oracle](http://www.oracle.com/technetwork/java/javase/downloads/index.html)    \n[Java se 8](http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html)  \n   \n[Jdk 8u172 For Linux.trr.gz](http://download.oracle.com/otn-pub/java/jdk/8u172-b11/a58eab1ec242421181065cdc37240b08/jdk-8u172-linux-x64.tar.gz)\n\n**WARNING**  \nCannot Use Next Code Get tar.gz Package\n```\n    [root@colinECS download]# wget http://download.oracle.com/otn-pub/java/jdk/8u172-b11/a58eab1ec242421181065cdc37240b08/jdk-8u172-linux-x64.tar.gz\n    \n    --2018-06-04 09:36:08--  http://download.oracle.com/otn-pub/java/jdk/8u172-b11/a58eab1ec242421181065cdc37240b08/jdk-8u172-linux-x64.tar.gz\n    Resolving download.oracle.com (download.oracle.com)... 23.211.96.75\n    Connecting to download.oracle.com (download.oracle.com)|23.211.96.75|:80... connected.\n    HTTP request sent, awaiting response... 302 Moved Temporarily\n    Location: https://edelivery.oracle.com/otn-pub/java/jdk/8u172-b11/a58eab1ec242421181065cdc37240b08/jdk-8u172-linux-x64.tar.gz [following]\n    --2018-06-04 09:36:08--  https://edelivery.oracle.com/otn-pub/java/jdk/8u172-b11/a58eab1ec242421181065cdc37240b08/jdk-8u172-linux-x64.tar.gz\n    Resolving edelivery.oracle.com (edelivery.oracle.com)... 184.26.250.202, 2600:1417:76:19a::2d3e, 2600:1417:76:181::2d3e\n    Connecting to edelivery.oracle.com (edelivery.oracle.com)|184.26.250.202|:443... connected.\n    HTTP request sent, awaiting response... 302 Moved Temporarily\n    Location: http://download.oracle.com/errors/download-fail-1505220.html [following]\n    --2018-06-04 09:36:09--  http://download.oracle.com/errors/download-fail-1505220.html\n    Connecting to download.oracle.com (download.oracle.com)|23.211.96.75|:80... connected.\n    HTTP request sent, awaiting response... 200 OK\n    Length: 5307 (5.2K) [text/html]\n    Saving to: ‘jdk-8u172-linux-x64.tar.gz’\n    \n    100%[======================================>] 5,307       --.-K/s   in 0s\n    \n    2018-06-04 09:36:09 (492 MB/s) - ‘jdk-8u172-linux-x64.tar.gz’ saved [5307/5307]\n```\n**WHY**  \nIf we user command 'tar -xzvf' we will get\n```\n    [root@colinECS download]# tar -xzvf jdk-8u172-linux-x64.tar.gz\n    \n    gzip: stdin: not in gzip format\n    tar: Child returned status 1\n    tar: Error is not recoverable: exiting now\n```\nHere we can see some error out    \nAlso we can feel there has something wrong in somewhere  \nWhere?  \nYes here:  \n```\n    100%[======================================>] 5,307       --.-K/s   in 0s\n    2018-06-04 09:36:09 (492 MB/s) - ‘jdk-8u172-linux-x64.tar.gz’ saved [5307/5307]\n```\nThe package just 5307Kb  \nThe correct package cannot be so small  \nIf we go the [Java Home Page](http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html)  \nWe can see if you want download you must Accept a option:  \n![avatar](install_jvm&tomcat/1.jdk-license.png)  \n{% asset_img 1.jdk-license.png jdk-license %}\nIf we just use command 'wget',\nwe will download the package without accept the license,\nSo we cannot unpack the package\n\n##### Correct way\nWe need use browser to accept the license and download the package  \nthen use Ftp/Sftp tools move the package to your linux server  \nOr you can use command rpm to get package  \n\n#### Expand the package \n``` \n    [root@localhost software]# mkdir -p /usr/lib/jvm\n    [root@localhost software]# tar -zxvf jdk-8u131-linux-x64.tar.gz -C /usr/lib/jvm\n```\n#### Set Envionment variables\n```\n    [root@localhost software]# vim /etc/profile\n```\nInsert in head this:\n```\n    export JAVA_HOME=/usr/lib/jvm/jdk1.8.0_131  \n    export JRE_HOME=${JAVA_HOME}/jre  \n    export CLASSPATH=.:${JAVA_HOME}/lib:${JRE_HOME}/lib  \n    export  PATH=${JAVA_HOME}/bin:$PATH\n```\n#### Make function useful\n```\n    [root@localhost software]# source /etc/profile\n```\n#### Check Version\n```\n    [root@localhost software]# java -version\n    \n    java version \"1.8.0_172\"\n    Java(TM) SE Runtime Environment (build 1.8.0_172-b11)\n    Java HotSpot(TM) 64-Bit Server VM (build 25.172-b11, mixed mode)\n```\n**Suucess**\n<br/>  \n<br/>  \n<br/>   \n\n\n### Remove\n#### check version\n```\n    [root@localhost software]# java -version\n\n    openjdk version \"1.8.0_102\"\n    OpenJDK Runtime Environment (build 1.8.0_102-b14)\n    OpenJDK 64-Bit Server VM (build 25.102-b14, mixed mode)\n```\n#### 2. 检测jdk安装包\n```\n    [root@localhost software]# rpm -qa | grep java\n\n    java-1.7.0-openjdk-1.7.0.111-2.6.7.8.el7.x86_64\n    python-javapackages-3.4.1-11.el7.noarch\n    tzdata-java-2016g-2.el7.noarch\n    javapackages-tools-3.4.1-11.el7.noarch\n    java-1.8.0-openjdk-1.8.0.102-4.b14.el7.x86_64\n    java-1.8.0-openjdk-headless-1.8.0.102-4.b14.el7.x86_64\n    java-1.7.0-openjdk-headless-1.7.0.111-2.6.7.8.el7.x86_64\\\n```\n#### 3. 卸载openjdk\n```\n    [root@localhost software]# rpm -e --nodeps tzdata-java-2016g-2.el7.noarch\n    [root@localhost software]# rpm -e --nodeps java-1.7.0-openjdk-1.7.0.111-2.6.7.8.el7.x86_64\n    [root@localhost software]# rpm -e --nodeps java-1.7.0-openjdk-headless-1.7.0.111-2.6.7.8.el7.x86_64\n    [root@localhost software]# rpm -e --nodeps java-1.8.0-openjdk-1.8.0.102-4.b14.el7.x86_64\n    [root@localhost software]# rpm -e --nodeps java-1.8.0-openjdk-headless-1.8.0.102-4.b14.el7.x86_64\n```\n或者使用\n```\n    [root@localhost jvm]# yum remove *openjdk*\n```\n之后再次输入rpm -qa | grep java 查看卸载情况：\n```\n    [root@localhost software]# rpm -qa | grep java\n    \n    python-javapackages-3.4.1-11.el7.noarch\n    javapackages-tools-3.4.1-11.el7.noarch\n```\n<br/>\n<br/>\n<br/>\n\n\n### 安装\n#### Go to 下载 JDK\n[Oracle Java官网](http://www.oracle.com/technetwork/java/javase/downloads/index.html)    \n[Java se 8](http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html)  \n   \n[Jdk 8u172 For Linux.trr.gz](http://download.oracle.com/otn-pub/java/jdk/8u172-b11/a58eab1ec242421181065cdc37240b08/jdk-8u172-linux-x64.tar.gz)\n\n**注意**  \n不可以用'wget'命令下载JDK\n```\n    [root@colinECS download]# wget http://download.oracle.com/otn-pub/java/jdk/8u172-b11/a58eab1ec242421181065cdc37240b08/jdk-8u172-linux-x64.tar.gz\n    \n    --2018-06-04 09:36:08--  http://download.oracle.com/otn-pub/java/jdk/8u172-b11/a58eab1ec242421181065cdc37240b08/jdk-8u172-linux-x64.tar.gz\n    Resolving download.oracle.com (download.oracle.com)... 23.211.96.75\n    Connecting to download.oracle.com (download.oracle.com)|23.211.96.75|:80... connected.\n    HTTP request sent, awaiting response... 302 Moved Temporarily\n    Location: https://edelivery.oracle.com/otn-pub/java/jdk/8u172-b11/a58eab1ec242421181065cdc37240b08/jdk-8u172-linux-x64.tar.gz [following]\n    --2018-06-04 09:36:08--  https://edelivery.oracle.com/otn-pub/java/jdk/8u172-b11/a58eab1ec242421181065cdc37240b08/jdk-8u172-linux-x64.tar.gz\n    Resolving edelivery.oracle.com (edelivery.oracle.com)... 184.26.250.202, 2600:1417:76:19a::2d3e, 2600:1417:76:181::2d3e\n    Connecting to edelivery.oracle.com (edelivery.oracle.com)|184.26.250.202|:443... connected.\n    HTTP request sent, awaiting response... 302 Moved Temporarily\n    Location: http://download.oracle.com/errors/download-fail-1505220.html [following]\n    --2018-06-04 09:36:09--  http://download.oracle.com/errors/download-fail-1505220.html\n    Connecting to download.oracle.com (download.oracle.com)|23.211.96.75|:80... connected.\n    HTTP request sent, awaiting response... 200 OK\n    Length: 5307 (5.2K) [text/html]\n    Saving to: ‘jdk-8u172-linux-x64.tar.gz’\n    \n    100%[======================================>] 5,307       --.-K/s   in 0s\n    \n    2018-06-04 09:36:09 (492 MB/s) - ‘jdk-8u172-linux-x64.tar.gz’ saved [5307/5307]\n```\n**啊♂？？？**    \n我们解压用'wget'命令获得的jdk包会发现：\n```\n    [root@colinECS download]# tar -xzvf jdk-8u172-linux-x64.tar.gz\n    \n    gzip: stdin: not in gzip format\n    tar: Child returned status 1\n    tar: Error is not recoverable: exiting now\n```\n解压报错了！！！  \n**为啥子咧？**    \n总感觉那里不对怪怪的  \n那里嘞？  \n对对对，就是这里:  \n```\n    100%[======================================>] 5,307       --.-K/s   in 0s\n    2018-06-04 09:36:09 (492 MB/s) - ‘jdk-8u172-linux-x64.tar.gz’ saved [5307/5307]\n```\n\n这咋就5307Kb这么点大啊  \n不应该这么小啊  \n咋们去官网看下 [Java Home Page](http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html)  \n求豆麻袋，求豆麻袋，这怎么还有选项啊  \n![avatar](install_jvm&tomcat/1.jdk-license.png)  \n{% asset_img 1.jdk-license.png jdk-license %}\n{% img [] %}\n我们用'wget'的时候是没有同意这个选项的,  \n所以下载下来有问题的包是不能解压的  \n怪不得  \n\n##### 那可咋整\n还能咋整，只能用浏览器下载了呗  \n然后用 Ftp/Sftp 工具把下载好的传到linux服务器去    \n不过好像用 rpm 命令安装可以避免这种情况  \n#### 解压\n```  \n    [root@localhost software]# mkdir -p /usr/lib/jvm\n    [root@localhost software]# tar -zxvf jdk-8u131-linux-x64.tar.gz -C /usr/lib/jvm\n```\n#### 设置环境变量\n```\n    [root@localhost software]# vim /etc/profile\n```\n\n在文件前面加入这些内容:  \n\n```\n    export JAVA_HOME=/usr/lib/jvm/jdk1.8.0_131  \n    export JRE_HOME=${JAVA_HOME}/jre  \n    export CLASSPATH=.:${JAVA_HOME}/lib:${JRE_HOME}/lib  \n    export  PATH=${JAVA_HOME}/bin:$PATH\n```\n#### 使得profile文件有效，这样就不用重启了\n```\n    [root@localhost software]# source /etc/profile\n```\n####  检查下version 看看成功没\n```\n    [root@localhost software]# java -version\n    \n    \n    \n    \n    \n    \n    java version \"1.8.0_172\"\n    Java(TM) SE Runtime Environment (build 1.8.0_172-b11)\n    Java HotSpot(TM) 64-Bit Server VM (build 25.172-b11, mixed mode)\n**Success**\n```\n<br/>  \n<br/>  \n<br/>   \n\n\n## Tomcat\n#### DownLoad\n[Tomcat Page](https://tomcat.apache.org/)  \n[Tomcat 7.0.88](http://mirrors.tuna.tsinghua.edu.cn/apache/tomcat/tomcat-7/v7.0.88/bin/apache-tomcat-7.0.88.tar.gz)  \n```\n    [root@colinECS download]# wget   http://mirrors.tuna.tsinghua.edu.cn/apache/tomcat/tomcat-7/v7.0.88/bin/apache-tomcat-7.0.88.tar.gz\n```\n####  Expand\n```\n    [root@colinECS download]# tar zxvf apach-tomcat-6.0.16.tar.gz\n```\n####  Start\ncd to bin\n```\n    [root@colinECS bin]# ./startup.sh\n```\n<br/><br/><br/>\n\n\n#### 下载\n[Tomcat Page](https://tomcat.apache.org/)  \n[Tomcat 7.0.88](http://mirrors.tuna.tsinghua.edu.cn/apache/tomcat/tomcat-7/v7.0.88/bin/apache-tomcat-7.0.88.tar.gz)  \n```\n    [root@colinECS download]# wget   http://mirrors.tuna.tsinghua.edu.cn/apache/tomcat/tomcat-7/v7.0.88/bin/apache-tomcat-7.0.88.tar.gz\n```\n####  解压\n```\n    [root@colinECS download]# tar zxvf apach-tomcat-6.0.16.tar.gz\n```\n####  启动\n切换到bin文件夹\n```\n    [root@colinECS bin]# ./startup.sh\n```\n<br/><br/><br/>\n\n\n## Jar 包使用\n#### 1 running list\n    [root@Warbuild-Svr /]# ps aux|grep chessService.jar\n    \n    root      58662  0.0  0.0 112720   988 pts/3    S+   10:53   0:00 grep --color=auto chessService.jar\n    root     125484  0.6  0.9 13526904 297464 ?     Sl   10:07   0:18 java -jar chessService.jar\n    root     148294  0.0  0.3 14451472 117300 pts/0 Sl   10:15   0:01 java -jar chessService.jar\n#### 2 Kill running\n    [root@Warbuild-Svr /]# kill -9 148294\n#### 3 Start \n    [root@Warbuild-Svr /]# java -jar chessService.jar &\n声明：'&' 为持久化符号，若未加入'&' 则关闭窗口后停止程序  \n\n","source":"_posts/install/install_jvm&tomcat.md","raw":"---\ntitle: Jvm&Tomcat 安装 \ncopyright: true  \ntags: \n    - java \n    - tomcat  \n    - install  \n    \ncategories: \n    - install\n    - linux\n   \n\ndate: 2016-07-012 13:00:00\n---\n\n\n本文主要说明Linux中配置jdk和tomcat过程,将自己在配置过程中遇到的一些问题及相关的解决方案列举出来\n<!-- more -->\n\n## Jvm\n### Install\n#### Go to Download JDK\n[Java SE Download Page On Oracle](http://www.oracle.com/technetwork/java/javase/downloads/index.html)    \n[Java se 8](http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html)  \n   \n[Jdk 8u172 For Linux.trr.gz](http://download.oracle.com/otn-pub/java/jdk/8u172-b11/a58eab1ec242421181065cdc37240b08/jdk-8u172-linux-x64.tar.gz)\n\n**WARNING**  \nCannot Use Next Code Get tar.gz Package\n```\n    [root@colinECS download]# wget http://download.oracle.com/otn-pub/java/jdk/8u172-b11/a58eab1ec242421181065cdc37240b08/jdk-8u172-linux-x64.tar.gz\n    \n    --2018-06-04 09:36:08--  http://download.oracle.com/otn-pub/java/jdk/8u172-b11/a58eab1ec242421181065cdc37240b08/jdk-8u172-linux-x64.tar.gz\n    Resolving download.oracle.com (download.oracle.com)... 23.211.96.75\n    Connecting to download.oracle.com (download.oracle.com)|23.211.96.75|:80... connected.\n    HTTP request sent, awaiting response... 302 Moved Temporarily\n    Location: https://edelivery.oracle.com/otn-pub/java/jdk/8u172-b11/a58eab1ec242421181065cdc37240b08/jdk-8u172-linux-x64.tar.gz [following]\n    --2018-06-04 09:36:08--  https://edelivery.oracle.com/otn-pub/java/jdk/8u172-b11/a58eab1ec242421181065cdc37240b08/jdk-8u172-linux-x64.tar.gz\n    Resolving edelivery.oracle.com (edelivery.oracle.com)... 184.26.250.202, 2600:1417:76:19a::2d3e, 2600:1417:76:181::2d3e\n    Connecting to edelivery.oracle.com (edelivery.oracle.com)|184.26.250.202|:443... connected.\n    HTTP request sent, awaiting response... 302 Moved Temporarily\n    Location: http://download.oracle.com/errors/download-fail-1505220.html [following]\n    --2018-06-04 09:36:09--  http://download.oracle.com/errors/download-fail-1505220.html\n    Connecting to download.oracle.com (download.oracle.com)|23.211.96.75|:80... connected.\n    HTTP request sent, awaiting response... 200 OK\n    Length: 5307 (5.2K) [text/html]\n    Saving to: ‘jdk-8u172-linux-x64.tar.gz’\n    \n    100%[======================================>] 5,307       --.-K/s   in 0s\n    \n    2018-06-04 09:36:09 (492 MB/s) - ‘jdk-8u172-linux-x64.tar.gz’ saved [5307/5307]\n```\n**WHY**  \nIf we user command 'tar -xzvf' we will get\n```\n    [root@colinECS download]# tar -xzvf jdk-8u172-linux-x64.tar.gz\n    \n    gzip: stdin: not in gzip format\n    tar: Child returned status 1\n    tar: Error is not recoverable: exiting now\n```\nHere we can see some error out    \nAlso we can feel there has something wrong in somewhere  \nWhere?  \nYes here:  \n```\n    100%[======================================>] 5,307       --.-K/s   in 0s\n    2018-06-04 09:36:09 (492 MB/s) - ‘jdk-8u172-linux-x64.tar.gz’ saved [5307/5307]\n```\nThe package just 5307Kb  \nThe correct package cannot be so small  \nIf we go the [Java Home Page](http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html)  \nWe can see if you want download you must Accept a option:  \n![avatar](install_jvm&tomcat/1.jdk-license.png)  \n{% asset_img 1.jdk-license.png jdk-license %}\nIf we just use command 'wget',\nwe will download the package without accept the license,\nSo we cannot unpack the package\n\n##### Correct way\nWe need use browser to accept the license and download the package  \nthen use Ftp/Sftp tools move the package to your linux server  \nOr you can use command rpm to get package  \n\n#### Expand the package \n``` \n    [root@localhost software]# mkdir -p /usr/lib/jvm\n    [root@localhost software]# tar -zxvf jdk-8u131-linux-x64.tar.gz -C /usr/lib/jvm\n```\n#### Set Envionment variables\n```\n    [root@localhost software]# vim /etc/profile\n```\nInsert in head this:\n```\n    export JAVA_HOME=/usr/lib/jvm/jdk1.8.0_131  \n    export JRE_HOME=${JAVA_HOME}/jre  \n    export CLASSPATH=.:${JAVA_HOME}/lib:${JRE_HOME}/lib  \n    export  PATH=${JAVA_HOME}/bin:$PATH\n```\n#### Make function useful\n```\n    [root@localhost software]# source /etc/profile\n```\n#### Check Version\n```\n    [root@localhost software]# java -version\n    \n    java version \"1.8.0_172\"\n    Java(TM) SE Runtime Environment (build 1.8.0_172-b11)\n    Java HotSpot(TM) 64-Bit Server VM (build 25.172-b11, mixed mode)\n```\n**Suucess**\n<br/>  \n<br/>  \n<br/>   \n\n\n### Remove\n#### check version\n```\n    [root@localhost software]# java -version\n\n    openjdk version \"1.8.0_102\"\n    OpenJDK Runtime Environment (build 1.8.0_102-b14)\n    OpenJDK 64-Bit Server VM (build 25.102-b14, mixed mode)\n```\n#### 2. 检测jdk安装包\n```\n    [root@localhost software]# rpm -qa | grep java\n\n    java-1.7.0-openjdk-1.7.0.111-2.6.7.8.el7.x86_64\n    python-javapackages-3.4.1-11.el7.noarch\n    tzdata-java-2016g-2.el7.noarch\n    javapackages-tools-3.4.1-11.el7.noarch\n    java-1.8.0-openjdk-1.8.0.102-4.b14.el7.x86_64\n    java-1.8.0-openjdk-headless-1.8.0.102-4.b14.el7.x86_64\n    java-1.7.0-openjdk-headless-1.7.0.111-2.6.7.8.el7.x86_64\\\n```\n#### 3. 卸载openjdk\n```\n    [root@localhost software]# rpm -e --nodeps tzdata-java-2016g-2.el7.noarch\n    [root@localhost software]# rpm -e --nodeps java-1.7.0-openjdk-1.7.0.111-2.6.7.8.el7.x86_64\n    [root@localhost software]# rpm -e --nodeps java-1.7.0-openjdk-headless-1.7.0.111-2.6.7.8.el7.x86_64\n    [root@localhost software]# rpm -e --nodeps java-1.8.0-openjdk-1.8.0.102-4.b14.el7.x86_64\n    [root@localhost software]# rpm -e --nodeps java-1.8.0-openjdk-headless-1.8.0.102-4.b14.el7.x86_64\n```\n或者使用\n```\n    [root@localhost jvm]# yum remove *openjdk*\n```\n之后再次输入rpm -qa | grep java 查看卸载情况：\n```\n    [root@localhost software]# rpm -qa | grep java\n    \n    python-javapackages-3.4.1-11.el7.noarch\n    javapackages-tools-3.4.1-11.el7.noarch\n```\n<br/>\n<br/>\n<br/>\n\n\n### 安装\n#### Go to 下载 JDK\n[Oracle Java官网](http://www.oracle.com/technetwork/java/javase/downloads/index.html)    \n[Java se 8](http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html)  \n   \n[Jdk 8u172 For Linux.trr.gz](http://download.oracle.com/otn-pub/java/jdk/8u172-b11/a58eab1ec242421181065cdc37240b08/jdk-8u172-linux-x64.tar.gz)\n\n**注意**  \n不可以用'wget'命令下载JDK\n```\n    [root@colinECS download]# wget http://download.oracle.com/otn-pub/java/jdk/8u172-b11/a58eab1ec242421181065cdc37240b08/jdk-8u172-linux-x64.tar.gz\n    \n    --2018-06-04 09:36:08--  http://download.oracle.com/otn-pub/java/jdk/8u172-b11/a58eab1ec242421181065cdc37240b08/jdk-8u172-linux-x64.tar.gz\n    Resolving download.oracle.com (download.oracle.com)... 23.211.96.75\n    Connecting to download.oracle.com (download.oracle.com)|23.211.96.75|:80... connected.\n    HTTP request sent, awaiting response... 302 Moved Temporarily\n    Location: https://edelivery.oracle.com/otn-pub/java/jdk/8u172-b11/a58eab1ec242421181065cdc37240b08/jdk-8u172-linux-x64.tar.gz [following]\n    --2018-06-04 09:36:08--  https://edelivery.oracle.com/otn-pub/java/jdk/8u172-b11/a58eab1ec242421181065cdc37240b08/jdk-8u172-linux-x64.tar.gz\n    Resolving edelivery.oracle.com (edelivery.oracle.com)... 184.26.250.202, 2600:1417:76:19a::2d3e, 2600:1417:76:181::2d3e\n    Connecting to edelivery.oracle.com (edelivery.oracle.com)|184.26.250.202|:443... connected.\n    HTTP request sent, awaiting response... 302 Moved Temporarily\n    Location: http://download.oracle.com/errors/download-fail-1505220.html [following]\n    --2018-06-04 09:36:09--  http://download.oracle.com/errors/download-fail-1505220.html\n    Connecting to download.oracle.com (download.oracle.com)|23.211.96.75|:80... connected.\n    HTTP request sent, awaiting response... 200 OK\n    Length: 5307 (5.2K) [text/html]\n    Saving to: ‘jdk-8u172-linux-x64.tar.gz’\n    \n    100%[======================================>] 5,307       --.-K/s   in 0s\n    \n    2018-06-04 09:36:09 (492 MB/s) - ‘jdk-8u172-linux-x64.tar.gz’ saved [5307/5307]\n```\n**啊♂？？？**    \n我们解压用'wget'命令获得的jdk包会发现：\n```\n    [root@colinECS download]# tar -xzvf jdk-8u172-linux-x64.tar.gz\n    \n    gzip: stdin: not in gzip format\n    tar: Child returned status 1\n    tar: Error is not recoverable: exiting now\n```\n解压报错了！！！  \n**为啥子咧？**    \n总感觉那里不对怪怪的  \n那里嘞？  \n对对对，就是这里:  \n```\n    100%[======================================>] 5,307       --.-K/s   in 0s\n    2018-06-04 09:36:09 (492 MB/s) - ‘jdk-8u172-linux-x64.tar.gz’ saved [5307/5307]\n```\n\n这咋就5307Kb这么点大啊  \n不应该这么小啊  \n咋们去官网看下 [Java Home Page](http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html)  \n求豆麻袋，求豆麻袋，这怎么还有选项啊  \n![avatar](install_jvm&tomcat/1.jdk-license.png)  \n{% asset_img 1.jdk-license.png jdk-license %}\n{% img [] %}\n我们用'wget'的时候是没有同意这个选项的,  \n所以下载下来有问题的包是不能解压的  \n怪不得  \n\n##### 那可咋整\n还能咋整，只能用浏览器下载了呗  \n然后用 Ftp/Sftp 工具把下载好的传到linux服务器去    \n不过好像用 rpm 命令安装可以避免这种情况  \n#### 解压\n```  \n    [root@localhost software]# mkdir -p /usr/lib/jvm\n    [root@localhost software]# tar -zxvf jdk-8u131-linux-x64.tar.gz -C /usr/lib/jvm\n```\n#### 设置环境变量\n```\n    [root@localhost software]# vim /etc/profile\n```\n\n在文件前面加入这些内容:  \n\n```\n    export JAVA_HOME=/usr/lib/jvm/jdk1.8.0_131  \n    export JRE_HOME=${JAVA_HOME}/jre  \n    export CLASSPATH=.:${JAVA_HOME}/lib:${JRE_HOME}/lib  \n    export  PATH=${JAVA_HOME}/bin:$PATH\n```\n#### 使得profile文件有效，这样就不用重启了\n```\n    [root@localhost software]# source /etc/profile\n```\n####  检查下version 看看成功没\n```\n    [root@localhost software]# java -version\n    \n    \n    \n    \n    \n    \n    java version \"1.8.0_172\"\n    Java(TM) SE Runtime Environment (build 1.8.0_172-b11)\n    Java HotSpot(TM) 64-Bit Server VM (build 25.172-b11, mixed mode)\n**Success**\n```\n<br/>  \n<br/>  \n<br/>   \n\n\n## Tomcat\n#### DownLoad\n[Tomcat Page](https://tomcat.apache.org/)  \n[Tomcat 7.0.88](http://mirrors.tuna.tsinghua.edu.cn/apache/tomcat/tomcat-7/v7.0.88/bin/apache-tomcat-7.0.88.tar.gz)  \n```\n    [root@colinECS download]# wget   http://mirrors.tuna.tsinghua.edu.cn/apache/tomcat/tomcat-7/v7.0.88/bin/apache-tomcat-7.0.88.tar.gz\n```\n####  Expand\n```\n    [root@colinECS download]# tar zxvf apach-tomcat-6.0.16.tar.gz\n```\n####  Start\ncd to bin\n```\n    [root@colinECS bin]# ./startup.sh\n```\n<br/><br/><br/>\n\n\n#### 下载\n[Tomcat Page](https://tomcat.apache.org/)  \n[Tomcat 7.0.88](http://mirrors.tuna.tsinghua.edu.cn/apache/tomcat/tomcat-7/v7.0.88/bin/apache-tomcat-7.0.88.tar.gz)  \n```\n    [root@colinECS download]# wget   http://mirrors.tuna.tsinghua.edu.cn/apache/tomcat/tomcat-7/v7.0.88/bin/apache-tomcat-7.0.88.tar.gz\n```\n####  解压\n```\n    [root@colinECS download]# tar zxvf apach-tomcat-6.0.16.tar.gz\n```\n####  启动\n切换到bin文件夹\n```\n    [root@colinECS bin]# ./startup.sh\n```\n<br/><br/><br/>\n\n\n## Jar 包使用\n#### 1 running list\n    [root@Warbuild-Svr /]# ps aux|grep chessService.jar\n    \n    root      58662  0.0  0.0 112720   988 pts/3    S+   10:53   0:00 grep --color=auto chessService.jar\n    root     125484  0.6  0.9 13526904 297464 ?     Sl   10:07   0:18 java -jar chessService.jar\n    root     148294  0.0  0.3 14451472 117300 pts/0 Sl   10:15   0:01 java -jar chessService.jar\n#### 2 Kill running\n    [root@Warbuild-Svr /]# kill -9 148294\n#### 3 Start \n    [root@Warbuild-Svr /]# java -jar chessService.jar &\n声明：'&' 为持久化符号，若未加入'&' 则关闭窗口后停止程序  \n\n","slug":"install/install_jvm&tomcat","published":1,"updated":"2018-08-21T01:43:02.060Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjl8qv5t6000fhkehlgvmdvf5","content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"\\assets\\css\\APlayer.min.css\"><script src=\"\\assets\\js\\APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><p>本文主要说明Linux中配置jdk和tomcat过程,将自己在配置过程中遇到的一些问题及相关的解决方案列举出来\n<a id=\"more\"></a></p>\n<h2 id=\"Jvm\"><a href=\"#Jvm\" class=\"headerlink\" title=\"Jvm\"></a>Jvm</h2><h3 id=\"Install\"><a href=\"#Install\" class=\"headerlink\" title=\"Install\"></a>Install</h3><h4 id=\"Go-to-Download-JDK\"><a href=\"#Go-to-Download-JDK\" class=\"headerlink\" title=\"Go to Download JDK\"></a>Go to Download JDK</h4><p><a href=\"http://www.oracle.com/technetwork/java/javase/downloads/index.html\" target=\"_blank\" rel=\"noopener\">Java SE Download Page On Oracle</a><br><a href=\"http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html\" target=\"_blank\" rel=\"noopener\">Java se 8</a>  </p>\n<p><a href=\"http://download.oracle.com/otn-pub/java/jdk/8u172-b11/a58eab1ec242421181065cdc37240b08/jdk-8u172-linux-x64.tar.gz\" target=\"_blank\" rel=\"noopener\">Jdk 8u172 For Linux.trr.gz</a></p>\n<p><strong>WARNING</strong><br>Cannot Use Next Code Get tar.gz Package\n<figure class=\"highlight less\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-attr\">[root@colinECS download]</span># <span class=\"selector-tag\">wget</span> <span class=\"selector-tag\">http</span>:<span class=\"comment\">//download.oracle.com/otn-pub/java/jdk/8u172-b11/a58eab1ec242421181065cdc37240b08/jdk-8u172-linux-x64.tar.gz</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-tag\">--2018-06-04</span> <span class=\"selector-tag\">09</span><span class=\"selector-pseudo\">:36</span><span class=\"selector-pseudo\">:08--</span>  <span class=\"selector-tag\">http</span>:<span class=\"comment\">//download.oracle.com/otn-pub/java/jdk/8u172-b11/a58eab1ec242421181065cdc37240b08/jdk-8u172-linux-x64.tar.gz</span></span><br><span class=\"line\"><span class=\"selector-tag\">Resolving</span> <span class=\"selector-tag\">download</span><span class=\"selector-class\">.oracle</span><span class=\"selector-class\">.com</span> (download.oracle.com)... <span class=\"selector-tag\">23</span><span class=\"selector-class\">.211</span><span class=\"selector-class\">.96</span><span class=\"selector-class\">.75</span></span><br><span class=\"line\"><span class=\"selector-tag\">Connecting</span> <span class=\"selector-tag\">to</span> <span class=\"selector-tag\">download</span><span class=\"selector-class\">.oracle</span><span class=\"selector-class\">.com</span> (download.oracle.com)|<span class=\"selector-tag\">23</span><span class=\"selector-class\">.211</span><span class=\"selector-class\">.96</span><span class=\"selector-class\">.75</span>|<span class=\"selector-pseudo\">:80...</span> <span class=\"selector-tag\">connected</span>.</span><br><span class=\"line\"><span class=\"selector-tag\">HTTP</span> <span class=\"selector-tag\">request</span> <span class=\"selector-tag\">sent</span>, <span class=\"selector-tag\">awaiting</span> <span class=\"selector-tag\">response</span>... <span class=\"selector-tag\">302</span> <span class=\"selector-tag\">Moved</span> <span class=\"selector-tag\">Temporarily</span></span><br><span class=\"line\"><span class=\"selector-tag\">Location</span>: <span class=\"selector-tag\">https</span>:<span class=\"comment\">//edelivery.oracle.com/otn-pub/java/jdk/8u172-b11/a58eab1ec242421181065cdc37240b08/jdk-8u172-linux-x64.tar.gz [following]</span></span><br><span class=\"line\"><span class=\"selector-tag\">--2018-06-04</span> <span class=\"selector-tag\">09</span><span class=\"selector-pseudo\">:36</span><span class=\"selector-pseudo\">:08--</span>  <span class=\"selector-tag\">https</span>:<span class=\"comment\">//edelivery.oracle.com/otn-pub/java/jdk/8u172-b11/a58eab1ec242421181065cdc37240b08/jdk-8u172-linux-x64.tar.gz</span></span><br><span class=\"line\"><span class=\"selector-tag\">Resolving</span> <span class=\"selector-tag\">edelivery</span><span class=\"selector-class\">.oracle</span><span class=\"selector-class\">.com</span> (edelivery.oracle.com)... <span class=\"selector-tag\">184</span><span class=\"selector-class\">.26</span><span class=\"selector-class\">.250</span><span class=\"selector-class\">.202</span>, <span class=\"selector-tag\">2600</span><span class=\"selector-pseudo\">:1417</span><span class=\"selector-pseudo\">:76</span><span class=\"selector-pseudo\">:19a</span><span class=\"selector-pseudo\">::2d3e</span>, <span class=\"selector-tag\">2600</span><span class=\"selector-pseudo\">:1417</span><span class=\"selector-pseudo\">:76</span><span class=\"selector-pseudo\">:181</span><span class=\"selector-pseudo\">::2d3e</span></span><br><span class=\"line\"><span class=\"selector-tag\">Connecting</span> <span class=\"selector-tag\">to</span> <span class=\"selector-tag\">edelivery</span><span class=\"selector-class\">.oracle</span><span class=\"selector-class\">.com</span> (edelivery.oracle.com)|<span class=\"selector-tag\">184</span><span class=\"selector-class\">.26</span><span class=\"selector-class\">.250</span><span class=\"selector-class\">.202</span>|<span class=\"selector-pseudo\">:443...</span> <span class=\"selector-tag\">connected</span>.</span><br><span class=\"line\"><span class=\"selector-tag\">HTTP</span> <span class=\"selector-tag\">request</span> <span class=\"selector-tag\">sent</span>, <span class=\"selector-tag\">awaiting</span> <span class=\"selector-tag\">response</span>... <span class=\"selector-tag\">302</span> <span class=\"selector-tag\">Moved</span> <span class=\"selector-tag\">Temporarily</span></span><br><span class=\"line\"><span class=\"selector-tag\">Location</span>: <span class=\"selector-tag\">http</span>:<span class=\"comment\">//download.oracle.com/errors/download-fail-1505220.html [following]</span></span><br><span class=\"line\"><span class=\"selector-tag\">--2018-06-04</span> <span class=\"selector-tag\">09</span><span class=\"selector-pseudo\">:36</span><span class=\"selector-pseudo\">:09--</span>  <span class=\"selector-tag\">http</span>:<span class=\"comment\">//download.oracle.com/errors/download-fail-1505220.html</span></span><br><span class=\"line\"><span class=\"selector-tag\">Connecting</span> <span class=\"selector-tag\">to</span> <span class=\"selector-tag\">download</span><span class=\"selector-class\">.oracle</span><span class=\"selector-class\">.com</span> (download.oracle.com)|<span class=\"selector-tag\">23</span><span class=\"selector-class\">.211</span><span class=\"selector-class\">.96</span><span class=\"selector-class\">.75</span>|<span class=\"selector-pseudo\">:80...</span> <span class=\"selector-tag\">connected</span>.</span><br><span class=\"line\"><span class=\"selector-tag\">HTTP</span> <span class=\"selector-tag\">request</span> <span class=\"selector-tag\">sent</span>, <span class=\"selector-tag\">awaiting</span> <span class=\"selector-tag\">response</span>... <span class=\"selector-tag\">200</span> <span class=\"selector-tag\">OK</span></span><br><span class=\"line\"><span class=\"selector-tag\">Length</span>: <span class=\"selector-tag\">5307</span> (<span class=\"number\">5.2</span>K) <span class=\"selector-attr\">[text/html]</span></span><br><span class=\"line\"><span class=\"selector-tag\">Saving</span> <span class=\"selector-tag\">to</span>: ‘<span class=\"selector-tag\">jdk-8u172-linux-x64</span><span class=\"selector-class\">.tar</span><span class=\"selector-class\">.gz</span>’</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-tag\">100%</span><span class=\"selector-attr\">[======================================&gt;]</span> <span class=\"selector-tag\">5</span>,<span class=\"selector-tag\">307</span>       <span class=\"selector-tag\">--</span><span class=\"selector-class\">.-K</span>/<span class=\"selector-tag\">s</span>   <span class=\"selector-tag\">in</span> <span class=\"selector-tag\">0s</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-tag\">2018-06-04</span> <span class=\"selector-tag\">09</span><span class=\"selector-pseudo\">:36</span><span class=\"selector-pseudo\">:09</span> (<span class=\"number\">492</span> MB/s) <span class=\"selector-tag\">-</span> ‘<span class=\"selector-tag\">jdk-8u172-linux-x64</span><span class=\"selector-class\">.tar</span><span class=\"selector-class\">.gz</span>’ <span class=\"selector-tag\">saved</span> <span class=\"selector-attr\">[5307/5307]</span></span><br></pre></td></tr></table></figure></p>\n<p><strong>WHY</strong><br>If we user command ‘tar -xzvf’ we will get\n<figure class=\"highlight coffeescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@colinECS download]<span class=\"comment\"># tar -xzvf jdk-8u172-linux-x64.tar.gz</span></span><br><span class=\"line\"></span><br><span class=\"line\">gzip: stdin: <span class=\"keyword\">not</span> <span class=\"keyword\">in</span> gzip format</span><br><span class=\"line\">tar: Child returned status <span class=\"number\">1</span></span><br><span class=\"line\">tar: Error <span class=\"keyword\">is</span> <span class=\"keyword\">not</span> recoverable: exiting now</span><br></pre></td></tr></table></figure></p>\n<p>Here we can see some error out<br>Also we can feel there has something wrong in somewhere<br>Where?<br>Yes here:<br><figure class=\"highlight less\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-tag\">100%</span><span class=\"selector-attr\">[======================================&gt;]</span> <span class=\"selector-tag\">5</span>,<span class=\"selector-tag\">307</span>       <span class=\"selector-tag\">--</span><span class=\"selector-class\">.-K</span>/<span class=\"selector-tag\">s</span>   <span class=\"selector-tag\">in</span> <span class=\"selector-tag\">0s</span></span><br><span class=\"line\"><span class=\"selector-tag\">2018-06-04</span> <span class=\"selector-tag\">09</span><span class=\"selector-pseudo\">:36</span><span class=\"selector-pseudo\">:09</span> (<span class=\"number\">492</span> MB/s) <span class=\"selector-tag\">-</span> ‘<span class=\"selector-tag\">jdk-8u172-linux-x64</span><span class=\"selector-class\">.tar</span><span class=\"selector-class\">.gz</span>’ <span class=\"selector-tag\">saved</span> <span class=\"selector-attr\">[5307/5307]</span></span><br></pre></td></tr></table></figure></p>\n<p>The package just 5307Kb<br>The correct package cannot be so small<br>If we go the <a href=\"http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html\" target=\"_blank\" rel=\"noopener\">Java Home Page</a><br>We can see if you want download you must Accept a option:<br><img src=\"install_jvm&amp;tomcat/1.jdk-license.png\" alt=\"avatar\"><br><img src=\"/2016/07/12/install/install_jvm&tomcat/1.jdk-license.png\" title=\"jdk-license\">\nIf we just use command ‘wget’,\nwe will download the package without accept the license,\nSo we cannot unpack the package</p>\n<h5 id=\"Correct-way\"><a href=\"#Correct-way\" class=\"headerlink\" title=\"Correct way\"></a>Correct way</h5><p>We need use browser to accept the license and download the package<br>then use Ftp/Sftp tools move the package to your linux server<br>Or you can use command rpm to get package  </p>\n<h4 id=\"Expand-the-package\"><a href=\"#Expand-the-package\" class=\"headerlink\" title=\"Expand the package\"></a>Expand the package</h4><figure class=\"highlight autoit\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root<span class=\"symbol\">@localhost</span> software]<span class=\"meta\"># mkdir -p /usr/lib/jvm</span></span><br><span class=\"line\">[root<span class=\"symbol\">@localhost</span> software]<span class=\"meta\"># tar -zxvf jdk-8u131-linux-x64.tar.gz -C /usr/lib/jvm</span></span><br></pre></td></tr></table></figure>\n<h4 id=\"Set-Envionment-variables\"><a href=\"#Set-Envionment-variables\" class=\"headerlink\" title=\"Set Envionment variables\"></a>Set Envionment variables</h4><figure class=\"highlight autoit\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root<span class=\"symbol\">@localhost</span> software]<span class=\"meta\"># vim /etc/profile</span></span><br></pre></td></tr></table></figure>\n<p>Insert in head this:\n<figure class=\"highlight routeros\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"builtin-name\">export</span> <span class=\"attribute\">JAVA_HOME</span>=/usr/lib/jvm/jdk1.8.0_131  </span><br><span class=\"line\"><span class=\"builtin-name\">export</span> <span class=\"attribute\">JRE_HOME</span>=<span class=\"variable\">$&#123;JAVA_HOME&#125;</span>/jre  </span><br><span class=\"line\"><span class=\"builtin-name\">export</span> <span class=\"attribute\">CLASSPATH</span>=.:$&#123;JAVA_HOME&#125;/lib:<span class=\"variable\">$&#123;JRE_HOME&#125;</span>/lib  </span><br><span class=\"line\"><span class=\"builtin-name\">export</span>  <span class=\"attribute\">PATH</span>=<span class=\"variable\">$&#123;JAVA_HOME&#125;</span>/bin:$PATH</span><br></pre></td></tr></table></figure></p>\n<h4 id=\"Make-function-useful\"><a href=\"#Make-function-useful\" class=\"headerlink\" title=\"Make function useful\"></a>Make function useful</h4><figure class=\"highlight autoit\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root<span class=\"symbol\">@localhost</span> software]<span class=\"meta\"># source /etc/profile</span></span><br></pre></td></tr></table></figure>\n<h4 id=\"Check-Version\"><a href=\"#Check-Version\" class=\"headerlink\" title=\"Check Version\"></a>Check Version</h4><figure class=\"highlight routeros\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@localhost software]# java -version</span><br><span class=\"line\"></span><br><span class=\"line\">java version <span class=\"string\">\"1.8.0_172\"</span></span><br><span class=\"line\">Java(TM) SE Runtime Environment (build 1.8.0_172-b11)</span><br><span class=\"line\">Java HotSpot(TM) 64-Bit<span class=\"built_in\"> Server </span>VM (build 25.172-b11, mixed mode)</span><br></pre></td></tr></table></figure>\n<p><strong>Suucess</strong>\n<br><br><br><br><br>   </p>\n<h3 id=\"Remove\"><a href=\"#Remove\" class=\"headerlink\" title=\"Remove\"></a>Remove</h3><h4 id=\"check-version\"><a href=\"#check-version\" class=\"headerlink\" title=\"check version\"></a>check version</h4><figure class=\"highlight routeros\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@localhost software]# java -version</span><br><span class=\"line\"></span><br><span class=\"line\">openjdk version <span class=\"string\">\"1.8.0_102\"</span></span><br><span class=\"line\">OpenJDK Runtime Environment (build 1.8.0_102-b14)</span><br><span class=\"line\">OpenJDK 64-Bit<span class=\"built_in\"> Server </span>VM (build 25.102-b14, mixed mode)</span><br></pre></td></tr></table></figure>\n<h4 id=\"2-检测jdk安装包\"><a href=\"#2-检测jdk安装包\" class=\"headerlink\" title=\"2. 检测jdk安装包\"></a>2. 检测jdk安装包</h4><figure class=\"highlight lsl\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@localhost software]# rpm -qa | grep java</span><br><span class=\"line\"></span><br><span class=\"line\">java<span class=\"number\">-1.7</span><span class=\"number\">.0</span>-openjdk<span class=\"number\">-1.7</span><span class=\"number\">.0</span><span class=\"number\">.111</span><span class=\"number\">-2.6</span><span class=\"number\">.7</span><span class=\"number\">.8</span>.el7.x86_64</span><br><span class=\"line\">python-javapackages<span class=\"number\">-3.4</span><span class=\"number\">.1</span><span class=\"number\">-11.</span>el7.noarch</span><br><span class=\"line\">tzdata-java<span class=\"number\">-2016</span>g<span class=\"number\">-2.</span>el7.noarch</span><br><span class=\"line\">javapackages-tools<span class=\"number\">-3.4</span><span class=\"number\">.1</span><span class=\"number\">-11.</span>el7.noarch</span><br><span class=\"line\">java<span class=\"number\">-1.8</span><span class=\"number\">.0</span>-openjdk<span class=\"number\">-1.8</span><span class=\"number\">.0</span><span class=\"number\">.102</span><span class=\"number\">-4.</span>b14.el7.x86_64</span><br><span class=\"line\">java<span class=\"number\">-1.8</span><span class=\"number\">.0</span>-openjdk-headless<span class=\"number\">-1.8</span><span class=\"number\">.0</span><span class=\"number\">.102</span><span class=\"number\">-4.</span>b14.el7.x86_64</span><br><span class=\"line\">java<span class=\"number\">-1.7</span><span class=\"number\">.0</span>-openjdk-headless<span class=\"number\">-1.7</span><span class=\"number\">.0</span><span class=\"number\">.111</span><span class=\"number\">-2.6</span><span class=\"number\">.7</span><span class=\"number\">.8</span>.el7.x86_64\\</span><br></pre></td></tr></table></figure>\n<h4 id=\"3-卸载openjdk\"><a href=\"#3-卸载openjdk\" class=\"headerlink\" title=\"3. 卸载openjdk\"></a>3. 卸载openjdk</h4><figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-attr\">[root@localhost software]</span># <span class=\"selector-tag\">rpm</span> <span class=\"selector-tag\">-e</span> <span class=\"selector-tag\">--nodeps</span> <span class=\"selector-tag\">tzdata-java-2016g-2</span><span class=\"selector-class\">.el7</span><span class=\"selector-class\">.noarch</span></span><br><span class=\"line\"><span class=\"selector-attr\">[root@localhost software]</span># <span class=\"selector-tag\">rpm</span> <span class=\"selector-tag\">-e</span> <span class=\"selector-tag\">--nodeps</span> <span class=\"selector-tag\">java-1</span><span class=\"selector-class\">.7</span><span class=\"selector-class\">.0-openjdk-1</span><span class=\"selector-class\">.7</span><span class=\"selector-class\">.0</span><span class=\"selector-class\">.111-2</span><span class=\"selector-class\">.6</span><span class=\"selector-class\">.7</span><span class=\"selector-class\">.8</span><span class=\"selector-class\">.el7</span><span class=\"selector-class\">.x86_64</span></span><br><span class=\"line\"><span class=\"selector-attr\">[root@localhost software]</span># <span class=\"selector-tag\">rpm</span> <span class=\"selector-tag\">-e</span> <span class=\"selector-tag\">--nodeps</span> <span class=\"selector-tag\">java-1</span><span class=\"selector-class\">.7</span><span class=\"selector-class\">.0-openjdk-headless-1</span><span class=\"selector-class\">.7</span><span class=\"selector-class\">.0</span><span class=\"selector-class\">.111-2</span><span class=\"selector-class\">.6</span><span class=\"selector-class\">.7</span><span class=\"selector-class\">.8</span><span class=\"selector-class\">.el7</span><span class=\"selector-class\">.x86_64</span></span><br><span class=\"line\"><span class=\"selector-attr\">[root@localhost software]</span># <span class=\"selector-tag\">rpm</span> <span class=\"selector-tag\">-e</span> <span class=\"selector-tag\">--nodeps</span> <span class=\"selector-tag\">java-1</span><span class=\"selector-class\">.8</span><span class=\"selector-class\">.0-openjdk-1</span><span class=\"selector-class\">.8</span><span class=\"selector-class\">.0</span><span class=\"selector-class\">.102-4</span><span class=\"selector-class\">.b14</span><span class=\"selector-class\">.el7</span><span class=\"selector-class\">.x86_64</span></span><br><span class=\"line\"><span class=\"selector-attr\">[root@localhost software]</span># <span class=\"selector-tag\">rpm</span> <span class=\"selector-tag\">-e</span> <span class=\"selector-tag\">--nodeps</span> <span class=\"selector-tag\">java-1</span><span class=\"selector-class\">.8</span><span class=\"selector-class\">.0-openjdk-headless-1</span><span class=\"selector-class\">.8</span><span class=\"selector-class\">.0</span><span class=\"selector-class\">.102-4</span><span class=\"selector-class\">.b14</span><span class=\"selector-class\">.el7</span><span class=\"selector-class\">.x86_64</span></span><br></pre></td></tr></table></figure>\n<p>或者使用\n<figure class=\"highlight autoit\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root<span class=\"symbol\">@localhost</span> jvm]<span class=\"meta\"># yum remove *openjdk*</span></span><br></pre></td></tr></table></figure></p>\n<p>之后再次输入rpm -qa | grep java 查看卸载情况：\n<figure class=\"highlight lsl\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@localhost software]# rpm -qa | grep java</span><br><span class=\"line\"></span><br><span class=\"line\">python-javapackages<span class=\"number\">-3.4</span><span class=\"number\">.1</span><span class=\"number\">-11.</span>el7.noarch</span><br><span class=\"line\">javapackages-tools<span class=\"number\">-3.4</span><span class=\"number\">.1</span><span class=\"number\">-11.</span>el7.noarch</span><br></pre></td></tr></table></figure></p>\n<p><br>\n<br>\n<br></p>\n<h3 id=\"安装\"><a href=\"#安装\" class=\"headerlink\" title=\"安装\"></a>安装</h3><h4 id=\"Go-to-下载-JDK\"><a href=\"#Go-to-下载-JDK\" class=\"headerlink\" title=\"Go to 下载 JDK\"></a>Go to 下载 JDK</h4><p><a href=\"http://www.oracle.com/technetwork/java/javase/downloads/index.html\" target=\"_blank\" rel=\"noopener\">Oracle Java官网</a><br><a href=\"http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html\" target=\"_blank\" rel=\"noopener\">Java se 8</a>  </p>\n<p><a href=\"http://download.oracle.com/otn-pub/java/jdk/8u172-b11/a58eab1ec242421181065cdc37240b08/jdk-8u172-linux-x64.tar.gz\" target=\"_blank\" rel=\"noopener\">Jdk 8u172 For Linux.trr.gz</a></p>\n<p><strong>注意</strong><br>不可以用’wget’命令下载JDK\n<figure class=\"highlight less\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-attr\">[root@colinECS download]</span># <span class=\"selector-tag\">wget</span> <span class=\"selector-tag\">http</span>:<span class=\"comment\">//download.oracle.com/otn-pub/java/jdk/8u172-b11/a58eab1ec242421181065cdc37240b08/jdk-8u172-linux-x64.tar.gz</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-tag\">--2018-06-04</span> <span class=\"selector-tag\">09</span><span class=\"selector-pseudo\">:36</span><span class=\"selector-pseudo\">:08--</span>  <span class=\"selector-tag\">http</span>:<span class=\"comment\">//download.oracle.com/otn-pub/java/jdk/8u172-b11/a58eab1ec242421181065cdc37240b08/jdk-8u172-linux-x64.tar.gz</span></span><br><span class=\"line\"><span class=\"selector-tag\">Resolving</span> <span class=\"selector-tag\">download</span><span class=\"selector-class\">.oracle</span><span class=\"selector-class\">.com</span> (download.oracle.com)... <span class=\"selector-tag\">23</span><span class=\"selector-class\">.211</span><span class=\"selector-class\">.96</span><span class=\"selector-class\">.75</span></span><br><span class=\"line\"><span class=\"selector-tag\">Connecting</span> <span class=\"selector-tag\">to</span> <span class=\"selector-tag\">download</span><span class=\"selector-class\">.oracle</span><span class=\"selector-class\">.com</span> (download.oracle.com)|<span class=\"selector-tag\">23</span><span class=\"selector-class\">.211</span><span class=\"selector-class\">.96</span><span class=\"selector-class\">.75</span>|<span class=\"selector-pseudo\">:80...</span> <span class=\"selector-tag\">connected</span>.</span><br><span class=\"line\"><span class=\"selector-tag\">HTTP</span> <span class=\"selector-tag\">request</span> <span class=\"selector-tag\">sent</span>, <span class=\"selector-tag\">awaiting</span> <span class=\"selector-tag\">response</span>... <span class=\"selector-tag\">302</span> <span class=\"selector-tag\">Moved</span> <span class=\"selector-tag\">Temporarily</span></span><br><span class=\"line\"><span class=\"selector-tag\">Location</span>: <span class=\"selector-tag\">https</span>:<span class=\"comment\">//edelivery.oracle.com/otn-pub/java/jdk/8u172-b11/a58eab1ec242421181065cdc37240b08/jdk-8u172-linux-x64.tar.gz [following]</span></span><br><span class=\"line\"><span class=\"selector-tag\">--2018-06-04</span> <span class=\"selector-tag\">09</span><span class=\"selector-pseudo\">:36</span><span class=\"selector-pseudo\">:08--</span>  <span class=\"selector-tag\">https</span>:<span class=\"comment\">//edelivery.oracle.com/otn-pub/java/jdk/8u172-b11/a58eab1ec242421181065cdc37240b08/jdk-8u172-linux-x64.tar.gz</span></span><br><span class=\"line\"><span class=\"selector-tag\">Resolving</span> <span class=\"selector-tag\">edelivery</span><span class=\"selector-class\">.oracle</span><span class=\"selector-class\">.com</span> (edelivery.oracle.com)... <span class=\"selector-tag\">184</span><span class=\"selector-class\">.26</span><span class=\"selector-class\">.250</span><span class=\"selector-class\">.202</span>, <span class=\"selector-tag\">2600</span><span class=\"selector-pseudo\">:1417</span><span class=\"selector-pseudo\">:76</span><span class=\"selector-pseudo\">:19a</span><span class=\"selector-pseudo\">::2d3e</span>, <span class=\"selector-tag\">2600</span><span class=\"selector-pseudo\">:1417</span><span class=\"selector-pseudo\">:76</span><span class=\"selector-pseudo\">:181</span><span class=\"selector-pseudo\">::2d3e</span></span><br><span class=\"line\"><span class=\"selector-tag\">Connecting</span> <span class=\"selector-tag\">to</span> <span class=\"selector-tag\">edelivery</span><span class=\"selector-class\">.oracle</span><span class=\"selector-class\">.com</span> (edelivery.oracle.com)|<span class=\"selector-tag\">184</span><span class=\"selector-class\">.26</span><span class=\"selector-class\">.250</span><span class=\"selector-class\">.202</span>|<span class=\"selector-pseudo\">:443...</span> <span class=\"selector-tag\">connected</span>.</span><br><span class=\"line\"><span class=\"selector-tag\">HTTP</span> <span class=\"selector-tag\">request</span> <span class=\"selector-tag\">sent</span>, <span class=\"selector-tag\">awaiting</span> <span class=\"selector-tag\">response</span>... <span class=\"selector-tag\">302</span> <span class=\"selector-tag\">Moved</span> <span class=\"selector-tag\">Temporarily</span></span><br><span class=\"line\"><span class=\"selector-tag\">Location</span>: <span class=\"selector-tag\">http</span>:<span class=\"comment\">//download.oracle.com/errors/download-fail-1505220.html [following]</span></span><br><span class=\"line\"><span class=\"selector-tag\">--2018-06-04</span> <span class=\"selector-tag\">09</span><span class=\"selector-pseudo\">:36</span><span class=\"selector-pseudo\">:09--</span>  <span class=\"selector-tag\">http</span>:<span class=\"comment\">//download.oracle.com/errors/download-fail-1505220.html</span></span><br><span class=\"line\"><span class=\"selector-tag\">Connecting</span> <span class=\"selector-tag\">to</span> <span class=\"selector-tag\">download</span><span class=\"selector-class\">.oracle</span><span class=\"selector-class\">.com</span> (download.oracle.com)|<span class=\"selector-tag\">23</span><span class=\"selector-class\">.211</span><span class=\"selector-class\">.96</span><span class=\"selector-class\">.75</span>|<span class=\"selector-pseudo\">:80...</span> <span class=\"selector-tag\">connected</span>.</span><br><span class=\"line\"><span class=\"selector-tag\">HTTP</span> <span class=\"selector-tag\">request</span> <span class=\"selector-tag\">sent</span>, <span class=\"selector-tag\">awaiting</span> <span class=\"selector-tag\">response</span>... <span class=\"selector-tag\">200</span> <span class=\"selector-tag\">OK</span></span><br><span class=\"line\"><span class=\"selector-tag\">Length</span>: <span class=\"selector-tag\">5307</span> (<span class=\"number\">5.2</span>K) <span class=\"selector-attr\">[text/html]</span></span><br><span class=\"line\"><span class=\"selector-tag\">Saving</span> <span class=\"selector-tag\">to</span>: ‘<span class=\"selector-tag\">jdk-8u172-linux-x64</span><span class=\"selector-class\">.tar</span><span class=\"selector-class\">.gz</span>’</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-tag\">100%</span><span class=\"selector-attr\">[======================================&gt;]</span> <span class=\"selector-tag\">5</span>,<span class=\"selector-tag\">307</span>       <span class=\"selector-tag\">--</span><span class=\"selector-class\">.-K</span>/<span class=\"selector-tag\">s</span>   <span class=\"selector-tag\">in</span> <span class=\"selector-tag\">0s</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-tag\">2018-06-04</span> <span class=\"selector-tag\">09</span><span class=\"selector-pseudo\">:36</span><span class=\"selector-pseudo\">:09</span> (<span class=\"number\">492</span> MB/s) <span class=\"selector-tag\">-</span> ‘<span class=\"selector-tag\">jdk-8u172-linux-x64</span><span class=\"selector-class\">.tar</span><span class=\"selector-class\">.gz</span>’ <span class=\"selector-tag\">saved</span> <span class=\"selector-attr\">[5307/5307]</span></span><br></pre></td></tr></table></figure></p>\n<p><strong>啊♂？？？</strong><br>我们解压用’wget’命令获得的jdk包会发现：\n<figure class=\"highlight coffeescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@colinECS download]<span class=\"comment\"># tar -xzvf jdk-8u172-linux-x64.tar.gz</span></span><br><span class=\"line\"></span><br><span class=\"line\">gzip: stdin: <span class=\"keyword\">not</span> <span class=\"keyword\">in</span> gzip format</span><br><span class=\"line\">tar: Child returned status <span class=\"number\">1</span></span><br><span class=\"line\">tar: Error <span class=\"keyword\">is</span> <span class=\"keyword\">not</span> recoverable: exiting now</span><br></pre></td></tr></table></figure></p>\n<p>解压报错了！！！<br><strong>为啥子咧？</strong><br>总感觉那里不对怪怪的<br>那里嘞？<br>对对对，就是这里:<br><figure class=\"highlight less\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-tag\">100%</span><span class=\"selector-attr\">[======================================&gt;]</span> <span class=\"selector-tag\">5</span>,<span class=\"selector-tag\">307</span>       <span class=\"selector-tag\">--</span><span class=\"selector-class\">.-K</span>/<span class=\"selector-tag\">s</span>   <span class=\"selector-tag\">in</span> <span class=\"selector-tag\">0s</span></span><br><span class=\"line\"><span class=\"selector-tag\">2018-06-04</span> <span class=\"selector-tag\">09</span><span class=\"selector-pseudo\">:36</span><span class=\"selector-pseudo\">:09</span> (<span class=\"number\">492</span> MB/s) <span class=\"selector-tag\">-</span> ‘<span class=\"selector-tag\">jdk-8u172-linux-x64</span><span class=\"selector-class\">.tar</span><span class=\"selector-class\">.gz</span>’ <span class=\"selector-tag\">saved</span> <span class=\"selector-attr\">[5307/5307]</span></span><br></pre></td></tr></table></figure></p>\n<p>这咋就5307Kb这么点大啊<br>不应该这么小啊<br>咋们去官网看下 <a href=\"http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html\" target=\"_blank\" rel=\"noopener\">Java Home Page</a><br>求豆麻袋，求豆麻袋，这怎么还有选项啊<br><img src=\"install_jvm&amp;tomcat/1.jdk-license.png\" alt=\"avatar\"><br><img src=\"/2016/07/12/install/install_jvm&tomcat/1.jdk-license.png\" title=\"jdk-license\">\n<img class=\"[]\">\n我们用’wget’的时候是没有同意这个选项的,<br>所以下载下来有问题的包是不能解压的<br>怪不得  </p>\n<h5 id=\"那可咋整\"><a href=\"#那可咋整\" class=\"headerlink\" title=\"那可咋整\"></a>那可咋整</h5><p>还能咋整，只能用浏览器下载了呗<br>然后用 Ftp/Sftp 工具把下载好的传到linux服务器去<br>不过好像用 rpm 命令安装可以避免这种情况  </p>\n<h4 id=\"解压\"><a href=\"#解压\" class=\"headerlink\" title=\"解压\"></a>解压</h4><figure class=\"highlight autoit\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root<span class=\"symbol\">@localhost</span> software]<span class=\"meta\"># mkdir -p /usr/lib/jvm</span></span><br><span class=\"line\">[root<span class=\"symbol\">@localhost</span> software]<span class=\"meta\"># tar -zxvf jdk-8u131-linux-x64.tar.gz -C /usr/lib/jvm</span></span><br></pre></td></tr></table></figure>\n<h4 id=\"设置环境变量\"><a href=\"#设置环境变量\" class=\"headerlink\" title=\"设置环境变量\"></a>设置环境变量</h4><figure class=\"highlight autoit\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root<span class=\"symbol\">@localhost</span> software]<span class=\"meta\"># vim /etc/profile</span></span><br></pre></td></tr></table></figure>\n<p>在文件前面加入这些内容:  </p>\n<figure class=\"highlight routeros\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"builtin-name\">export</span> <span class=\"attribute\">JAVA_HOME</span>=/usr/lib/jvm/jdk1.8.0_131  </span><br><span class=\"line\"><span class=\"builtin-name\">export</span> <span class=\"attribute\">JRE_HOME</span>=<span class=\"variable\">$&#123;JAVA_HOME&#125;</span>/jre  </span><br><span class=\"line\"><span class=\"builtin-name\">export</span> <span class=\"attribute\">CLASSPATH</span>=.:$&#123;JAVA_HOME&#125;/lib:<span class=\"variable\">$&#123;JRE_HOME&#125;</span>/lib  </span><br><span class=\"line\"><span class=\"builtin-name\">export</span>  <span class=\"attribute\">PATH</span>=<span class=\"variable\">$&#123;JAVA_HOME&#125;</span>/bin:$PATH</span><br></pre></td></tr></table></figure>\n<h4 id=\"使得profile文件有效，这样就不用重启了\"><a href=\"#使得profile文件有效，这样就不用重启了\" class=\"headerlink\" title=\"使得profile文件有效，这样就不用重启了\"></a>使得profile文件有效，这样就不用重启了</h4><figure class=\"highlight autoit\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root<span class=\"symbol\">@localhost</span> software]<span class=\"meta\"># source /etc/profile</span></span><br></pre></td></tr></table></figure>\n<h4 id=\"检查下version-看看成功没\"><a href=\"#检查下version-看看成功没\" class=\"headerlink\" title=\"检查下version 看看成功没\"></a>检查下version 看看成功没</h4><figure class=\"highlight routeros\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">    [root@localhost software]# java -version</span><br><span class=\"line\">    </span><br><span class=\"line\">    </span><br><span class=\"line\">    </span><br><span class=\"line\">    </span><br><span class=\"line\">    </span><br><span class=\"line\">    </span><br><span class=\"line\">    java version <span class=\"string\">\"1.8.0_172\"</span></span><br><span class=\"line\">    Java(TM) SE Runtime Environment (build 1.8.0_172-b11)</span><br><span class=\"line\">    Java HotSpot(TM) 64-Bit<span class=\"built_in\"> Server </span>VM (build 25.172-b11, mixed mode)</span><br><span class=\"line\">**Success**</span><br></pre></td></tr></table></figure>\n<p><br><br><br><br><br>   </p>\n<h2 id=\"Tomcat\"><a href=\"#Tomcat\" class=\"headerlink\" title=\"Tomcat\"></a>Tomcat</h2><h4 id=\"DownLoad\"><a href=\"#DownLoad\" class=\"headerlink\" title=\"DownLoad\"></a>DownLoad</h4><p><a href=\"https://tomcat.apache.org/\" target=\"_blank\" rel=\"noopener\">Tomcat Page</a><br><a href=\"http://mirrors.tuna.tsinghua.edu.cn/apache/tomcat/tomcat-7/v7.0.88/bin/apache-tomcat-7.0.88.tar.gz\" target=\"_blank\" rel=\"noopener\">Tomcat 7.0.88</a><br><figure class=\"highlight x86asm\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@colinECS download]# wget   http://mirrors.tuna.tsinghua.edu.cn/apache/tomcat/tomcat-<span class=\"number\">7</span>/v7<span class=\"meta\">.0</span><span class=\"meta\">.88</span>/bin/apache-tomcat-<span class=\"number\">7.0</span><span class=\"meta\">.88</span>.tar.gz</span><br></pre></td></tr></table></figure></p>\n<h4 id=\"Expand\"><a href=\"#Expand\" class=\"headerlink\" title=\"Expand\"></a>Expand</h4><figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-attr\">[root@colinECS download]</span># <span class=\"selector-tag\">tar</span> <span class=\"selector-tag\">zxvf</span> <span class=\"selector-tag\">apach-tomcat-6</span><span class=\"selector-class\">.0</span><span class=\"selector-class\">.16</span><span class=\"selector-class\">.tar</span><span class=\"selector-class\">.gz</span></span><br></pre></td></tr></table></figure>\n<h4 id=\"Start\"><a href=\"#Start\" class=\"headerlink\" title=\"Start\"></a>Start</h4><p>cd to bin\n<figure class=\"highlight autoit\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root<span class=\"symbol\">@colinECS</span> bin]<span class=\"meta\"># ./startup.sh</span></span><br></pre></td></tr></table></figure></p>\n<p><br><br><br></p>\n<h4 id=\"下载\"><a href=\"#下载\" class=\"headerlink\" title=\"下载\"></a>下载</h4><p><a href=\"https://tomcat.apache.org/\" target=\"_blank\" rel=\"noopener\">Tomcat Page</a><br><a href=\"http://mirrors.tuna.tsinghua.edu.cn/apache/tomcat/tomcat-7/v7.0.88/bin/apache-tomcat-7.0.88.tar.gz\" target=\"_blank\" rel=\"noopener\">Tomcat 7.0.88</a><br><figure class=\"highlight x86asm\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@colinECS download]# wget   http://mirrors.tuna.tsinghua.edu.cn/apache/tomcat/tomcat-<span class=\"number\">7</span>/v7<span class=\"meta\">.0</span><span class=\"meta\">.88</span>/bin/apache-tomcat-<span class=\"number\">7.0</span><span class=\"meta\">.88</span>.tar.gz</span><br></pre></td></tr></table></figure></p>\n<h4 id=\"解压-1\"><a href=\"#解压-1\" class=\"headerlink\" title=\"解压\"></a>解压</h4><figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-attr\">[root@colinECS download]</span># <span class=\"selector-tag\">tar</span> <span class=\"selector-tag\">zxvf</span> <span class=\"selector-tag\">apach-tomcat-6</span><span class=\"selector-class\">.0</span><span class=\"selector-class\">.16</span><span class=\"selector-class\">.tar</span><span class=\"selector-class\">.gz</span></span><br></pre></td></tr></table></figure>\n<h4 id=\"启动\"><a href=\"#启动\" class=\"headerlink\" title=\"启动\"></a>启动</h4><p>切换到bin文件夹\n<figure class=\"highlight autoit\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root<span class=\"symbol\">@colinECS</span> bin]<span class=\"meta\"># ./startup.sh</span></span><br></pre></td></tr></table></figure></p>\n<p><br><br><br></p>\n<h2 id=\"Jar-包使用\"><a href=\"#Jar-包使用\" class=\"headerlink\" title=\"Jar 包使用\"></a>Jar 包使用</h2><h4 id=\"1-running-list\"><a href=\"#1-running-list\" class=\"headerlink\" title=\"1 running list\"></a>1 running list</h4><pre><code>[root@Warbuild-Svr /]# ps aux|grep chessService.jar\n\nroot      58662  0.0  0.0 112720   988 pts/3    S+   10:53   0:00 grep --color=auto chessService.jar\nroot     125484  0.6  0.9 13526904 297464 ?     Sl   10:07   0:18 java -jar chessService.jar\nroot     148294  0.0  0.3 14451472 117300 pts/0 Sl   10:15   0:01 java -jar chessService.jar\n</code></pre><h4 id=\"2-Kill-running\"><a href=\"#2-Kill-running\" class=\"headerlink\" title=\"2 Kill running\"></a>2 Kill running</h4><pre><code>[root@Warbuild-Svr /]# kill -9 148294\n</code></pre><h4 id=\"3-Start\"><a href=\"#3-Start\" class=\"headerlink\" title=\"3 Start\"></a>3 Start</h4><pre><code>[root@Warbuild-Svr /]# java -jar chessService.jar &amp;\n</code></pre><p>声明：’&amp;’ 为持久化符号，若未加入’&amp;’ 则关闭窗口后停止程序  </p>\n","site":{"data":{}},"excerpt":"<p>本文主要说明Linux中配置jdk和tomcat过程,将自己在配置过程中遇到的一些问题及相关的解决方案列举出来","more":"</p>\n<h2 id=\"Jvm\"><a href=\"#Jvm\" class=\"headerlink\" title=\"Jvm\"></a>Jvm</h2><h3 id=\"Install\"><a href=\"#Install\" class=\"headerlink\" title=\"Install\"></a>Install</h3><h4 id=\"Go-to-Download-JDK\"><a href=\"#Go-to-Download-JDK\" class=\"headerlink\" title=\"Go to Download JDK\"></a>Go to Download JDK</h4><p><a href=\"http://www.oracle.com/technetwork/java/javase/downloads/index.html\" target=\"_blank\" rel=\"noopener\">Java SE Download Page On Oracle</a><br><a href=\"http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html\" target=\"_blank\" rel=\"noopener\">Java se 8</a>  </p>\n<p><a href=\"http://download.oracle.com/otn-pub/java/jdk/8u172-b11/a58eab1ec242421181065cdc37240b08/jdk-8u172-linux-x64.tar.gz\" target=\"_blank\" rel=\"noopener\">Jdk 8u172 For Linux.trr.gz</a></p>\n<p><strong>WARNING</strong><br>Cannot Use Next Code Get tar.gz Package\n<figure class=\"highlight less\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-attr\">[root@colinECS download]</span># <span class=\"selector-tag\">wget</span> <span class=\"selector-tag\">http</span>:<span class=\"comment\">//download.oracle.com/otn-pub/java/jdk/8u172-b11/a58eab1ec242421181065cdc37240b08/jdk-8u172-linux-x64.tar.gz</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-tag\">--2018-06-04</span> <span class=\"selector-tag\">09</span><span class=\"selector-pseudo\">:36</span><span class=\"selector-pseudo\">:08--</span>  <span class=\"selector-tag\">http</span>:<span class=\"comment\">//download.oracle.com/otn-pub/java/jdk/8u172-b11/a58eab1ec242421181065cdc37240b08/jdk-8u172-linux-x64.tar.gz</span></span><br><span class=\"line\"><span class=\"selector-tag\">Resolving</span> <span class=\"selector-tag\">download</span><span class=\"selector-class\">.oracle</span><span class=\"selector-class\">.com</span> (download.oracle.com)... <span class=\"selector-tag\">23</span><span class=\"selector-class\">.211</span><span class=\"selector-class\">.96</span><span class=\"selector-class\">.75</span></span><br><span class=\"line\"><span class=\"selector-tag\">Connecting</span> <span class=\"selector-tag\">to</span> <span class=\"selector-tag\">download</span><span class=\"selector-class\">.oracle</span><span class=\"selector-class\">.com</span> (download.oracle.com)|<span class=\"selector-tag\">23</span><span class=\"selector-class\">.211</span><span class=\"selector-class\">.96</span><span class=\"selector-class\">.75</span>|<span class=\"selector-pseudo\">:80...</span> <span class=\"selector-tag\">connected</span>.</span><br><span class=\"line\"><span class=\"selector-tag\">HTTP</span> <span class=\"selector-tag\">request</span> <span class=\"selector-tag\">sent</span>, <span class=\"selector-tag\">awaiting</span> <span class=\"selector-tag\">response</span>... <span class=\"selector-tag\">302</span> <span class=\"selector-tag\">Moved</span> <span class=\"selector-tag\">Temporarily</span></span><br><span class=\"line\"><span class=\"selector-tag\">Location</span>: <span class=\"selector-tag\">https</span>:<span class=\"comment\">//edelivery.oracle.com/otn-pub/java/jdk/8u172-b11/a58eab1ec242421181065cdc37240b08/jdk-8u172-linux-x64.tar.gz [following]</span></span><br><span class=\"line\"><span class=\"selector-tag\">--2018-06-04</span> <span class=\"selector-tag\">09</span><span class=\"selector-pseudo\">:36</span><span class=\"selector-pseudo\">:08--</span>  <span class=\"selector-tag\">https</span>:<span class=\"comment\">//edelivery.oracle.com/otn-pub/java/jdk/8u172-b11/a58eab1ec242421181065cdc37240b08/jdk-8u172-linux-x64.tar.gz</span></span><br><span class=\"line\"><span class=\"selector-tag\">Resolving</span> <span class=\"selector-tag\">edelivery</span><span class=\"selector-class\">.oracle</span><span class=\"selector-class\">.com</span> (edelivery.oracle.com)... <span class=\"selector-tag\">184</span><span class=\"selector-class\">.26</span><span class=\"selector-class\">.250</span><span class=\"selector-class\">.202</span>, <span class=\"selector-tag\">2600</span><span class=\"selector-pseudo\">:1417</span><span class=\"selector-pseudo\">:76</span><span class=\"selector-pseudo\">:19a</span><span class=\"selector-pseudo\">::2d3e</span>, <span class=\"selector-tag\">2600</span><span class=\"selector-pseudo\">:1417</span><span class=\"selector-pseudo\">:76</span><span class=\"selector-pseudo\">:181</span><span class=\"selector-pseudo\">::2d3e</span></span><br><span class=\"line\"><span class=\"selector-tag\">Connecting</span> <span class=\"selector-tag\">to</span> <span class=\"selector-tag\">edelivery</span><span class=\"selector-class\">.oracle</span><span class=\"selector-class\">.com</span> (edelivery.oracle.com)|<span class=\"selector-tag\">184</span><span class=\"selector-class\">.26</span><span class=\"selector-class\">.250</span><span class=\"selector-class\">.202</span>|<span class=\"selector-pseudo\">:443...</span> <span class=\"selector-tag\">connected</span>.</span><br><span class=\"line\"><span class=\"selector-tag\">HTTP</span> <span class=\"selector-tag\">request</span> <span class=\"selector-tag\">sent</span>, <span class=\"selector-tag\">awaiting</span> <span class=\"selector-tag\">response</span>... <span class=\"selector-tag\">302</span> <span class=\"selector-tag\">Moved</span> <span class=\"selector-tag\">Temporarily</span></span><br><span class=\"line\"><span class=\"selector-tag\">Location</span>: <span class=\"selector-tag\">http</span>:<span class=\"comment\">//download.oracle.com/errors/download-fail-1505220.html [following]</span></span><br><span class=\"line\"><span class=\"selector-tag\">--2018-06-04</span> <span class=\"selector-tag\">09</span><span class=\"selector-pseudo\">:36</span><span class=\"selector-pseudo\">:09--</span>  <span class=\"selector-tag\">http</span>:<span class=\"comment\">//download.oracle.com/errors/download-fail-1505220.html</span></span><br><span class=\"line\"><span class=\"selector-tag\">Connecting</span> <span class=\"selector-tag\">to</span> <span class=\"selector-tag\">download</span><span class=\"selector-class\">.oracle</span><span class=\"selector-class\">.com</span> (download.oracle.com)|<span class=\"selector-tag\">23</span><span class=\"selector-class\">.211</span><span class=\"selector-class\">.96</span><span class=\"selector-class\">.75</span>|<span class=\"selector-pseudo\">:80...</span> <span class=\"selector-tag\">connected</span>.</span><br><span class=\"line\"><span class=\"selector-tag\">HTTP</span> <span class=\"selector-tag\">request</span> <span class=\"selector-tag\">sent</span>, <span class=\"selector-tag\">awaiting</span> <span class=\"selector-tag\">response</span>... <span class=\"selector-tag\">200</span> <span class=\"selector-tag\">OK</span></span><br><span class=\"line\"><span class=\"selector-tag\">Length</span>: <span class=\"selector-tag\">5307</span> (<span class=\"number\">5.2</span>K) <span class=\"selector-attr\">[text/html]</span></span><br><span class=\"line\"><span class=\"selector-tag\">Saving</span> <span class=\"selector-tag\">to</span>: ‘<span class=\"selector-tag\">jdk-8u172-linux-x64</span><span class=\"selector-class\">.tar</span><span class=\"selector-class\">.gz</span>’</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-tag\">100%</span><span class=\"selector-attr\">[======================================&gt;]</span> <span class=\"selector-tag\">5</span>,<span class=\"selector-tag\">307</span>       <span class=\"selector-tag\">--</span><span class=\"selector-class\">.-K</span>/<span class=\"selector-tag\">s</span>   <span class=\"selector-tag\">in</span> <span class=\"selector-tag\">0s</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-tag\">2018-06-04</span> <span class=\"selector-tag\">09</span><span class=\"selector-pseudo\">:36</span><span class=\"selector-pseudo\">:09</span> (<span class=\"number\">492</span> MB/s) <span class=\"selector-tag\">-</span> ‘<span class=\"selector-tag\">jdk-8u172-linux-x64</span><span class=\"selector-class\">.tar</span><span class=\"selector-class\">.gz</span>’ <span class=\"selector-tag\">saved</span> <span class=\"selector-attr\">[5307/5307]</span></span><br></pre></td></tr></table></figure></p>\n<p><strong>WHY</strong><br>If we user command ‘tar -xzvf’ we will get\n<figure class=\"highlight coffeescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@colinECS download]<span class=\"comment\"># tar -xzvf jdk-8u172-linux-x64.tar.gz</span></span><br><span class=\"line\"></span><br><span class=\"line\">gzip: stdin: <span class=\"keyword\">not</span> <span class=\"keyword\">in</span> gzip format</span><br><span class=\"line\">tar: Child returned status <span class=\"number\">1</span></span><br><span class=\"line\">tar: Error <span class=\"keyword\">is</span> <span class=\"keyword\">not</span> recoverable: exiting now</span><br></pre></td></tr></table></figure></p>\n<p>Here we can see some error out<br>Also we can feel there has something wrong in somewhere<br>Where?<br>Yes here:<br><figure class=\"highlight less\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-tag\">100%</span><span class=\"selector-attr\">[======================================&gt;]</span> <span class=\"selector-tag\">5</span>,<span class=\"selector-tag\">307</span>       <span class=\"selector-tag\">--</span><span class=\"selector-class\">.-K</span>/<span class=\"selector-tag\">s</span>   <span class=\"selector-tag\">in</span> <span class=\"selector-tag\">0s</span></span><br><span class=\"line\"><span class=\"selector-tag\">2018-06-04</span> <span class=\"selector-tag\">09</span><span class=\"selector-pseudo\">:36</span><span class=\"selector-pseudo\">:09</span> (<span class=\"number\">492</span> MB/s) <span class=\"selector-tag\">-</span> ‘<span class=\"selector-tag\">jdk-8u172-linux-x64</span><span class=\"selector-class\">.tar</span><span class=\"selector-class\">.gz</span>’ <span class=\"selector-tag\">saved</span> <span class=\"selector-attr\">[5307/5307]</span></span><br></pre></td></tr></table></figure></p>\n<p>The package just 5307Kb<br>The correct package cannot be so small<br>If we go the <a href=\"http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html\" target=\"_blank\" rel=\"noopener\">Java Home Page</a><br>We can see if you want download you must Accept a option:<br><img src=\"install_jvm&amp;tomcat/1.jdk-license.png\" alt=\"avatar\"><br><img src=\"/2016/07/12/install/install_jvm&tomcat/1.jdk-license.png\" title=\"jdk-license\">\nIf we just use command ‘wget’,\nwe will download the package without accept the license,\nSo we cannot unpack the package</p>\n<h5 id=\"Correct-way\"><a href=\"#Correct-way\" class=\"headerlink\" title=\"Correct way\"></a>Correct way</h5><p>We need use browser to accept the license and download the package<br>then use Ftp/Sftp tools move the package to your linux server<br>Or you can use command rpm to get package  </p>\n<h4 id=\"Expand-the-package\"><a href=\"#Expand-the-package\" class=\"headerlink\" title=\"Expand the package\"></a>Expand the package</h4><figure class=\"highlight autoit\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root<span class=\"symbol\">@localhost</span> software]<span class=\"meta\"># mkdir -p /usr/lib/jvm</span></span><br><span class=\"line\">[root<span class=\"symbol\">@localhost</span> software]<span class=\"meta\"># tar -zxvf jdk-8u131-linux-x64.tar.gz -C /usr/lib/jvm</span></span><br></pre></td></tr></table></figure>\n<h4 id=\"Set-Envionment-variables\"><a href=\"#Set-Envionment-variables\" class=\"headerlink\" title=\"Set Envionment variables\"></a>Set Envionment variables</h4><figure class=\"highlight autoit\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root<span class=\"symbol\">@localhost</span> software]<span class=\"meta\"># vim /etc/profile</span></span><br></pre></td></tr></table></figure>\n<p>Insert in head this:\n<figure class=\"highlight routeros\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"builtin-name\">export</span> <span class=\"attribute\">JAVA_HOME</span>=/usr/lib/jvm/jdk1.8.0_131  </span><br><span class=\"line\"><span class=\"builtin-name\">export</span> <span class=\"attribute\">JRE_HOME</span>=<span class=\"variable\">$&#123;JAVA_HOME&#125;</span>/jre  </span><br><span class=\"line\"><span class=\"builtin-name\">export</span> <span class=\"attribute\">CLASSPATH</span>=.:$&#123;JAVA_HOME&#125;/lib:<span class=\"variable\">$&#123;JRE_HOME&#125;</span>/lib  </span><br><span class=\"line\"><span class=\"builtin-name\">export</span>  <span class=\"attribute\">PATH</span>=<span class=\"variable\">$&#123;JAVA_HOME&#125;</span>/bin:$PATH</span><br></pre></td></tr></table></figure></p>\n<h4 id=\"Make-function-useful\"><a href=\"#Make-function-useful\" class=\"headerlink\" title=\"Make function useful\"></a>Make function useful</h4><figure class=\"highlight autoit\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root<span class=\"symbol\">@localhost</span> software]<span class=\"meta\"># source /etc/profile</span></span><br></pre></td></tr></table></figure>\n<h4 id=\"Check-Version\"><a href=\"#Check-Version\" class=\"headerlink\" title=\"Check Version\"></a>Check Version</h4><figure class=\"highlight routeros\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@localhost software]# java -version</span><br><span class=\"line\"></span><br><span class=\"line\">java version <span class=\"string\">\"1.8.0_172\"</span></span><br><span class=\"line\">Java(TM) SE Runtime Environment (build 1.8.0_172-b11)</span><br><span class=\"line\">Java HotSpot(TM) 64-Bit<span class=\"built_in\"> Server </span>VM (build 25.172-b11, mixed mode)</span><br></pre></td></tr></table></figure>\n<p><strong>Suucess</strong>\n<br><br><br><br><br>   </p>\n<h3 id=\"Remove\"><a href=\"#Remove\" class=\"headerlink\" title=\"Remove\"></a>Remove</h3><h4 id=\"check-version\"><a href=\"#check-version\" class=\"headerlink\" title=\"check version\"></a>check version</h4><figure class=\"highlight routeros\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@localhost software]# java -version</span><br><span class=\"line\"></span><br><span class=\"line\">openjdk version <span class=\"string\">\"1.8.0_102\"</span></span><br><span class=\"line\">OpenJDK Runtime Environment (build 1.8.0_102-b14)</span><br><span class=\"line\">OpenJDK 64-Bit<span class=\"built_in\"> Server </span>VM (build 25.102-b14, mixed mode)</span><br></pre></td></tr></table></figure>\n<h4 id=\"2-检测jdk安装包\"><a href=\"#2-检测jdk安装包\" class=\"headerlink\" title=\"2. 检测jdk安装包\"></a>2. 检测jdk安装包</h4><figure class=\"highlight lsl\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@localhost software]# rpm -qa | grep java</span><br><span class=\"line\"></span><br><span class=\"line\">java<span class=\"number\">-1.7</span><span class=\"number\">.0</span>-openjdk<span class=\"number\">-1.7</span><span class=\"number\">.0</span><span class=\"number\">.111</span><span class=\"number\">-2.6</span><span class=\"number\">.7</span><span class=\"number\">.8</span>.el7.x86_64</span><br><span class=\"line\">python-javapackages<span class=\"number\">-3.4</span><span class=\"number\">.1</span><span class=\"number\">-11.</span>el7.noarch</span><br><span class=\"line\">tzdata-java<span class=\"number\">-2016</span>g<span class=\"number\">-2.</span>el7.noarch</span><br><span class=\"line\">javapackages-tools<span class=\"number\">-3.4</span><span class=\"number\">.1</span><span class=\"number\">-11.</span>el7.noarch</span><br><span class=\"line\">java<span class=\"number\">-1.8</span><span class=\"number\">.0</span>-openjdk<span class=\"number\">-1.8</span><span class=\"number\">.0</span><span class=\"number\">.102</span><span class=\"number\">-4.</span>b14.el7.x86_64</span><br><span class=\"line\">java<span class=\"number\">-1.8</span><span class=\"number\">.0</span>-openjdk-headless<span class=\"number\">-1.8</span><span class=\"number\">.0</span><span class=\"number\">.102</span><span class=\"number\">-4.</span>b14.el7.x86_64</span><br><span class=\"line\">java<span class=\"number\">-1.7</span><span class=\"number\">.0</span>-openjdk-headless<span class=\"number\">-1.7</span><span class=\"number\">.0</span><span class=\"number\">.111</span><span class=\"number\">-2.6</span><span class=\"number\">.7</span><span class=\"number\">.8</span>.el7.x86_64\\</span><br></pre></td></tr></table></figure>\n<h4 id=\"3-卸载openjdk\"><a href=\"#3-卸载openjdk\" class=\"headerlink\" title=\"3. 卸载openjdk\"></a>3. 卸载openjdk</h4><figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-attr\">[root@localhost software]</span># <span class=\"selector-tag\">rpm</span> <span class=\"selector-tag\">-e</span> <span class=\"selector-tag\">--nodeps</span> <span class=\"selector-tag\">tzdata-java-2016g-2</span><span class=\"selector-class\">.el7</span><span class=\"selector-class\">.noarch</span></span><br><span class=\"line\"><span class=\"selector-attr\">[root@localhost software]</span># <span class=\"selector-tag\">rpm</span> <span class=\"selector-tag\">-e</span> <span class=\"selector-tag\">--nodeps</span> <span class=\"selector-tag\">java-1</span><span class=\"selector-class\">.7</span><span class=\"selector-class\">.0-openjdk-1</span><span class=\"selector-class\">.7</span><span class=\"selector-class\">.0</span><span class=\"selector-class\">.111-2</span><span class=\"selector-class\">.6</span><span class=\"selector-class\">.7</span><span class=\"selector-class\">.8</span><span class=\"selector-class\">.el7</span><span class=\"selector-class\">.x86_64</span></span><br><span class=\"line\"><span class=\"selector-attr\">[root@localhost software]</span># <span class=\"selector-tag\">rpm</span> <span class=\"selector-tag\">-e</span> <span class=\"selector-tag\">--nodeps</span> <span class=\"selector-tag\">java-1</span><span class=\"selector-class\">.7</span><span class=\"selector-class\">.0-openjdk-headless-1</span><span class=\"selector-class\">.7</span><span class=\"selector-class\">.0</span><span class=\"selector-class\">.111-2</span><span class=\"selector-class\">.6</span><span class=\"selector-class\">.7</span><span class=\"selector-class\">.8</span><span class=\"selector-class\">.el7</span><span class=\"selector-class\">.x86_64</span></span><br><span class=\"line\"><span class=\"selector-attr\">[root@localhost software]</span># <span class=\"selector-tag\">rpm</span> <span class=\"selector-tag\">-e</span> <span class=\"selector-tag\">--nodeps</span> <span class=\"selector-tag\">java-1</span><span class=\"selector-class\">.8</span><span class=\"selector-class\">.0-openjdk-1</span><span class=\"selector-class\">.8</span><span class=\"selector-class\">.0</span><span class=\"selector-class\">.102-4</span><span class=\"selector-class\">.b14</span><span class=\"selector-class\">.el7</span><span class=\"selector-class\">.x86_64</span></span><br><span class=\"line\"><span class=\"selector-attr\">[root@localhost software]</span># <span class=\"selector-tag\">rpm</span> <span class=\"selector-tag\">-e</span> <span class=\"selector-tag\">--nodeps</span> <span class=\"selector-tag\">java-1</span><span class=\"selector-class\">.8</span><span class=\"selector-class\">.0-openjdk-headless-1</span><span class=\"selector-class\">.8</span><span class=\"selector-class\">.0</span><span class=\"selector-class\">.102-4</span><span class=\"selector-class\">.b14</span><span class=\"selector-class\">.el7</span><span class=\"selector-class\">.x86_64</span></span><br></pre></td></tr></table></figure>\n<p>或者使用\n<figure class=\"highlight autoit\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root<span class=\"symbol\">@localhost</span> jvm]<span class=\"meta\"># yum remove *openjdk*</span></span><br></pre></td></tr></table></figure></p>\n<p>之后再次输入rpm -qa | grep java 查看卸载情况：\n<figure class=\"highlight lsl\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@localhost software]# rpm -qa | grep java</span><br><span class=\"line\"></span><br><span class=\"line\">python-javapackages<span class=\"number\">-3.4</span><span class=\"number\">.1</span><span class=\"number\">-11.</span>el7.noarch</span><br><span class=\"line\">javapackages-tools<span class=\"number\">-3.4</span><span class=\"number\">.1</span><span class=\"number\">-11.</span>el7.noarch</span><br></pre></td></tr></table></figure></p>\n<p><br>\n<br>\n<br></p>\n<h3 id=\"安装\"><a href=\"#安装\" class=\"headerlink\" title=\"安装\"></a>安装</h3><h4 id=\"Go-to-下载-JDK\"><a href=\"#Go-to-下载-JDK\" class=\"headerlink\" title=\"Go to 下载 JDK\"></a>Go to 下载 JDK</h4><p><a href=\"http://www.oracle.com/technetwork/java/javase/downloads/index.html\" target=\"_blank\" rel=\"noopener\">Oracle Java官网</a><br><a href=\"http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html\" target=\"_blank\" rel=\"noopener\">Java se 8</a>  </p>\n<p><a href=\"http://download.oracle.com/otn-pub/java/jdk/8u172-b11/a58eab1ec242421181065cdc37240b08/jdk-8u172-linux-x64.tar.gz\" target=\"_blank\" rel=\"noopener\">Jdk 8u172 For Linux.trr.gz</a></p>\n<p><strong>注意</strong><br>不可以用’wget’命令下载JDK\n<figure class=\"highlight less\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-attr\">[root@colinECS download]</span># <span class=\"selector-tag\">wget</span> <span class=\"selector-tag\">http</span>:<span class=\"comment\">//download.oracle.com/otn-pub/java/jdk/8u172-b11/a58eab1ec242421181065cdc37240b08/jdk-8u172-linux-x64.tar.gz</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-tag\">--2018-06-04</span> <span class=\"selector-tag\">09</span><span class=\"selector-pseudo\">:36</span><span class=\"selector-pseudo\">:08--</span>  <span class=\"selector-tag\">http</span>:<span class=\"comment\">//download.oracle.com/otn-pub/java/jdk/8u172-b11/a58eab1ec242421181065cdc37240b08/jdk-8u172-linux-x64.tar.gz</span></span><br><span class=\"line\"><span class=\"selector-tag\">Resolving</span> <span class=\"selector-tag\">download</span><span class=\"selector-class\">.oracle</span><span class=\"selector-class\">.com</span> (download.oracle.com)... <span class=\"selector-tag\">23</span><span class=\"selector-class\">.211</span><span class=\"selector-class\">.96</span><span class=\"selector-class\">.75</span></span><br><span class=\"line\"><span class=\"selector-tag\">Connecting</span> <span class=\"selector-tag\">to</span> <span class=\"selector-tag\">download</span><span class=\"selector-class\">.oracle</span><span class=\"selector-class\">.com</span> (download.oracle.com)|<span class=\"selector-tag\">23</span><span class=\"selector-class\">.211</span><span class=\"selector-class\">.96</span><span class=\"selector-class\">.75</span>|<span class=\"selector-pseudo\">:80...</span> <span class=\"selector-tag\">connected</span>.</span><br><span class=\"line\"><span class=\"selector-tag\">HTTP</span> <span class=\"selector-tag\">request</span> <span class=\"selector-tag\">sent</span>, <span class=\"selector-tag\">awaiting</span> <span class=\"selector-tag\">response</span>... <span class=\"selector-tag\">302</span> <span class=\"selector-tag\">Moved</span> <span class=\"selector-tag\">Temporarily</span></span><br><span class=\"line\"><span class=\"selector-tag\">Location</span>: <span class=\"selector-tag\">https</span>:<span class=\"comment\">//edelivery.oracle.com/otn-pub/java/jdk/8u172-b11/a58eab1ec242421181065cdc37240b08/jdk-8u172-linux-x64.tar.gz [following]</span></span><br><span class=\"line\"><span class=\"selector-tag\">--2018-06-04</span> <span class=\"selector-tag\">09</span><span class=\"selector-pseudo\">:36</span><span class=\"selector-pseudo\">:08--</span>  <span class=\"selector-tag\">https</span>:<span class=\"comment\">//edelivery.oracle.com/otn-pub/java/jdk/8u172-b11/a58eab1ec242421181065cdc37240b08/jdk-8u172-linux-x64.tar.gz</span></span><br><span class=\"line\"><span class=\"selector-tag\">Resolving</span> <span class=\"selector-tag\">edelivery</span><span class=\"selector-class\">.oracle</span><span class=\"selector-class\">.com</span> (edelivery.oracle.com)... <span class=\"selector-tag\">184</span><span class=\"selector-class\">.26</span><span class=\"selector-class\">.250</span><span class=\"selector-class\">.202</span>, <span class=\"selector-tag\">2600</span><span class=\"selector-pseudo\">:1417</span><span class=\"selector-pseudo\">:76</span><span class=\"selector-pseudo\">:19a</span><span class=\"selector-pseudo\">::2d3e</span>, <span class=\"selector-tag\">2600</span><span class=\"selector-pseudo\">:1417</span><span class=\"selector-pseudo\">:76</span><span class=\"selector-pseudo\">:181</span><span class=\"selector-pseudo\">::2d3e</span></span><br><span class=\"line\"><span class=\"selector-tag\">Connecting</span> <span class=\"selector-tag\">to</span> <span class=\"selector-tag\">edelivery</span><span class=\"selector-class\">.oracle</span><span class=\"selector-class\">.com</span> (edelivery.oracle.com)|<span class=\"selector-tag\">184</span><span class=\"selector-class\">.26</span><span class=\"selector-class\">.250</span><span class=\"selector-class\">.202</span>|<span class=\"selector-pseudo\">:443...</span> <span class=\"selector-tag\">connected</span>.</span><br><span class=\"line\"><span class=\"selector-tag\">HTTP</span> <span class=\"selector-tag\">request</span> <span class=\"selector-tag\">sent</span>, <span class=\"selector-tag\">awaiting</span> <span class=\"selector-tag\">response</span>... <span class=\"selector-tag\">302</span> <span class=\"selector-tag\">Moved</span> <span class=\"selector-tag\">Temporarily</span></span><br><span class=\"line\"><span class=\"selector-tag\">Location</span>: <span class=\"selector-tag\">http</span>:<span class=\"comment\">//download.oracle.com/errors/download-fail-1505220.html [following]</span></span><br><span class=\"line\"><span class=\"selector-tag\">--2018-06-04</span> <span class=\"selector-tag\">09</span><span class=\"selector-pseudo\">:36</span><span class=\"selector-pseudo\">:09--</span>  <span class=\"selector-tag\">http</span>:<span class=\"comment\">//download.oracle.com/errors/download-fail-1505220.html</span></span><br><span class=\"line\"><span class=\"selector-tag\">Connecting</span> <span class=\"selector-tag\">to</span> <span class=\"selector-tag\">download</span><span class=\"selector-class\">.oracle</span><span class=\"selector-class\">.com</span> (download.oracle.com)|<span class=\"selector-tag\">23</span><span class=\"selector-class\">.211</span><span class=\"selector-class\">.96</span><span class=\"selector-class\">.75</span>|<span class=\"selector-pseudo\">:80...</span> <span class=\"selector-tag\">connected</span>.</span><br><span class=\"line\"><span class=\"selector-tag\">HTTP</span> <span class=\"selector-tag\">request</span> <span class=\"selector-tag\">sent</span>, <span class=\"selector-tag\">awaiting</span> <span class=\"selector-tag\">response</span>... <span class=\"selector-tag\">200</span> <span class=\"selector-tag\">OK</span></span><br><span class=\"line\"><span class=\"selector-tag\">Length</span>: <span class=\"selector-tag\">5307</span> (<span class=\"number\">5.2</span>K) <span class=\"selector-attr\">[text/html]</span></span><br><span class=\"line\"><span class=\"selector-tag\">Saving</span> <span class=\"selector-tag\">to</span>: ‘<span class=\"selector-tag\">jdk-8u172-linux-x64</span><span class=\"selector-class\">.tar</span><span class=\"selector-class\">.gz</span>’</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-tag\">100%</span><span class=\"selector-attr\">[======================================&gt;]</span> <span class=\"selector-tag\">5</span>,<span class=\"selector-tag\">307</span>       <span class=\"selector-tag\">--</span><span class=\"selector-class\">.-K</span>/<span class=\"selector-tag\">s</span>   <span class=\"selector-tag\">in</span> <span class=\"selector-tag\">0s</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-tag\">2018-06-04</span> <span class=\"selector-tag\">09</span><span class=\"selector-pseudo\">:36</span><span class=\"selector-pseudo\">:09</span> (<span class=\"number\">492</span> MB/s) <span class=\"selector-tag\">-</span> ‘<span class=\"selector-tag\">jdk-8u172-linux-x64</span><span class=\"selector-class\">.tar</span><span class=\"selector-class\">.gz</span>’ <span class=\"selector-tag\">saved</span> <span class=\"selector-attr\">[5307/5307]</span></span><br></pre></td></tr></table></figure></p>\n<p><strong>啊♂？？？</strong><br>我们解压用’wget’命令获得的jdk包会发现：\n<figure class=\"highlight coffeescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@colinECS download]<span class=\"comment\"># tar -xzvf jdk-8u172-linux-x64.tar.gz</span></span><br><span class=\"line\"></span><br><span class=\"line\">gzip: stdin: <span class=\"keyword\">not</span> <span class=\"keyword\">in</span> gzip format</span><br><span class=\"line\">tar: Child returned status <span class=\"number\">1</span></span><br><span class=\"line\">tar: Error <span class=\"keyword\">is</span> <span class=\"keyword\">not</span> recoverable: exiting now</span><br></pre></td></tr></table></figure></p>\n<p>解压报错了！！！<br><strong>为啥子咧？</strong><br>总感觉那里不对怪怪的<br>那里嘞？<br>对对对，就是这里:<br><figure class=\"highlight less\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-tag\">100%</span><span class=\"selector-attr\">[======================================&gt;]</span> <span class=\"selector-tag\">5</span>,<span class=\"selector-tag\">307</span>       <span class=\"selector-tag\">--</span><span class=\"selector-class\">.-K</span>/<span class=\"selector-tag\">s</span>   <span class=\"selector-tag\">in</span> <span class=\"selector-tag\">0s</span></span><br><span class=\"line\"><span class=\"selector-tag\">2018-06-04</span> <span class=\"selector-tag\">09</span><span class=\"selector-pseudo\">:36</span><span class=\"selector-pseudo\">:09</span> (<span class=\"number\">492</span> MB/s) <span class=\"selector-tag\">-</span> ‘<span class=\"selector-tag\">jdk-8u172-linux-x64</span><span class=\"selector-class\">.tar</span><span class=\"selector-class\">.gz</span>’ <span class=\"selector-tag\">saved</span> <span class=\"selector-attr\">[5307/5307]</span></span><br></pre></td></tr></table></figure></p>\n<p>这咋就5307Kb这么点大啊<br>不应该这么小啊<br>咋们去官网看下 <a href=\"http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html\" target=\"_blank\" rel=\"noopener\">Java Home Page</a><br>求豆麻袋，求豆麻袋，这怎么还有选项啊<br><img src=\"install_jvm&amp;tomcat/1.jdk-license.png\" alt=\"avatar\"><br><img src=\"/2016/07/12/install/install_jvm&tomcat/1.jdk-license.png\" title=\"jdk-license\">\n<img class=\"[]\">\n我们用’wget’的时候是没有同意这个选项的,<br>所以下载下来有问题的包是不能解压的<br>怪不得  </p>\n<h5 id=\"那可咋整\"><a href=\"#那可咋整\" class=\"headerlink\" title=\"那可咋整\"></a>那可咋整</h5><p>还能咋整，只能用浏览器下载了呗<br>然后用 Ftp/Sftp 工具把下载好的传到linux服务器去<br>不过好像用 rpm 命令安装可以避免这种情况  </p>\n<h4 id=\"解压\"><a href=\"#解压\" class=\"headerlink\" title=\"解压\"></a>解压</h4><figure class=\"highlight autoit\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root<span class=\"symbol\">@localhost</span> software]<span class=\"meta\"># mkdir -p /usr/lib/jvm</span></span><br><span class=\"line\">[root<span class=\"symbol\">@localhost</span> software]<span class=\"meta\"># tar -zxvf jdk-8u131-linux-x64.tar.gz -C /usr/lib/jvm</span></span><br></pre></td></tr></table></figure>\n<h4 id=\"设置环境变量\"><a href=\"#设置环境变量\" class=\"headerlink\" title=\"设置环境变量\"></a>设置环境变量</h4><figure class=\"highlight autoit\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root<span class=\"symbol\">@localhost</span> software]<span class=\"meta\"># vim /etc/profile</span></span><br></pre></td></tr></table></figure>\n<p>在文件前面加入这些内容:  </p>\n<figure class=\"highlight routeros\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"builtin-name\">export</span> <span class=\"attribute\">JAVA_HOME</span>=/usr/lib/jvm/jdk1.8.0_131  </span><br><span class=\"line\"><span class=\"builtin-name\">export</span> <span class=\"attribute\">JRE_HOME</span>=<span class=\"variable\">$&#123;JAVA_HOME&#125;</span>/jre  </span><br><span class=\"line\"><span class=\"builtin-name\">export</span> <span class=\"attribute\">CLASSPATH</span>=.:$&#123;JAVA_HOME&#125;/lib:<span class=\"variable\">$&#123;JRE_HOME&#125;</span>/lib  </span><br><span class=\"line\"><span class=\"builtin-name\">export</span>  <span class=\"attribute\">PATH</span>=<span class=\"variable\">$&#123;JAVA_HOME&#125;</span>/bin:$PATH</span><br></pre></td></tr></table></figure>\n<h4 id=\"使得profile文件有效，这样就不用重启了\"><a href=\"#使得profile文件有效，这样就不用重启了\" class=\"headerlink\" title=\"使得profile文件有效，这样就不用重启了\"></a>使得profile文件有效，这样就不用重启了</h4><figure class=\"highlight autoit\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root<span class=\"symbol\">@localhost</span> software]<span class=\"meta\"># source /etc/profile</span></span><br></pre></td></tr></table></figure>\n<h4 id=\"检查下version-看看成功没\"><a href=\"#检查下version-看看成功没\" class=\"headerlink\" title=\"检查下version 看看成功没\"></a>检查下version 看看成功没</h4><figure class=\"highlight routeros\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">    [root@localhost software]# java -version</span><br><span class=\"line\">    </span><br><span class=\"line\">    </span><br><span class=\"line\">    </span><br><span class=\"line\">    </span><br><span class=\"line\">    </span><br><span class=\"line\">    </span><br><span class=\"line\">    java version <span class=\"string\">\"1.8.0_172\"</span></span><br><span class=\"line\">    Java(TM) SE Runtime Environment (build 1.8.0_172-b11)</span><br><span class=\"line\">    Java HotSpot(TM) 64-Bit<span class=\"built_in\"> Server </span>VM (build 25.172-b11, mixed mode)</span><br><span class=\"line\">**Success**</span><br></pre></td></tr></table></figure>\n<p><br><br><br><br><br>   </p>\n<h2 id=\"Tomcat\"><a href=\"#Tomcat\" class=\"headerlink\" title=\"Tomcat\"></a>Tomcat</h2><h4 id=\"DownLoad\"><a href=\"#DownLoad\" class=\"headerlink\" title=\"DownLoad\"></a>DownLoad</h4><p><a href=\"https://tomcat.apache.org/\" target=\"_blank\" rel=\"noopener\">Tomcat Page</a><br><a href=\"http://mirrors.tuna.tsinghua.edu.cn/apache/tomcat/tomcat-7/v7.0.88/bin/apache-tomcat-7.0.88.tar.gz\" target=\"_blank\" rel=\"noopener\">Tomcat 7.0.88</a><br><figure class=\"highlight x86asm\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@colinECS download]# wget   http://mirrors.tuna.tsinghua.edu.cn/apache/tomcat/tomcat-<span class=\"number\">7</span>/v7<span class=\"meta\">.0</span><span class=\"meta\">.88</span>/bin/apache-tomcat-<span class=\"number\">7.0</span><span class=\"meta\">.88</span>.tar.gz</span><br></pre></td></tr></table></figure></p>\n<h4 id=\"Expand\"><a href=\"#Expand\" class=\"headerlink\" title=\"Expand\"></a>Expand</h4><figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-attr\">[root@colinECS download]</span># <span class=\"selector-tag\">tar</span> <span class=\"selector-tag\">zxvf</span> <span class=\"selector-tag\">apach-tomcat-6</span><span class=\"selector-class\">.0</span><span class=\"selector-class\">.16</span><span class=\"selector-class\">.tar</span><span class=\"selector-class\">.gz</span></span><br></pre></td></tr></table></figure>\n<h4 id=\"Start\"><a href=\"#Start\" class=\"headerlink\" title=\"Start\"></a>Start</h4><p>cd to bin\n<figure class=\"highlight autoit\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root<span class=\"symbol\">@colinECS</span> bin]<span class=\"meta\"># ./startup.sh</span></span><br></pre></td></tr></table></figure></p>\n<p><br><br><br></p>\n<h4 id=\"下载\"><a href=\"#下载\" class=\"headerlink\" title=\"下载\"></a>下载</h4><p><a href=\"https://tomcat.apache.org/\" target=\"_blank\" rel=\"noopener\">Tomcat Page</a><br><a href=\"http://mirrors.tuna.tsinghua.edu.cn/apache/tomcat/tomcat-7/v7.0.88/bin/apache-tomcat-7.0.88.tar.gz\" target=\"_blank\" rel=\"noopener\">Tomcat 7.0.88</a><br><figure class=\"highlight x86asm\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@colinECS download]# wget   http://mirrors.tuna.tsinghua.edu.cn/apache/tomcat/tomcat-<span class=\"number\">7</span>/v7<span class=\"meta\">.0</span><span class=\"meta\">.88</span>/bin/apache-tomcat-<span class=\"number\">7.0</span><span class=\"meta\">.88</span>.tar.gz</span><br></pre></td></tr></table></figure></p>\n<h4 id=\"解压-1\"><a href=\"#解压-1\" class=\"headerlink\" title=\"解压\"></a>解压</h4><figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-attr\">[root@colinECS download]</span># <span class=\"selector-tag\">tar</span> <span class=\"selector-tag\">zxvf</span> <span class=\"selector-tag\">apach-tomcat-6</span><span class=\"selector-class\">.0</span><span class=\"selector-class\">.16</span><span class=\"selector-class\">.tar</span><span class=\"selector-class\">.gz</span></span><br></pre></td></tr></table></figure>\n<h4 id=\"启动\"><a href=\"#启动\" class=\"headerlink\" title=\"启动\"></a>启动</h4><p>切换到bin文件夹\n<figure class=\"highlight autoit\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root<span class=\"symbol\">@colinECS</span> bin]<span class=\"meta\"># ./startup.sh</span></span><br></pre></td></tr></table></figure></p>\n<p><br><br><br></p>\n<h2 id=\"Jar-包使用\"><a href=\"#Jar-包使用\" class=\"headerlink\" title=\"Jar 包使用\"></a>Jar 包使用</h2><h4 id=\"1-running-list\"><a href=\"#1-running-list\" class=\"headerlink\" title=\"1 running list\"></a>1 running list</h4><pre><code>[root@Warbuild-Svr /]# ps aux|grep chessService.jar\n\nroot      58662  0.0  0.0 112720   988 pts/3    S+   10:53   0:00 grep --color=auto chessService.jar\nroot     125484  0.6  0.9 13526904 297464 ?     Sl   10:07   0:18 java -jar chessService.jar\nroot     148294  0.0  0.3 14451472 117300 pts/0 Sl   10:15   0:01 java -jar chessService.jar\n</code></pre><h4 id=\"2-Kill-running\"><a href=\"#2-Kill-running\" class=\"headerlink\" title=\"2 Kill running\"></a>2 Kill running</h4><pre><code>[root@Warbuild-Svr /]# kill -9 148294\n</code></pre><h4 id=\"3-Start\"><a href=\"#3-Start\" class=\"headerlink\" title=\"3 Start\"></a>3 Start</h4><pre><code>[root@Warbuild-Svr /]# java -jar chessService.jar &amp;\n</code></pre><p>声明：’&amp;’ 为持久化符号，若未加入’&amp;’ 则关闭窗口后停止程序  </p>"},{"title":"Mysql安装[Linux]","copyright":true,"date":"2016-07-12T05:00:00.000Z","_content":"\nLinux下安装MySql遇到的坑和问题\n<!-- more -->\n\n\n### Install\n#### 1. get Src Yum  \nMySQL5.7  \n  \n    rpm -Uvh http://dev.mysql.com/get/mysql-community-release-el7-5.noarch.rpm\nMySQL8.0.11\n\n    rpm -Uvh http://dev.mysql.com/get/mysql57-community-release-el7-9.noarch.rpm  \nDo\n\n    [root@colinECS /]# rpm -Uvh http://dev.mysql.com/get/mysql57-community-release-el7-9.noarch.rpm\n    Retrieving http://dev.mysql.com/get/mysql57-community-release-el7-9.noarch.rpm\n    warning: /var/tmp/rpm-tmp.vJmA0S: Header V3 DSA/SHA1 Signature, key ID 5072e1f5:\n    Preparing...                          ################################# [100%]\n    Updating / installing...\n       1:mysql57-community-release-el7-9  ################################# [100%]\n\n#### 2. get list by yum\n\n    [root@colinECS /]# yum repolist enabled|grep \"mysql.*-community.*\"\n\n    mysql-connectors-community/x86_64 MySQL Connectors Community                  51\n    mysql-tools-community/x86_64      MySQL Tools Community                       63\n    mysql57-community/x86_64          MySQL 5.7 Community Server                 267\n\n#### 3. install \n    [root@colinECS /]# yum -y install mysql-community-server\n\n    Loaded plugins: fastestmirror\n    Loading mirror speeds from cached hostfile\n    Resolving Dependencies\n    --> Running transaction check\n    ---> Package mysql-community-server.x86_64 0:5.7.22-1.el7 will be installed\n    --> Processing Dependency: mysql-community-common(x86-64) = 5.7.22-1.el7 for package: mysql-community-server-el7.x86_64\n    --> Processing Dependency: mysql-community-client(x86-64) >= 5.7.9 for package: mysql-community-server-5.7.226_64\n    --> Processing Dependency: libaio.so.1(LIBAIO_0.4)(64bit) for package: mysql-community-server-5.7.22-1.el7.x8\n    --> Processing Dependency: libaio.so.1(LIBAIO_0.1)(64bit) for package: mysql-community-server-5.7.22-1.el7.x8\n    --> Processing Dependency: libaio.so.1()(64bit) for package: mysql-community-server-5.7.22-1.el7.x86_64\n    --> Running transaction check\n    ---> Package libaio.x86_64 0:0.3.109-13.el7 will be installed\n    ---> Package mysql-community-client.x86_64 0:5.7.22-1.el7 will be installed\n    --> Processing Dependency: mysql-community-libs(x86-64) >= 5.7.9 for package: mysql-community-client-5.7.22-164\n    ---> Package mysql-community-common.x86_64 0:5.7.22-1.el7 will be installed\n    --> Running transaction check\n    ---> Package mariadb-libs.x86_64 1:5.5.56-2.el7 will be obsoleted\n    --> Processing Dependency: libmysqlclient.so.18()(64bit) for package: 2:postfix-2.10.1-6.el7.x86_64\n    --> Processing Dependency: libmysqlclient.so.18(libmysqlclient_18)(64bit) for package: 2:postfix-2.10.1-6.el7\n    ---> Package mysql-community-libs.x86_64 0:5.7.22-1.el7 will be obsoleting\n    --> Running transaction check\n    ---> Package mysql-community-libs-compat.x86_64 0:5.7.22-1.el7 will be obsoleting\n    --> Finished Dependency Resolution\n    \n    Dependencies Resolved\n    \n    =============================================================================================================\n     Package                               Arch             Version                     Repository\n    =============================================================================================================\n    Installing:\n     mysql-community-libs                  x86_64           5.7.22-1.el7                mysql57-community\n         replacing  mariadb-libs.x86_64 1:5.5.56-2.el7\n     mysql-community-libs-compat           x86_64           5.7.22-1.el7                mysql57-community\n         replacing  mariadb-libs.x86_64 1:5.5.56-2.el7\n     mysql-community-server                x86_64           5.7.22-1.el7                mysql57-community\n    Installing for dependencies:\n     libaio                                x86_64           0.3.109-13.el7              base\n     mysql-community-client                x86_64           5.7.22-1.el7                mysql57-community\n     mysql-community-common                x86_64           5.7.22-1.el7                mysql57-community\n    \n    Transaction Summary\n    =============================================================================================================\n    Install  3 Packages (+3 Dependent packages)\n    \n    Total download size: 193 M\n    Downloading packages:\n    (1/6): libaio-0.3.109-13.el7.x86_64.rpm                                                        |  24 kB  00:0\n    warning: /var/cache/yum/x86_64/7/mysql57-community/packages/mysql-community-common-5.7.22-1.el7.x86_64.rpm: HDSA/SHA1 Signature, key ID 5072e1f5: NOKEY\n    Public key for mysql-community-common-5.7.22-1.el7.x86_64.rpm is not installed\n    (2/6): mysql-community-common-5.7.22-1.el7.x86_64.rpm                                          | 274 kB  00:0\n    (3/6): mysql-community-libs-5.7.22-1.el7.x86_64.rpm                                            | 2.1 MB  00:0\n    (4/6): mysql-community-libs-compat-5.7.22-1.el7.x86_64.rpm                                     | 2.0 MB  00:0\n    (5/6): mysql-community-client-5.7.22-1.el7.x86_64.rpm                                          |  24 MB  00:0\n    (6/6): mysql-community-server-5.7.22-1.el7.x86_64.rpm                                          | 165 MB  00:0\n    -------------------------------------------------------------------------------------------------------------\n    Total                                                                                 1.1 MB/s | 193 MB  00:0\n    Retrieving key from file:///etc/pki/rpm-gpg/RPM-GPG-KEY-mysql\n    Importing GPG key 0x5072E1F5:\n     Userid     : \"MySQL Release Engineering <mysql-build@oss.oracle.com>\"\n     Fingerprint: a4a9 4068 76fc bd3c 4567 70c8 8c71 8d3b 5072 e1f5\n     Package    : mysql57-community-release-el7-9.noarch (installed)\n     From       : /etc/pki/rpm-gpg/RPM-GPG-KEY-mysql\n    Running transaction check\n    Running transaction test\n    Transaction test succeeded\n    Running transaction\n    Warning: RPMDB altered outside of yum.\n      Installing : mysql-community-common-5.7.22-1.el7.x86_64\n      Installing : mysql-community-libs-5.7.22-1.el7.x86_64\n      Installing : mysql-community-client-5.7.22-1.el7.x86_64\n      Installing : libaio-0.3.109-13.el7.x86_64\n      Installing : mysql-community-server-5.7.22-1.el7.x86_64\n      Installing : mysql-community-libs-compat-5.7.22-1.el7.x86_64\n      Erasing    : 1:mariadb-libs-5.5.56-2.el7.x86_64\n      Verifying  : mysql-community-libs-compat-5.7.22-1.el7.x86_64\n      Verifying  : mysql-community-common-5.7.22-1.el7.x86_64\n      Verifying  : mysql-community-server-5.7.22-1.el7.x86_64\n      Verifying  : mysql-community-client-5.7.22-1.el7.x86_64\n      Verifying  : mysql-community-libs-5.7.22-1.el7.x86_64\n      Verifying  : libaio-0.3.109-13.el7.x86_64\n      Verifying  : 1:mariadb-libs-5.5.56-2.el7.x86_64\n    \n    Installed:\n      mysql-community-libs.x86_64 0:5.7.22-1.el7              mysql-community-libs-compat.x86_64 0:5.7.22-1.el7\n      mysql-community-server.x86_64 0:5.7.22-1.el7\n    \n    Dependency Installed:\n      libaio.x86_64 0:0.3.109-13.el7                            mysql-community-client.x86_64 0:5.7.22-1.el7\n      mysql-community-common.x86_64 0:5.7.22-1.el7\n    \n    Replaced:\n      mariadb-libs.x86_64 1:5.5.56-2.el7\n    \n    Complete!\n\n#### 4. Join machine start\n \n    [root@colinECS /]# systemctl enable mysqld\ncheck is that do success[Optional/可选]  \n0:关闭 1:关闭 2:启用 3:启用 4:启用 5:启用 6:关闭停止：\n\n    [root@colinECS /]# chkconfig --list | grep mysql* mysqld\n\n#### 5. Start SQL Service \n\n    [root@colinECS /]# systemctl start mysqld\n\n#### 6. Get Status\n    \n    [root@colinECS /]# systemctl status mysqld\n    \n    ● mysqld.service - MySQL Server\n       Loaded: loaded (/usr/lib/systemd/system/mysqld.service; enabled; vendor preset: disabled)\n       Active: active (running) since Sat 2018-06-02 12:05:09 CST; 15s ago\n         Docs: man:mysqld(8)\n               http://dev.mysql.com/doc/refman/en/using-systemd.html\n      Process: 1324 ExecStart=/usr/sbin/mysqld --daemonize --pid-file=/var/run/mysqld/mysqld.pid $MYSQLD_OPTS (co, status=0/SUCCESS)\n      Process: 1251 ExecStartPre=/usr/bin/mysqld_pre_systemd (code=exited, status=0/SUCCESS)\n     Main PID: 1328 (mysqld)\n       CGroup: /system.slice/mysqld.service\n               └─1328 /usr/sbin/mysqld --daemonize --pid-file=/var/run/mysqld/mysqld.pid\n    \n    Jun 02 12:05:01 colinECS systemd[1]: Starting MySQL Server...\n    Jun 02 12:05:09 colinECS systemd[1]: Started MySQL Server.\n\n#### 7. Get Temporary password\n    \n    [root@colinECS /]# grep 'temporary password' /var/log/mysqld.log\n    2018-06-02T04:05:04.721743Z 1 [Note] A temporary password is generated for root@localhost: l7fnpYY#owEA\n    \n    [root@colinECS /]# mysql -uroot -pl7fnpYY#owEA\n    mysql: [Warning] Using a password on the command line interface can be insecure.\n    Welcome to the MySQL monitor.  Commands end with ; or \\g.\n    Your MySQL connection id is 4\n    Server version: 5.7.22\n    \n    Copyright (c) 2000, 2018, Oracle and/or its affiliates. All rights reserved.\n    \n    Oracle is a registered trademark of Oracle Corporation and/or its\n    affiliates. Other names may be trademarks of their respective\n    owners.\n    \n    Type 'help;' or '\\h' for help. Type '\\c' to clear the current input statement.\n    \n    mysql>\n\n#### 8. Password Change\n##### 1. did\nMust Contain number,small and big letter and char like'123Zz.'\n\n    mysql> SET PASSWORD=PASSWORD('123Zz.');\n    Query OK, 0 rows affected, 1 warning (0.00 sec)\nThen change pwd rules that can use simple pwd\n    \n    mysql> set global validate_password_policy=0;\n    Query OK, 0 rows affected (0.00 sec)\n    \n    mysql> set global validate_password_length=1;\n    Query OK, 0 rows affected (0.00 sec)\nAnd Change back to simple pwd\n\n##### 2. others did\n    mysql> ALTER USER 'root'@'localhost' IDENTIFIED BY 'MyNewPass4!';\n\n##### 3. tips may need latter\n如果忘记了MySQL root密码，可以用以下方法重新设置：\n1.KILL掉系统里的MySQL进程\n\n    killall -TERM MySQLd \n2.用以下命令启动MySQL，以不检查权限的方式启动；\n\n    safe_MySQLd --skip-grant-tables & \n\n3.然后用空密码方式使用root用户登录 MySQL；\n\n    MySQL -u root \n\n4.修改root用户的密码；\n\n    MySQL> update MySQL.user set password=PASSWORD('新密码') where User='root';  \n    MySQL> flush privileges;  \n    MySQL> quit \n\n重新启动MySQL，就可以使用新密码登录了。\n\n\n    \n\n#### 9. Make navicat can login [For error 1130]  \n1130 -  Host 'gitmmp.com' is not allowed to connect to this MySQL server\n    \n    mysql>use mysql;\n    mysql>select 'host' from user where user='root';\n    mysql>update user set host = '%' where user ='root';\n    mysql>flush privileges;\n\n\n\n\n\n\n### Remove\n\n1.查看已安装的mysql\n命令：rpm -qa | grep -i mysql\n![avatar](install_mysql/1.check.png)\n{% asset_img 1.check.png  check %}\n\n2.卸载mysql\n命令：yum remove mysql-community-server-5.6.36-2.el7.x86_64\n![avatar](install_mysql/2.remove1.png)\n{% asset_img 2.remove1.png remove1 %}\n\n查看mysql的其它依赖：rpm -qa | grep -i mysql\n使用yum remove mysql-xxx依次卸载，知道mysql的其它依赖全部卸载掉为止\n![avatar](install_mysql/3.getdep.png)\n{% asset_img 3.getdep.png 3.getdep %}\n\n3.删除mysql文件目录\n使用命令查看mysql相关的文件目录：find / -name mysql\n![avatar](install_mysql/4.findfiles.png)\n{% asset_img 4.findfiles.png 4.findfiles %}\n\n使用rm -rf 命令删除mysql的文件目录\n![avatar](install_mysql/5.del.png)\n{% asset_img 5.del.png 5.del %}\n\n至此mysql已成功卸载","source":"_posts/install/install_mysql.md","raw":"---\ntitle: Mysql安装[Linux] \ncopyright: true  \ntags: \n    - mysql\n    - install  \n    \ncategories: \n    - install\n    - linux\n\ndate: 2016-07-012 13:00:00\n---\n\nLinux下安装MySql遇到的坑和问题\n<!-- more -->\n\n\n### Install\n#### 1. get Src Yum  \nMySQL5.7  \n  \n    rpm -Uvh http://dev.mysql.com/get/mysql-community-release-el7-5.noarch.rpm\nMySQL8.0.11\n\n    rpm -Uvh http://dev.mysql.com/get/mysql57-community-release-el7-9.noarch.rpm  \nDo\n\n    [root@colinECS /]# rpm -Uvh http://dev.mysql.com/get/mysql57-community-release-el7-9.noarch.rpm\n    Retrieving http://dev.mysql.com/get/mysql57-community-release-el7-9.noarch.rpm\n    warning: /var/tmp/rpm-tmp.vJmA0S: Header V3 DSA/SHA1 Signature, key ID 5072e1f5:\n    Preparing...                          ################################# [100%]\n    Updating / installing...\n       1:mysql57-community-release-el7-9  ################################# [100%]\n\n#### 2. get list by yum\n\n    [root@colinECS /]# yum repolist enabled|grep \"mysql.*-community.*\"\n\n    mysql-connectors-community/x86_64 MySQL Connectors Community                  51\n    mysql-tools-community/x86_64      MySQL Tools Community                       63\n    mysql57-community/x86_64          MySQL 5.7 Community Server                 267\n\n#### 3. install \n    [root@colinECS /]# yum -y install mysql-community-server\n\n    Loaded plugins: fastestmirror\n    Loading mirror speeds from cached hostfile\n    Resolving Dependencies\n    --> Running transaction check\n    ---> Package mysql-community-server.x86_64 0:5.7.22-1.el7 will be installed\n    --> Processing Dependency: mysql-community-common(x86-64) = 5.7.22-1.el7 for package: mysql-community-server-el7.x86_64\n    --> Processing Dependency: mysql-community-client(x86-64) >= 5.7.9 for package: mysql-community-server-5.7.226_64\n    --> Processing Dependency: libaio.so.1(LIBAIO_0.4)(64bit) for package: mysql-community-server-5.7.22-1.el7.x8\n    --> Processing Dependency: libaio.so.1(LIBAIO_0.1)(64bit) for package: mysql-community-server-5.7.22-1.el7.x8\n    --> Processing Dependency: libaio.so.1()(64bit) for package: mysql-community-server-5.7.22-1.el7.x86_64\n    --> Running transaction check\n    ---> Package libaio.x86_64 0:0.3.109-13.el7 will be installed\n    ---> Package mysql-community-client.x86_64 0:5.7.22-1.el7 will be installed\n    --> Processing Dependency: mysql-community-libs(x86-64) >= 5.7.9 for package: mysql-community-client-5.7.22-164\n    ---> Package mysql-community-common.x86_64 0:5.7.22-1.el7 will be installed\n    --> Running transaction check\n    ---> Package mariadb-libs.x86_64 1:5.5.56-2.el7 will be obsoleted\n    --> Processing Dependency: libmysqlclient.so.18()(64bit) for package: 2:postfix-2.10.1-6.el7.x86_64\n    --> Processing Dependency: libmysqlclient.so.18(libmysqlclient_18)(64bit) for package: 2:postfix-2.10.1-6.el7\n    ---> Package mysql-community-libs.x86_64 0:5.7.22-1.el7 will be obsoleting\n    --> Running transaction check\n    ---> Package mysql-community-libs-compat.x86_64 0:5.7.22-1.el7 will be obsoleting\n    --> Finished Dependency Resolution\n    \n    Dependencies Resolved\n    \n    =============================================================================================================\n     Package                               Arch             Version                     Repository\n    =============================================================================================================\n    Installing:\n     mysql-community-libs                  x86_64           5.7.22-1.el7                mysql57-community\n         replacing  mariadb-libs.x86_64 1:5.5.56-2.el7\n     mysql-community-libs-compat           x86_64           5.7.22-1.el7                mysql57-community\n         replacing  mariadb-libs.x86_64 1:5.5.56-2.el7\n     mysql-community-server                x86_64           5.7.22-1.el7                mysql57-community\n    Installing for dependencies:\n     libaio                                x86_64           0.3.109-13.el7              base\n     mysql-community-client                x86_64           5.7.22-1.el7                mysql57-community\n     mysql-community-common                x86_64           5.7.22-1.el7                mysql57-community\n    \n    Transaction Summary\n    =============================================================================================================\n    Install  3 Packages (+3 Dependent packages)\n    \n    Total download size: 193 M\n    Downloading packages:\n    (1/6): libaio-0.3.109-13.el7.x86_64.rpm                                                        |  24 kB  00:0\n    warning: /var/cache/yum/x86_64/7/mysql57-community/packages/mysql-community-common-5.7.22-1.el7.x86_64.rpm: HDSA/SHA1 Signature, key ID 5072e1f5: NOKEY\n    Public key for mysql-community-common-5.7.22-1.el7.x86_64.rpm is not installed\n    (2/6): mysql-community-common-5.7.22-1.el7.x86_64.rpm                                          | 274 kB  00:0\n    (3/6): mysql-community-libs-5.7.22-1.el7.x86_64.rpm                                            | 2.1 MB  00:0\n    (4/6): mysql-community-libs-compat-5.7.22-1.el7.x86_64.rpm                                     | 2.0 MB  00:0\n    (5/6): mysql-community-client-5.7.22-1.el7.x86_64.rpm                                          |  24 MB  00:0\n    (6/6): mysql-community-server-5.7.22-1.el7.x86_64.rpm                                          | 165 MB  00:0\n    -------------------------------------------------------------------------------------------------------------\n    Total                                                                                 1.1 MB/s | 193 MB  00:0\n    Retrieving key from file:///etc/pki/rpm-gpg/RPM-GPG-KEY-mysql\n    Importing GPG key 0x5072E1F5:\n     Userid     : \"MySQL Release Engineering <mysql-build@oss.oracle.com>\"\n     Fingerprint: a4a9 4068 76fc bd3c 4567 70c8 8c71 8d3b 5072 e1f5\n     Package    : mysql57-community-release-el7-9.noarch (installed)\n     From       : /etc/pki/rpm-gpg/RPM-GPG-KEY-mysql\n    Running transaction check\n    Running transaction test\n    Transaction test succeeded\n    Running transaction\n    Warning: RPMDB altered outside of yum.\n      Installing : mysql-community-common-5.7.22-1.el7.x86_64\n      Installing : mysql-community-libs-5.7.22-1.el7.x86_64\n      Installing : mysql-community-client-5.7.22-1.el7.x86_64\n      Installing : libaio-0.3.109-13.el7.x86_64\n      Installing : mysql-community-server-5.7.22-1.el7.x86_64\n      Installing : mysql-community-libs-compat-5.7.22-1.el7.x86_64\n      Erasing    : 1:mariadb-libs-5.5.56-2.el7.x86_64\n      Verifying  : mysql-community-libs-compat-5.7.22-1.el7.x86_64\n      Verifying  : mysql-community-common-5.7.22-1.el7.x86_64\n      Verifying  : mysql-community-server-5.7.22-1.el7.x86_64\n      Verifying  : mysql-community-client-5.7.22-1.el7.x86_64\n      Verifying  : mysql-community-libs-5.7.22-1.el7.x86_64\n      Verifying  : libaio-0.3.109-13.el7.x86_64\n      Verifying  : 1:mariadb-libs-5.5.56-2.el7.x86_64\n    \n    Installed:\n      mysql-community-libs.x86_64 0:5.7.22-1.el7              mysql-community-libs-compat.x86_64 0:5.7.22-1.el7\n      mysql-community-server.x86_64 0:5.7.22-1.el7\n    \n    Dependency Installed:\n      libaio.x86_64 0:0.3.109-13.el7                            mysql-community-client.x86_64 0:5.7.22-1.el7\n      mysql-community-common.x86_64 0:5.7.22-1.el7\n    \n    Replaced:\n      mariadb-libs.x86_64 1:5.5.56-2.el7\n    \n    Complete!\n\n#### 4. Join machine start\n \n    [root@colinECS /]# systemctl enable mysqld\ncheck is that do success[Optional/可选]  \n0:关闭 1:关闭 2:启用 3:启用 4:启用 5:启用 6:关闭停止：\n\n    [root@colinECS /]# chkconfig --list | grep mysql* mysqld\n\n#### 5. Start SQL Service \n\n    [root@colinECS /]# systemctl start mysqld\n\n#### 6. Get Status\n    \n    [root@colinECS /]# systemctl status mysqld\n    \n    ● mysqld.service - MySQL Server\n       Loaded: loaded (/usr/lib/systemd/system/mysqld.service; enabled; vendor preset: disabled)\n       Active: active (running) since Sat 2018-06-02 12:05:09 CST; 15s ago\n         Docs: man:mysqld(8)\n               http://dev.mysql.com/doc/refman/en/using-systemd.html\n      Process: 1324 ExecStart=/usr/sbin/mysqld --daemonize --pid-file=/var/run/mysqld/mysqld.pid $MYSQLD_OPTS (co, status=0/SUCCESS)\n      Process: 1251 ExecStartPre=/usr/bin/mysqld_pre_systemd (code=exited, status=0/SUCCESS)\n     Main PID: 1328 (mysqld)\n       CGroup: /system.slice/mysqld.service\n               └─1328 /usr/sbin/mysqld --daemonize --pid-file=/var/run/mysqld/mysqld.pid\n    \n    Jun 02 12:05:01 colinECS systemd[1]: Starting MySQL Server...\n    Jun 02 12:05:09 colinECS systemd[1]: Started MySQL Server.\n\n#### 7. Get Temporary password\n    \n    [root@colinECS /]# grep 'temporary password' /var/log/mysqld.log\n    2018-06-02T04:05:04.721743Z 1 [Note] A temporary password is generated for root@localhost: l7fnpYY#owEA\n    \n    [root@colinECS /]# mysql -uroot -pl7fnpYY#owEA\n    mysql: [Warning] Using a password on the command line interface can be insecure.\n    Welcome to the MySQL monitor.  Commands end with ; or \\g.\n    Your MySQL connection id is 4\n    Server version: 5.7.22\n    \n    Copyright (c) 2000, 2018, Oracle and/or its affiliates. All rights reserved.\n    \n    Oracle is a registered trademark of Oracle Corporation and/or its\n    affiliates. Other names may be trademarks of their respective\n    owners.\n    \n    Type 'help;' or '\\h' for help. Type '\\c' to clear the current input statement.\n    \n    mysql>\n\n#### 8. Password Change\n##### 1. did\nMust Contain number,small and big letter and char like'123Zz.'\n\n    mysql> SET PASSWORD=PASSWORD('123Zz.');\n    Query OK, 0 rows affected, 1 warning (0.00 sec)\nThen change pwd rules that can use simple pwd\n    \n    mysql> set global validate_password_policy=0;\n    Query OK, 0 rows affected (0.00 sec)\n    \n    mysql> set global validate_password_length=1;\n    Query OK, 0 rows affected (0.00 sec)\nAnd Change back to simple pwd\n\n##### 2. others did\n    mysql> ALTER USER 'root'@'localhost' IDENTIFIED BY 'MyNewPass4!';\n\n##### 3. tips may need latter\n如果忘记了MySQL root密码，可以用以下方法重新设置：\n1.KILL掉系统里的MySQL进程\n\n    killall -TERM MySQLd \n2.用以下命令启动MySQL，以不检查权限的方式启动；\n\n    safe_MySQLd --skip-grant-tables & \n\n3.然后用空密码方式使用root用户登录 MySQL；\n\n    MySQL -u root \n\n4.修改root用户的密码；\n\n    MySQL> update MySQL.user set password=PASSWORD('新密码') where User='root';  \n    MySQL> flush privileges;  \n    MySQL> quit \n\n重新启动MySQL，就可以使用新密码登录了。\n\n\n    \n\n#### 9. Make navicat can login [For error 1130]  \n1130 -  Host 'gitmmp.com' is not allowed to connect to this MySQL server\n    \n    mysql>use mysql;\n    mysql>select 'host' from user where user='root';\n    mysql>update user set host = '%' where user ='root';\n    mysql>flush privileges;\n\n\n\n\n\n\n### Remove\n\n1.查看已安装的mysql\n命令：rpm -qa | grep -i mysql\n![avatar](install_mysql/1.check.png)\n{% asset_img 1.check.png  check %}\n\n2.卸载mysql\n命令：yum remove mysql-community-server-5.6.36-2.el7.x86_64\n![avatar](install_mysql/2.remove1.png)\n{% asset_img 2.remove1.png remove1 %}\n\n查看mysql的其它依赖：rpm -qa | grep -i mysql\n使用yum remove mysql-xxx依次卸载，知道mysql的其它依赖全部卸载掉为止\n![avatar](install_mysql/3.getdep.png)\n{% asset_img 3.getdep.png 3.getdep %}\n\n3.删除mysql文件目录\n使用命令查看mysql相关的文件目录：find / -name mysql\n![avatar](install_mysql/4.findfiles.png)\n{% asset_img 4.findfiles.png 4.findfiles %}\n\n使用rm -rf 命令删除mysql的文件目录\n![avatar](install_mysql/5.del.png)\n{% asset_img 5.del.png 5.del %}\n\n至此mysql已成功卸载","slug":"install/install_mysql","published":1,"updated":"2018-08-21T01:43:01.959Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjl8qv5t8000ghkehkyrusrqk","content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"\\assets\\css\\APlayer.min.css\"><script src=\"\\assets\\js\\APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><p>Linux下安装MySql遇到的坑和问题\n<a id=\"more\"></a></p>\n<h3 id=\"Install\"><a href=\"#Install\" class=\"headerlink\" title=\"Install\"></a>Install</h3><h4 id=\"1-get-Src-Yum\"><a href=\"#1-get-Src-Yum\" class=\"headerlink\" title=\"1. get Src Yum\"></a>1. get Src Yum</h4><p>MySQL5.7  </p>\n<pre><code>rpm -Uvh http://dev.mysql.com/get/mysql-community-release-el7-5.noarch.rpm\n</code></pre><p>MySQL8.0.11</p>\n<pre><code>rpm -Uvh http://dev.mysql.com/get/mysql57-community-release-el7-9.noarch.rpm  \n</code></pre><p>Do</p>\n<pre><code>[root@colinECS /]# rpm -Uvh http://dev.mysql.com/get/mysql57-community-release-el7-9.noarch.rpm\nRetrieving http://dev.mysql.com/get/mysql57-community-release-el7-9.noarch.rpm\nwarning: /var/tmp/rpm-tmp.vJmA0S: Header V3 DSA/SHA1 Signature, key ID 5072e1f5:\nPreparing...                          ################################# [100%]\nUpdating / installing...\n   1:mysql57-community-release-el7-9  ################################# [100%]\n</code></pre><h4 id=\"2-get-list-by-yum\"><a href=\"#2-get-list-by-yum\" class=\"headerlink\" title=\"2. get list by yum\"></a>2. get list by yum</h4><pre><code>[root@colinECS /]# yum repolist enabled|grep &quot;mysql.*-community.*&quot;\n\nmysql-connectors-community/x86_64 MySQL Connectors Community                  51\nmysql-tools-community/x86_64      MySQL Tools Community                       63\nmysql57-community/x86_64          MySQL 5.7 Community Server                 267\n</code></pre><h4 id=\"3-install\"><a href=\"#3-install\" class=\"headerlink\" title=\"3. install\"></a>3. install</h4><pre><code>[root@colinECS /]# yum -y install mysql-community-server\n\nLoaded plugins: fastestmirror\nLoading mirror speeds from cached hostfile\nResolving Dependencies\n--&gt; Running transaction check\n---&gt; Package mysql-community-server.x86_64 0:5.7.22-1.el7 will be installed\n--&gt; Processing Dependency: mysql-community-common(x86-64) = 5.7.22-1.el7 for package: mysql-community-server-el7.x86_64\n--&gt; Processing Dependency: mysql-community-client(x86-64) &gt;= 5.7.9 for package: mysql-community-server-5.7.226_64\n--&gt; Processing Dependency: libaio.so.1(LIBAIO_0.4)(64bit) for package: mysql-community-server-5.7.22-1.el7.x8\n--&gt; Processing Dependency: libaio.so.1(LIBAIO_0.1)(64bit) for package: mysql-community-server-5.7.22-1.el7.x8\n--&gt; Processing Dependency: libaio.so.1()(64bit) for package: mysql-community-server-5.7.22-1.el7.x86_64\n--&gt; Running transaction check\n---&gt; Package libaio.x86_64 0:0.3.109-13.el7 will be installed\n---&gt; Package mysql-community-client.x86_64 0:5.7.22-1.el7 will be installed\n--&gt; Processing Dependency: mysql-community-libs(x86-64) &gt;= 5.7.9 for package: mysql-community-client-5.7.22-164\n---&gt; Package mysql-community-common.x86_64 0:5.7.22-1.el7 will be installed\n--&gt; Running transaction check\n---&gt; Package mariadb-libs.x86_64 1:5.5.56-2.el7 will be obsoleted\n--&gt; Processing Dependency: libmysqlclient.so.18()(64bit) for package: 2:postfix-2.10.1-6.el7.x86_64\n--&gt; Processing Dependency: libmysqlclient.so.18(libmysqlclient_18)(64bit) for package: 2:postfix-2.10.1-6.el7\n---&gt; Package mysql-community-libs.x86_64 0:5.7.22-1.el7 will be obsoleting\n--&gt; Running transaction check\n---&gt; Package mysql-community-libs-compat.x86_64 0:5.7.22-1.el7 will be obsoleting\n--&gt; Finished Dependency Resolution\n\nDependencies Resolved\n\n=============================================================================================================\n Package                               Arch             Version                     Repository\n=============================================================================================================\nInstalling:\n mysql-community-libs                  x86_64           5.7.22-1.el7                mysql57-community\n     replacing  mariadb-libs.x86_64 1:5.5.56-2.el7\n mysql-community-libs-compat           x86_64           5.7.22-1.el7                mysql57-community\n     replacing  mariadb-libs.x86_64 1:5.5.56-2.el7\n mysql-community-server                x86_64           5.7.22-1.el7                mysql57-community\nInstalling for dependencies:\n libaio                                x86_64           0.3.109-13.el7              base\n mysql-community-client                x86_64           5.7.22-1.el7                mysql57-community\n mysql-community-common                x86_64           5.7.22-1.el7                mysql57-community\n\nTransaction Summary\n=============================================================================================================\nInstall  3 Packages (+3 Dependent packages)\n\nTotal download size: 193 M\nDownloading packages:\n(1/6): libaio-0.3.109-13.el7.x86_64.rpm                                                        |  24 kB  00:0\nwarning: /var/cache/yum/x86_64/7/mysql57-community/packages/mysql-community-common-5.7.22-1.el7.x86_64.rpm: HDSA/SHA1 Signature, key ID 5072e1f5: NOKEY\nPublic key for mysql-community-common-5.7.22-1.el7.x86_64.rpm is not installed\n(2/6): mysql-community-common-5.7.22-1.el7.x86_64.rpm                                          | 274 kB  00:0\n(3/6): mysql-community-libs-5.7.22-1.el7.x86_64.rpm                                            | 2.1 MB  00:0\n(4/6): mysql-community-libs-compat-5.7.22-1.el7.x86_64.rpm                                     | 2.0 MB  00:0\n(5/6): mysql-community-client-5.7.22-1.el7.x86_64.rpm                                          |  24 MB  00:0\n(6/6): mysql-community-server-5.7.22-1.el7.x86_64.rpm                                          | 165 MB  00:0\n-------------------------------------------------------------------------------------------------------------\nTotal                                                                                 1.1 MB/s | 193 MB  00:0\nRetrieving key from file:///etc/pki/rpm-gpg/RPM-GPG-KEY-mysql\nImporting GPG key 0x5072E1F5:\n Userid     : &quot;MySQL Release Engineering &lt;mysql-build@oss.oracle.com&gt;&quot;\n Fingerprint: a4a9 4068 76fc bd3c 4567 70c8 8c71 8d3b 5072 e1f5\n Package    : mysql57-community-release-el7-9.noarch (installed)\n From       : /etc/pki/rpm-gpg/RPM-GPG-KEY-mysql\nRunning transaction check\nRunning transaction test\nTransaction test succeeded\nRunning transaction\nWarning: RPMDB altered outside of yum.\n  Installing : mysql-community-common-5.7.22-1.el7.x86_64\n  Installing : mysql-community-libs-5.7.22-1.el7.x86_64\n  Installing : mysql-community-client-5.7.22-1.el7.x86_64\n  Installing : libaio-0.3.109-13.el7.x86_64\n  Installing : mysql-community-server-5.7.22-1.el7.x86_64\n  Installing : mysql-community-libs-compat-5.7.22-1.el7.x86_64\n  Erasing    : 1:mariadb-libs-5.5.56-2.el7.x86_64\n  Verifying  : mysql-community-libs-compat-5.7.22-1.el7.x86_64\n  Verifying  : mysql-community-common-5.7.22-1.el7.x86_64\n  Verifying  : mysql-community-server-5.7.22-1.el7.x86_64\n  Verifying  : mysql-community-client-5.7.22-1.el7.x86_64\n  Verifying  : mysql-community-libs-5.7.22-1.el7.x86_64\n  Verifying  : libaio-0.3.109-13.el7.x86_64\n  Verifying  : 1:mariadb-libs-5.5.56-2.el7.x86_64\n\nInstalled:\n  mysql-community-libs.x86_64 0:5.7.22-1.el7              mysql-community-libs-compat.x86_64 0:5.7.22-1.el7\n  mysql-community-server.x86_64 0:5.7.22-1.el7\n\nDependency Installed:\n  libaio.x86_64 0:0.3.109-13.el7                            mysql-community-client.x86_64 0:5.7.22-1.el7\n  mysql-community-common.x86_64 0:5.7.22-1.el7\n\nReplaced:\n  mariadb-libs.x86_64 1:5.5.56-2.el7\n\nComplete!\n</code></pre><h4 id=\"4-Join-machine-start\"><a href=\"#4-Join-machine-start\" class=\"headerlink\" title=\"4. Join machine start\"></a>4. Join machine start</h4><pre><code>[root@colinECS /]# systemctl enable mysqld\n</code></pre><p>check is that do success[Optional/可选]<br>0:关闭 1:关闭 2:启用 3:启用 4:启用 5:启用 6:关闭停止：</p>\n<pre><code>[root@colinECS /]# chkconfig --list | grep mysql* mysqld\n</code></pre><h4 id=\"5-Start-SQL-Service\"><a href=\"#5-Start-SQL-Service\" class=\"headerlink\" title=\"5. Start SQL Service\"></a>5. Start SQL Service</h4><pre><code>[root@colinECS /]# systemctl start mysqld\n</code></pre><h4 id=\"6-Get-Status\"><a href=\"#6-Get-Status\" class=\"headerlink\" title=\"6. Get Status\"></a>6. Get Status</h4><pre><code>[root@colinECS /]# systemctl status mysqld\n\n● mysqld.service - MySQL Server\n   Loaded: loaded (/usr/lib/systemd/system/mysqld.service; enabled; vendor preset: disabled)\n   Active: active (running) since Sat 2018-06-02 12:05:09 CST; 15s ago\n     Docs: man:mysqld(8)\n           http://dev.mysql.com/doc/refman/en/using-systemd.html\n  Process: 1324 ExecStart=/usr/sbin/mysqld --daemonize --pid-file=/var/run/mysqld/mysqld.pid $MYSQLD_OPTS (co, status=0/SUCCESS)\n  Process: 1251 ExecStartPre=/usr/bin/mysqld_pre_systemd (code=exited, status=0/SUCCESS)\n Main PID: 1328 (mysqld)\n   CGroup: /system.slice/mysqld.service\n           └─1328 /usr/sbin/mysqld --daemonize --pid-file=/var/run/mysqld/mysqld.pid\n\nJun 02 12:05:01 colinECS systemd[1]: Starting MySQL Server...\nJun 02 12:05:09 colinECS systemd[1]: Started MySQL Server.\n</code></pre><h4 id=\"7-Get-Temporary-password\"><a href=\"#7-Get-Temporary-password\" class=\"headerlink\" title=\"7. Get Temporary password\"></a>7. Get Temporary password</h4><pre><code>[root@colinECS /]# grep &apos;temporary password&apos; /var/log/mysqld.log\n2018-06-02T04:05:04.721743Z 1 [Note] A temporary password is generated for root@localhost: l7fnpYY#owEA\n\n[root@colinECS /]# mysql -uroot -pl7fnpYY#owEA\nmysql: [Warning] Using a password on the command line interface can be insecure.\nWelcome to the MySQL monitor.  Commands end with ; or \\g.\nYour MySQL connection id is 4\nServer version: 5.7.22\n\nCopyright (c) 2000, 2018, Oracle and/or its affiliates. All rights reserved.\n\nOracle is a registered trademark of Oracle Corporation and/or its\naffiliates. Other names may be trademarks of their respective\nowners.\n\nType &apos;help;&apos; or &apos;\\h&apos; for help. Type &apos;\\c&apos; to clear the current input statement.\n\nmysql&gt;\n</code></pre><h4 id=\"8-Password-Change\"><a href=\"#8-Password-Change\" class=\"headerlink\" title=\"8. Password Change\"></a>8. Password Change</h4><h5 id=\"1-did\"><a href=\"#1-did\" class=\"headerlink\" title=\"1. did\"></a>1. did</h5><p>Must Contain number,small and big letter and char like’123Zz.’</p>\n<pre><code>mysql&gt; SET PASSWORD=PASSWORD(&apos;123Zz.&apos;);\nQuery OK, 0 rows affected, 1 warning (0.00 sec)\n</code></pre><p>Then change pwd rules that can use simple pwd</p>\n<pre><code>mysql&gt; set global validate_password_policy=0;\nQuery OK, 0 rows affected (0.00 sec)\n\nmysql&gt; set global validate_password_length=1;\nQuery OK, 0 rows affected (0.00 sec)\n</code></pre><p>And Change back to simple pwd</p>\n<h5 id=\"2-others-did\"><a href=\"#2-others-did\" class=\"headerlink\" title=\"2. others did\"></a>2. others did</h5><pre><code>mysql&gt; ALTER USER &apos;root&apos;@&apos;localhost&apos; IDENTIFIED BY &apos;MyNewPass4!&apos;;\n</code></pre><h5 id=\"3-tips-may-need-latter\"><a href=\"#3-tips-may-need-latter\" class=\"headerlink\" title=\"3. tips may need latter\"></a>3. tips may need latter</h5><p>如果忘记了MySQL root密码，可以用以下方法重新设置：\n1.KILL掉系统里的MySQL进程</p>\n<pre><code>killall -TERM MySQLd \n</code></pre><p>2.用以下命令启动MySQL，以不检查权限的方式启动；</p>\n<pre><code>safe_MySQLd --skip-grant-tables &amp; \n</code></pre><p>3.然后用空密码方式使用root用户登录 MySQL；</p>\n<pre><code>MySQL -u root \n</code></pre><p>4.修改root用户的密码；</p>\n<pre><code>MySQL&gt; update MySQL.user set password=PASSWORD(&apos;新密码&apos;) where User=&apos;root&apos;;  \nMySQL&gt; flush privileges;  \nMySQL&gt; quit \n</code></pre><p>重新启动MySQL，就可以使用新密码登录了。</p>\n<h4 id=\"9-Make-navicat-can-login-For-error-1130\"><a href=\"#9-Make-navicat-can-login-For-error-1130\" class=\"headerlink\" title=\"9. Make navicat can login [For error 1130]\"></a>9. Make navicat can login [For error 1130]</h4><p>1130 -  Host ‘gitmmp.com’ is not allowed to connect to this MySQL server</p>\n<pre><code>mysql&gt;use mysql;\nmysql&gt;select &apos;host&apos; from user where user=&apos;root&apos;;\nmysql&gt;update user set host = &apos;%&apos; where user =&apos;root&apos;;\nmysql&gt;flush privileges;\n</code></pre><h3 id=\"Remove\"><a href=\"#Remove\" class=\"headerlink\" title=\"Remove\"></a>Remove</h3><p>1.查看已安装的mysql\n命令：rpm -qa | grep -i mysql\n<img src=\"install_mysql/1.check.png\" alt=\"avatar\">\n<img src=\"/2016/07/12/install/install_mysql/1.check.png\" title=\"check\"></p>\n<p>2.卸载mysql\n命令：yum remove mysql-community-server-5.6.36-2.el7.x86_64\n<img src=\"install_mysql/2.remove1.png\" alt=\"avatar\">\n<img src=\"/2016/07/12/install/install_mysql/2.remove1.png\" title=\"remove1\"></p>\n<p>查看mysql的其它依赖：rpm -qa | grep -i mysql\n使用yum remove mysql-xxx依次卸载，知道mysql的其它依赖全部卸载掉为止\n<img src=\"install_mysql/3.getdep.png\" alt=\"avatar\">\n<img src=\"/2016/07/12/install/install_mysql/3.getdep.png\" title=\"3.getdep\"></p>\n<p>3.删除mysql文件目录\n使用命令查看mysql相关的文件目录：find / -name mysql\n<img src=\"install_mysql/4.findfiles.png\" alt=\"avatar\">\n<img src=\"/2016/07/12/install/install_mysql/4.findfiles.png\" title=\"4.findfiles\"></p>\n<p>使用rm -rf 命令删除mysql的文件目录\n<img src=\"install_mysql/5.del.png\" alt=\"avatar\">\n<img src=\"/2016/07/12/install/install_mysql/5.del.png\" title=\"5.del\"></p>\n<p>至此mysql已成功卸载</p>\n","site":{"data":{}},"excerpt":"<p>Linux下安装MySql遇到的坑和问题","more":"</p>\n<h3 id=\"Install\"><a href=\"#Install\" class=\"headerlink\" title=\"Install\"></a>Install</h3><h4 id=\"1-get-Src-Yum\"><a href=\"#1-get-Src-Yum\" class=\"headerlink\" title=\"1. get Src Yum\"></a>1. get Src Yum</h4><p>MySQL5.7  </p>\n<pre><code>rpm -Uvh http://dev.mysql.com/get/mysql-community-release-el7-5.noarch.rpm\n</code></pre><p>MySQL8.0.11</p>\n<pre><code>rpm -Uvh http://dev.mysql.com/get/mysql57-community-release-el7-9.noarch.rpm  \n</code></pre><p>Do</p>\n<pre><code>[root@colinECS /]# rpm -Uvh http://dev.mysql.com/get/mysql57-community-release-el7-9.noarch.rpm\nRetrieving http://dev.mysql.com/get/mysql57-community-release-el7-9.noarch.rpm\nwarning: /var/tmp/rpm-tmp.vJmA0S: Header V3 DSA/SHA1 Signature, key ID 5072e1f5:\nPreparing...                          ################################# [100%]\nUpdating / installing...\n   1:mysql57-community-release-el7-9  ################################# [100%]\n</code></pre><h4 id=\"2-get-list-by-yum\"><a href=\"#2-get-list-by-yum\" class=\"headerlink\" title=\"2. get list by yum\"></a>2. get list by yum</h4><pre><code>[root@colinECS /]# yum repolist enabled|grep &quot;mysql.*-community.*&quot;\n\nmysql-connectors-community/x86_64 MySQL Connectors Community                  51\nmysql-tools-community/x86_64      MySQL Tools Community                       63\nmysql57-community/x86_64          MySQL 5.7 Community Server                 267\n</code></pre><h4 id=\"3-install\"><a href=\"#3-install\" class=\"headerlink\" title=\"3. install\"></a>3. install</h4><pre><code>[root@colinECS /]# yum -y install mysql-community-server\n\nLoaded plugins: fastestmirror\nLoading mirror speeds from cached hostfile\nResolving Dependencies\n--&gt; Running transaction check\n---&gt; Package mysql-community-server.x86_64 0:5.7.22-1.el7 will be installed\n--&gt; Processing Dependency: mysql-community-common(x86-64) = 5.7.22-1.el7 for package: mysql-community-server-el7.x86_64\n--&gt; Processing Dependency: mysql-community-client(x86-64) &gt;= 5.7.9 for package: mysql-community-server-5.7.226_64\n--&gt; Processing Dependency: libaio.so.1(LIBAIO_0.4)(64bit) for package: mysql-community-server-5.7.22-1.el7.x8\n--&gt; Processing Dependency: libaio.so.1(LIBAIO_0.1)(64bit) for package: mysql-community-server-5.7.22-1.el7.x8\n--&gt; Processing Dependency: libaio.so.1()(64bit) for package: mysql-community-server-5.7.22-1.el7.x86_64\n--&gt; Running transaction check\n---&gt; Package libaio.x86_64 0:0.3.109-13.el7 will be installed\n---&gt; Package mysql-community-client.x86_64 0:5.7.22-1.el7 will be installed\n--&gt; Processing Dependency: mysql-community-libs(x86-64) &gt;= 5.7.9 for package: mysql-community-client-5.7.22-164\n---&gt; Package mysql-community-common.x86_64 0:5.7.22-1.el7 will be installed\n--&gt; Running transaction check\n---&gt; Package mariadb-libs.x86_64 1:5.5.56-2.el7 will be obsoleted\n--&gt; Processing Dependency: libmysqlclient.so.18()(64bit) for package: 2:postfix-2.10.1-6.el7.x86_64\n--&gt; Processing Dependency: libmysqlclient.so.18(libmysqlclient_18)(64bit) for package: 2:postfix-2.10.1-6.el7\n---&gt; Package mysql-community-libs.x86_64 0:5.7.22-1.el7 will be obsoleting\n--&gt; Running transaction check\n---&gt; Package mysql-community-libs-compat.x86_64 0:5.7.22-1.el7 will be obsoleting\n--&gt; Finished Dependency Resolution\n\nDependencies Resolved\n\n=============================================================================================================\n Package                               Arch             Version                     Repository\n=============================================================================================================\nInstalling:\n mysql-community-libs                  x86_64           5.7.22-1.el7                mysql57-community\n     replacing  mariadb-libs.x86_64 1:5.5.56-2.el7\n mysql-community-libs-compat           x86_64           5.7.22-1.el7                mysql57-community\n     replacing  mariadb-libs.x86_64 1:5.5.56-2.el7\n mysql-community-server                x86_64           5.7.22-1.el7                mysql57-community\nInstalling for dependencies:\n libaio                                x86_64           0.3.109-13.el7              base\n mysql-community-client                x86_64           5.7.22-1.el7                mysql57-community\n mysql-community-common                x86_64           5.7.22-1.el7                mysql57-community\n\nTransaction Summary\n=============================================================================================================\nInstall  3 Packages (+3 Dependent packages)\n\nTotal download size: 193 M\nDownloading packages:\n(1/6): libaio-0.3.109-13.el7.x86_64.rpm                                                        |  24 kB  00:0\nwarning: /var/cache/yum/x86_64/7/mysql57-community/packages/mysql-community-common-5.7.22-1.el7.x86_64.rpm: HDSA/SHA1 Signature, key ID 5072e1f5: NOKEY\nPublic key for mysql-community-common-5.7.22-1.el7.x86_64.rpm is not installed\n(2/6): mysql-community-common-5.7.22-1.el7.x86_64.rpm                                          | 274 kB  00:0\n(3/6): mysql-community-libs-5.7.22-1.el7.x86_64.rpm                                            | 2.1 MB  00:0\n(4/6): mysql-community-libs-compat-5.7.22-1.el7.x86_64.rpm                                     | 2.0 MB  00:0\n(5/6): mysql-community-client-5.7.22-1.el7.x86_64.rpm                                          |  24 MB  00:0\n(6/6): mysql-community-server-5.7.22-1.el7.x86_64.rpm                                          | 165 MB  00:0\n-------------------------------------------------------------------------------------------------------------\nTotal                                                                                 1.1 MB/s | 193 MB  00:0\nRetrieving key from file:///etc/pki/rpm-gpg/RPM-GPG-KEY-mysql\nImporting GPG key 0x5072E1F5:\n Userid     : &quot;MySQL Release Engineering &lt;mysql-build@oss.oracle.com&gt;&quot;\n Fingerprint: a4a9 4068 76fc bd3c 4567 70c8 8c71 8d3b 5072 e1f5\n Package    : mysql57-community-release-el7-9.noarch (installed)\n From       : /etc/pki/rpm-gpg/RPM-GPG-KEY-mysql\nRunning transaction check\nRunning transaction test\nTransaction test succeeded\nRunning transaction\nWarning: RPMDB altered outside of yum.\n  Installing : mysql-community-common-5.7.22-1.el7.x86_64\n  Installing : mysql-community-libs-5.7.22-1.el7.x86_64\n  Installing : mysql-community-client-5.7.22-1.el7.x86_64\n  Installing : libaio-0.3.109-13.el7.x86_64\n  Installing : mysql-community-server-5.7.22-1.el7.x86_64\n  Installing : mysql-community-libs-compat-5.7.22-1.el7.x86_64\n  Erasing    : 1:mariadb-libs-5.5.56-2.el7.x86_64\n  Verifying  : mysql-community-libs-compat-5.7.22-1.el7.x86_64\n  Verifying  : mysql-community-common-5.7.22-1.el7.x86_64\n  Verifying  : mysql-community-server-5.7.22-1.el7.x86_64\n  Verifying  : mysql-community-client-5.7.22-1.el7.x86_64\n  Verifying  : mysql-community-libs-5.7.22-1.el7.x86_64\n  Verifying  : libaio-0.3.109-13.el7.x86_64\n  Verifying  : 1:mariadb-libs-5.5.56-2.el7.x86_64\n\nInstalled:\n  mysql-community-libs.x86_64 0:5.7.22-1.el7              mysql-community-libs-compat.x86_64 0:5.7.22-1.el7\n  mysql-community-server.x86_64 0:5.7.22-1.el7\n\nDependency Installed:\n  libaio.x86_64 0:0.3.109-13.el7                            mysql-community-client.x86_64 0:5.7.22-1.el7\n  mysql-community-common.x86_64 0:5.7.22-1.el7\n\nReplaced:\n  mariadb-libs.x86_64 1:5.5.56-2.el7\n\nComplete!\n</code></pre><h4 id=\"4-Join-machine-start\"><a href=\"#4-Join-machine-start\" class=\"headerlink\" title=\"4. Join machine start\"></a>4. Join machine start</h4><pre><code>[root@colinECS /]# systemctl enable mysqld\n</code></pre><p>check is that do success[Optional/可选]<br>0:关闭 1:关闭 2:启用 3:启用 4:启用 5:启用 6:关闭停止：</p>\n<pre><code>[root@colinECS /]# chkconfig --list | grep mysql* mysqld\n</code></pre><h4 id=\"5-Start-SQL-Service\"><a href=\"#5-Start-SQL-Service\" class=\"headerlink\" title=\"5. Start SQL Service\"></a>5. Start SQL Service</h4><pre><code>[root@colinECS /]# systemctl start mysqld\n</code></pre><h4 id=\"6-Get-Status\"><a href=\"#6-Get-Status\" class=\"headerlink\" title=\"6. Get Status\"></a>6. Get Status</h4><pre><code>[root@colinECS /]# systemctl status mysqld\n\n● mysqld.service - MySQL Server\n   Loaded: loaded (/usr/lib/systemd/system/mysqld.service; enabled; vendor preset: disabled)\n   Active: active (running) since Sat 2018-06-02 12:05:09 CST; 15s ago\n     Docs: man:mysqld(8)\n           http://dev.mysql.com/doc/refman/en/using-systemd.html\n  Process: 1324 ExecStart=/usr/sbin/mysqld --daemonize --pid-file=/var/run/mysqld/mysqld.pid $MYSQLD_OPTS (co, status=0/SUCCESS)\n  Process: 1251 ExecStartPre=/usr/bin/mysqld_pre_systemd (code=exited, status=0/SUCCESS)\n Main PID: 1328 (mysqld)\n   CGroup: /system.slice/mysqld.service\n           └─1328 /usr/sbin/mysqld --daemonize --pid-file=/var/run/mysqld/mysqld.pid\n\nJun 02 12:05:01 colinECS systemd[1]: Starting MySQL Server...\nJun 02 12:05:09 colinECS systemd[1]: Started MySQL Server.\n</code></pre><h4 id=\"7-Get-Temporary-password\"><a href=\"#7-Get-Temporary-password\" class=\"headerlink\" title=\"7. Get Temporary password\"></a>7. Get Temporary password</h4><pre><code>[root@colinECS /]# grep &apos;temporary password&apos; /var/log/mysqld.log\n2018-06-02T04:05:04.721743Z 1 [Note] A temporary password is generated for root@localhost: l7fnpYY#owEA\n\n[root@colinECS /]# mysql -uroot -pl7fnpYY#owEA\nmysql: [Warning] Using a password on the command line interface can be insecure.\nWelcome to the MySQL monitor.  Commands end with ; or \\g.\nYour MySQL connection id is 4\nServer version: 5.7.22\n\nCopyright (c) 2000, 2018, Oracle and/or its affiliates. All rights reserved.\n\nOracle is a registered trademark of Oracle Corporation and/or its\naffiliates. Other names may be trademarks of their respective\nowners.\n\nType &apos;help;&apos; or &apos;\\h&apos; for help. Type &apos;\\c&apos; to clear the current input statement.\n\nmysql&gt;\n</code></pre><h4 id=\"8-Password-Change\"><a href=\"#8-Password-Change\" class=\"headerlink\" title=\"8. Password Change\"></a>8. Password Change</h4><h5 id=\"1-did\"><a href=\"#1-did\" class=\"headerlink\" title=\"1. did\"></a>1. did</h5><p>Must Contain number,small and big letter and char like’123Zz.’</p>\n<pre><code>mysql&gt; SET PASSWORD=PASSWORD(&apos;123Zz.&apos;);\nQuery OK, 0 rows affected, 1 warning (0.00 sec)\n</code></pre><p>Then change pwd rules that can use simple pwd</p>\n<pre><code>mysql&gt; set global validate_password_policy=0;\nQuery OK, 0 rows affected (0.00 sec)\n\nmysql&gt; set global validate_password_length=1;\nQuery OK, 0 rows affected (0.00 sec)\n</code></pre><p>And Change back to simple pwd</p>\n<h5 id=\"2-others-did\"><a href=\"#2-others-did\" class=\"headerlink\" title=\"2. others did\"></a>2. others did</h5><pre><code>mysql&gt; ALTER USER &apos;root&apos;@&apos;localhost&apos; IDENTIFIED BY &apos;MyNewPass4!&apos;;\n</code></pre><h5 id=\"3-tips-may-need-latter\"><a href=\"#3-tips-may-need-latter\" class=\"headerlink\" title=\"3. tips may need latter\"></a>3. tips may need latter</h5><p>如果忘记了MySQL root密码，可以用以下方法重新设置：\n1.KILL掉系统里的MySQL进程</p>\n<pre><code>killall -TERM MySQLd \n</code></pre><p>2.用以下命令启动MySQL，以不检查权限的方式启动；</p>\n<pre><code>safe_MySQLd --skip-grant-tables &amp; \n</code></pre><p>3.然后用空密码方式使用root用户登录 MySQL；</p>\n<pre><code>MySQL -u root \n</code></pre><p>4.修改root用户的密码；</p>\n<pre><code>MySQL&gt; update MySQL.user set password=PASSWORD(&apos;新密码&apos;) where User=&apos;root&apos;;  \nMySQL&gt; flush privileges;  \nMySQL&gt; quit \n</code></pre><p>重新启动MySQL，就可以使用新密码登录了。</p>\n<h4 id=\"9-Make-navicat-can-login-For-error-1130\"><a href=\"#9-Make-navicat-can-login-For-error-1130\" class=\"headerlink\" title=\"9. Make navicat can login [For error 1130]\"></a>9. Make navicat can login [For error 1130]</h4><p>1130 -  Host ‘gitmmp.com’ is not allowed to connect to this MySQL server</p>\n<pre><code>mysql&gt;use mysql;\nmysql&gt;select &apos;host&apos; from user where user=&apos;root&apos;;\nmysql&gt;update user set host = &apos;%&apos; where user =&apos;root&apos;;\nmysql&gt;flush privileges;\n</code></pre><h3 id=\"Remove\"><a href=\"#Remove\" class=\"headerlink\" title=\"Remove\"></a>Remove</h3><p>1.查看已安装的mysql\n命令：rpm -qa | grep -i mysql\n<img src=\"install_mysql/1.check.png\" alt=\"avatar\">\n<img src=\"/2016/07/12/install/install_mysql/1.check.png\" title=\"check\"></p>\n<p>2.卸载mysql\n命令：yum remove mysql-community-server-5.6.36-2.el7.x86_64\n<img src=\"install_mysql/2.remove1.png\" alt=\"avatar\">\n<img src=\"/2016/07/12/install/install_mysql/2.remove1.png\" title=\"remove1\"></p>\n<p>查看mysql的其它依赖：rpm -qa | grep -i mysql\n使用yum remove mysql-xxx依次卸载，知道mysql的其它依赖全部卸载掉为止\n<img src=\"install_mysql/3.getdep.png\" alt=\"avatar\">\n<img src=\"/2016/07/12/install/install_mysql/3.getdep.png\" title=\"3.getdep\"></p>\n<p>3.删除mysql文件目录\n使用命令查看mysql相关的文件目录：find / -name mysql\n<img src=\"install_mysql/4.findfiles.png\" alt=\"avatar\">\n<img src=\"/2016/07/12/install/install_mysql/4.findfiles.png\" title=\"4.findfiles\"></p>\n<p>使用rm -rf 命令删除mysql的文件目录\n<img src=\"install_mysql/5.del.png\" alt=\"avatar\">\n<img src=\"/2016/07/12/install/install_mysql/5.del.png\" title=\"5.del\"></p>\n<p>至此mysql已成功卸载</p>"},{"title":"Hexo 引用图片","copyright":true,"description":"传统句法中的图片引用无法在Hexo中使用，需要加料","date":"2017-02-10T05:00:00.000Z","_content":"\n\n修改_config.yml配置文件post_asset_folder项为true。  \n\n```\nhexo new \"file\" \n```\n\n此时创建文章后，会出现一个与文章文件同名的文件夹。\n将图片文件复制到文件夹中。(img.png)  \n\n\n<!-- more -->\n\n### 直接引用\n前提为，你的hexo版本是hexo3以上\n```\n{%  asset_img img.png  img的图片信息  %}\n```\n\n### hexo插件方法\n安装\n```\nnpm install https://github.com/CodeFalling/hexo-asset-image --save\n```\n等待一段时间后安装完成后，使用传统方法引用就好\n```\n![logo](file/img.png)\n```\n其中[]中内容为为图片标题信息","source":"_posts/setting/plus-next-img.md","raw":"---\ntitle: Hexo 引用图片 \ncopyright: true  \ntags: \n    - hexo \n    - img \n    - setting  \n    \ncategories: \n    - setting\n    - blog\n    - plus\n    \ndescription: 传统句法中的图片引用无法在Hexo中使用，需要加料\n\ndate: 2017-02-010 13:00:00\n---\n\n\n修改_config.yml配置文件post_asset_folder项为true。  \n\n```\nhexo new \"file\" \n```\n\n此时创建文章后，会出现一个与文章文件同名的文件夹。\n将图片文件复制到文件夹中。(img.png)  \n\n\n<!-- more -->\n\n### 直接引用\n前提为，你的hexo版本是hexo3以上\n```\n{%  asset_img img.png  img的图片信息  %}\n```\n\n### hexo插件方法\n安装\n```\nnpm install https://github.com/CodeFalling/hexo-asset-image --save\n```\n等待一段时间后安装完成后，使用传统方法引用就好\n```\n![logo](file/img.png)\n```\n其中[]中内容为为图片标题信息","slug":"setting/plus-next-img","published":1,"updated":"2018-08-21T01:43:01.988Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjl8qv5te000khkehjssmpnk3","content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"\\assets\\css\\APlayer.min.css\"><script src=\"\\assets\\js\\APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><p>修改_config.yml配置文件post_asset_folder项为true。  </p>\n<figure class=\"highlight actionscript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo <span class=\"keyword\">new</span> <span class=\"string\">\"file\"</span></span><br></pre></td></tr></table></figure>\n<p>此时创建文章后，会出现一个与文章文件同名的文件夹。\n将图片文件复制到文件夹中。(img.png)  </p>\n<a id=\"more\"></a>\n<h3 id=\"直接引用\"><a href=\"#直接引用\" class=\"headerlink\" title=\"直接引用\"></a>直接引用</h3><p>前提为，你的hexo版本是hexo3以上\n<figure class=\"highlight django\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"xml\"></span><span class=\"template-tag\">&#123;%  <span class=\"name\">asset_img</span> img.png  img的图片信息  %&#125;</span><span class=\"xml\"></span></span><br></pre></td></tr></table></figure></p>\n<h3 id=\"hexo插件方法\"><a href=\"#hexo插件方法\" class=\"headerlink\" title=\"hexo插件方法\"></a>hexo插件方法</h3><p>安装\n<figure class=\"highlight awk\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install https:<span class=\"regexp\">//gi</span>thub.com<span class=\"regexp\">/CodeFalling/</span>hexo-asset-image --save</span><br></pre></td></tr></table></figure></p>\n<p>等待一段时间后安装完成后，使用传统方法引用就好\n<figure class=\"highlight markdown\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">![<span class=\"string\">logo</span>](<span class=\"link\">file/img.png</span>)</span><br></pre></td></tr></table></figure></p>\n<p>其中[]中内容为为图片标题信息</p>\n","site":{"data":{}},"excerpt":"<p>修改_config.yml配置文件post_asset_folder项为true。  </p>\n<figure class=\"highlight actionscript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo <span class=\"keyword\">new</span> <span class=\"string\">\"file\"</span></span><br></pre></td></tr></table></figure>\n<p>此时创建文章后，会出现一个与文章文件同名的文件夹。\n将图片文件复制到文件夹中。(img.png)  </p>","more":"<h3 id=\"直接引用\"><a href=\"#直接引用\" class=\"headerlink\" title=\"直接引用\"></a>直接引用</h3><p>前提为，你的hexo版本是hexo3以上\n<figure class=\"highlight django\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"xml\"></span><span class=\"template-tag\">&#123;%  <span class=\"name\">asset_img</span> img.png  img的图片信息  %&#125;</span><span class=\"xml\"></span></span><br></pre></td></tr></table></figure></p>\n<h3 id=\"hexo插件方法\"><a href=\"#hexo插件方法\" class=\"headerlink\" title=\"hexo插件方法\"></a>hexo插件方法</h3><p>安装\n<figure class=\"highlight awk\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install https:<span class=\"regexp\">//gi</span>thub.com<span class=\"regexp\">/CodeFalling/</span>hexo-asset-image --save</span><br></pre></td></tr></table></figure></p>\n<p>等待一段时间后安装完成后，使用传统方法引用就好\n<figure class=\"highlight markdown\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">![<span class=\"string\">logo</span>](<span class=\"link\">file/img.png</span>)</span><br></pre></td></tr></table></figure></p>\n<p>其中[]中内容为为图片标题信息</p>"},{"title":"Hexo-Next 设置|备忘","copyright":true,"date":"2017-01-10T05:00:00.000Z","_content":"\n  嗨，Hello,本文为第一篇Hexo博客文章 🐳🐋🐟🐳🐋🐟🐳🐋🐳🐋🐟\n  代码基地[github/hongxii](https://github.com/colinst)!\n  个人网站域名(架设中)[gitmmp.com](https://gitmmp.com)!\n  欢迎来到我的博客 [Blog.gitmmp.com](https://colinst.github.io)!  \nHexo + Next的组合可以无限优化，甚至某些组织站点都用hexo作为发布,个人博客不必花费太多的时间，如果做组织网站则建议使用灵活度更高的主题（[icarus](https://blog.zhangruipeng.me/hexo-theme-icarus/)）。\n仅用一文说明设计部署等关键点，个性化范围等关键点，花太多时间在上面也不好，本文轻改Next主题。以下为目录：\n<!-- more -->\n\n## 文章目录：\n<!-- TOC -->\n\n- [基建 Base](#基建-base)\n    - [依赖环境 environment](#依赖环境-environment)\n    - [常用命令 command](#常用命令-command)\n- [主题轻改 Theme-Next](#主题轻改-theme-next)\n    - [基本信息 baseInfo](#基本信息-baseinfo)\n        - [站点设置 siteInfo](#站点设置-siteinfo)\n        - [侧边栏信息 authorInfo](#侧边栏信息-authorinfo)\n    - [首页样式 viewIndex](#首页样式-viewindex)\n        - [博文块样式 blockView](#博文块样式-blockview)\n        - [底层动画   cssFlash](#底层动画---cssflash)\n        - [右上Github](#右上github)\n        - [页尾信息 footer](#页尾信息-footer)\n    - [其他样式 views](#其他样式-views)\n        - [关于 about](#关于-about)\n        - [标签 tags](#标签-tags)\n        - [分类 categorise](#分类-categorise)\n        - [搜索 search](#搜索-search)\n        - [自定义 ...](#自定义-)\n    - [文章样式 mainView](#文章样式-mainview)\n        - [标签优化](#标签优化)\n        - [评论引入](#评论引入)\n        - [谷歌-百度收录](#谷歌-百度收录)\n        - [访问量查看](#访问量查看)\n        - [底部版权信息](#底部版权信息)\n\n<!-- /TOC -->\n\n\n\n\n\n## 基建 Base\n### 依赖环境 environment\n\n    //在node.js官网去下载安装\n    node.js       \n          \n    //Shell \n    //hexo-client  hexo客户端安装         \n    npm install hexo-cli -g\n    \n    //hexo-deployer-git   //git工具\n    npm install hexo-deployer-git --save    \n   \n    //hexo-md-img-plagin  //图片编辑格式统一插件\n    npm install https://github.com/CodeFalling/hexo-asset-image --save   \n    \n    //hexo-generator-search   //搜索插件\n    npm install hexo-generator-search --save    \n     \n    //标签云插件\n    npm install hexo-tag-cloud@^2.0.* --save\n    \n    //站点地图生成插件  百度和谷歌\n    npm install hexo-generator-baidu-sitemap --save    \n    npm install hexo-generator-sitemap --save           //谷歌\n    \n    //多媒体插件\n    npm install hexo-tag-aplayer    //音频\n    npm install hexo-tag-dplayer    //视频\n    \n    //貌似全局用的安装工具\n    npm install -g npm-install-peers\n         \ngithub-create the Rep[repName=uid.github.io]  \n\n### 常用命令 command\n\n####[写作细节](https://hexo.io/docs/writing.html)\n\n    $ hexo init <folder>    //hexo io 建立hexo项目文件夹\n    $ cd <folder>           //cd io\n    $ npm install           //        部署项目文件\n\n####转移项目时  \n1.先git项目到本地，文件夹改名（如io->ioo）  \n2.新建io 文件夹，cd进去，npm install  \n3.此时将ioo中文件全部覆盖到io文件夹  \n之后可以在自己的ide中编辑了\n\n#### 在_posts 文件夹中新建md文档编辑就好\nmd文件头：  \n\n    ---\n    title: 标题\n    \n    tags: \n        - 标签1  \n        - 标签2  \n        \n    categories: \n        - 分类1   \n        - 分类2  \n    \n    date: 2018-08-008 13:00:00\n    ---\n    \n    index页显示简介内容\n    <!-- more -->   //简介-正文分割符\n    \n文件头根据需要可加入别的属性  \n#### 发布\n    $ hexo generate     //将md文件生成需要部署的html静态页面\n    $ hexo server       //本地启动查看 [http://localhost:4000/](http://localhost:4000/)\n    $ hexo deploy       //发布到git地址\n生成发布可直接简写：  \n\n    $ hexo g -d\n    $ hexo d -g\n\n[发布细节](https://hexo.io/docs/deployment.html)  \n可以多定义几个deloy，deloy命令后会依次来repo,\n同时一起更新到github,gitlee,码云等。\n前提要创建好repo，对应站点定义好SSH key。\n\n\n## 主题轻改 Theme-Next\n### 基本信息 baseInfo\n#### 站点设置 siteInfo\n#### 侧边栏信息 authorInfo\n\n### 首页样式 viewIndex\n#### 博文块样式 blockView\n使用Gemini主题下修改\n#### 首页文章标题与文章简介的距离\n    默认值60\n    更改css样式 margin{上右下左}/{上右下}/{上下-右左}\n    src/setNext.md\n    位置：themes/next/source/css/_common/components/post/post-meta.styl\n    行号：02\n#### 首页文章标题-对齐\n    位置：themes/next/source/css/_common/components/post/post-title.styl\n    行号：02\n    默认：center\n    改为：left\n#### 阅读全文按钮调整\n    位置：themes/next/source/css/_variables/base.styl\n    行号：164-165\n    默认： $btn-default-border-width       = 2px\n          $btn-default-border-color       = $black-deep\n    \n    对齐-边距：\n    位置：themes/next/source/css/_common/components/post/post-button.styl\n    添加：text-align: left;    //对齐\n          margin-top: 4px;      //与简介边距$Ans*2\n    \n    按钮边距：\n    位置：themes/next/source/css/_common/components/buttons.styl\n    修改：padding: 0 0px;\n    默认：padding: 0 2px;\n#### 底层动画   cssFlash\n#### 右上Github \n#### index页面加载条\n这个如果用的是比较新的NexT主题，只需要在配置文件里面进行修改就可以了。\n旧的话，就需要对/next/layout/_partials/head.swig文件做些修改，添加对应的代码。  \n```\n    <script src=\"//cdn.bootcss.com/pace/1.0.2/pace.min.js\"></script>\n    <link href=\"//cdn.bootcss.com/pace/1.0.2/themes/pink/pace-theme-flash.css\" rel=\"stylesheet\">\n    <style>\n    .pace .pace-progress {\n        background: #1E92FB; /*进度条颜色*/\n        height: 3px;\n    }\n    .pace .pace-progress-inner {\n         box-shadow: 0 0 10px #1E92FB, 0 0 5px     #1E92FB; /*阴影颜色*/\n    }\n    .pace .pace-activity {\n        border-top-color: #1E92FB;    /*上边框颜色*/\n        border-left-color: #1E92FB;    /*左边框颜色*/\n    }\n    </style>\n```\n\n#### 标签云\n    \n    找到文件 next/layout/_macro/sidebar.swig, 然后添加如下内容。\n    \n    {% if site.tags.length > 1 %}\n    <script type=\"text/javascript\" charset=\"utf-8\" src=\"/js/tagcloud.js\"></script>\n    <script type=\"text/javascript\" charset=\"utf-8\" src=\"/js/tagcanvas.js\"></script>\n    <div class=\"widget-wrap\">\n        <h3 class=\"widget-title\">Tag Cloud</h3>\n        <div id=\"myCanvasContainer\" class=\"widget tagcloud\">\n            <canvas width=\"250\" height=\"250\" id=\"resCanvas\" style=\"width=100%\">\n                {{ list_tags() }}\n            </canvas>\n        </div>\n    </div>\n    {% endif %}\n\n#### 页尾信息 footer\n   位置：\\themes\\next\\layout\\_partials\\footer.swig\n   搜索标签：\n   <div class=\"author\">\n   <div class=\"powered-by\">\n   <div class=\"theme-info\">\n   更改以上3标签内部链接内容\n   \n   同时可对以上标签弱修改，可修改语言配置文件\n   位置：\\themes\\next\\languages\\ \n\n### 其他样式 views\n#### 关于 about\n#### 标签 tags\n#### 分类 categorise\n#### 搜索 search\n\n添加本地搜索  \n安装 hexo-generator-search，在nanshanyi.github.io目录下执行以下命令：\n\n    $ npm install hexo-generator-search --save\n在   next/_config.yml添加  \n\n    search: \n      path: search.xml\n      field: post\n      format: html\n      limit: 10000\n同时在该文件中开启search功能 local_search改为true\n    \n    local_search:\n      enable: true\n\n#### 自定义 ...  \n### 文章样式 mainView\n#### 标签优化\n\n\n#### 谷歌-百度收录\n#### 访问量查看\n   打开\\themes\\next\\layout\\_partials\\footer.swig文件,\n   在《div class=\"copyright\"》 前加入以下这句：\n   \n   ```\n   <script async src=\"https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js\"></script>\n   ```\n   之后再合适的位置添加显示统计代码：\n   ```\n    <div class=\"powered-by\">\n    <i class=\"fa fa-user-md\"></i><span id=\"busuanzi_container_site_uv\">\n      本站访客数:<span id=\"busuanzi_value_site_uv\"></span>\n    </span>\n    </div>\n   ```\n   该脚本有两种不同的计算统计代码\n   pv统计：单用户连续点击n篇文章，记录n次访问量\n   ```\n    <span id=\"busuanzi_container_site_pv\">\n        本站总访问量<span id=\"busuanzi_value_site_pv\"></span>次\n    </span>\n   ```\n   uv统计：单用户连续点击n篇文章，记录1次访问量\n   ```\n    <span id=\"busuanzi_container_site_uv\">\n      本站总访问量<span id=\"busuanzi_value_site_uv\"></span>次\n    </span>\n   ```\n\n#### 底部版权信息\n在目录 next/layout/_macro/下添加 my-copyright.swig：\n```\n    {% if page.copyright %}\n    <div class=\"my_post_copyright\">\n      <script src=\"//cdn.bootcss.com/clipboard.js/1.5.10/clipboard.min.js\"></script>\n    \n      <!-- JS库 sweetalert 可修改路径 -->\n      <script src=\"https://cdn.bootcss.com/jquery/2.0.0/jquery.min.js\"></script>\n      <script src=\"https://unpkg.com/sweetalert/dist/sweetalert.min.js\"></script>\n      <p><span>本文标题:</span><a href=\"{{ url_for(page.path) }}\">{{ page.title }}</a></p>\n      <p><span>文章作者:</span><a href=\"/\" title=\"访问 {{ theme.author }} 的个人博客\">{{ theme.author }}</a></p>\n      <p><span>发布时间:</span>{{ page.date.format(\"YYYY年MM月DD日 - HH:MM\") }}</p>\n      <p><span>最后更新:</span>{{ page.updated.format(\"YYYY年MM月DD日 - HH:MM\") }}</p>\n      <p><span>原始链接:</span><a href=\"{{ url_for(page.path) }}\" title=\"{{ page.title }}\">{{ page.permalink }}</a>\n        <span class=\"copy-path\"  title=\"点击复制文章链接\"><i class=\"fa fa-clipboard\" data-clipboard-text=\"{{ page.permalink }}\"  aria-label=\"复制成功！\"></i></span>\n      </p>\n      <p><span>许可协议:</span><i class=\"fa fa-creative-commons\"></i> <a rel=\"license\" href=\"https://creativecommons.org/licenses/by-nc-nd/4.0/\" target=\"_blank\" title=\"Attribution-NonCommercial-NoDerivatives 4.0 International (CC BY-NC-ND 4.0)\">署名-非商业性使用-禁止演绎 4.0 国际</a> 转载请保留原文链接及作者。</p>  \n    </div>\n    <script> \n        var clipboard = new Clipboard('.fa-clipboard');\n          $(\".fa-clipboard\").click(function(){\n          clipboard.on('success', function(){\n            swal({   \n              title: \"\",   \n              text: '复制成功',\n              icon: \"success\", \n              showConfirmButton: true\n              });\n            });\n        });  \n    </script>\n    {% endif %}\n```\n在目录next/source/css/_common/components/post/下添加my-post-copyright.styl：\n```\n    .my_post_copyright {\n      width: 85%;\n      max-width: 45em;\n      margin: 2.8em auto 0;\n      padding: 0.5em 1.0em;\n      border: 1px solid #d3d3d3;\n      font-size: 0.93rem;\n      line-height: 1.6em;\n      word-break: break-all;\n      background: rgba(255,255,255,0.4);\n    }\n    .my_post_copyright p{margin:0;}\n    .my_post_copyright span {\n      display: inline-block;\n      width: 5.2em;\n      color: #b5b5b5;\n      font-weight: bold;\n    }\n    .my_post_copyright .raw {\n      margin-left: 1em;\n      width: 5em;\n    }\n    .my_post_copyright a {\n      color: #808080;\n      border-bottom:0;\n    }\n    .my_post_copyright a:hover {\n      color: #a3d2a3;\n      text-decoration: underline;\n    }\n    .my_post_copyright:hover .fa-clipboard {\n      color: #000;\n    }\n    .my_post_copyright .post-url:hover {\n      font-weight: normal;\n    }\n    .my_post_copyright .copy-path {\n      margin-left: 1em;\n      width: 1em;\n      +mobile(){display:none;}\n    }\n    .my_post_copyright .copy-path:hover {\n      color: #808080;\n      cursor: pointer;\n    }\n```\n修改next/layout/_macro/post.swig，在代码\n```\n<div>\n      {% if not is_index %}\n        {% include 'wechat-subscriber.swig' %}\n      {% endif %}\n</div>\n```\n之前添加增加如下代码：\n```\n<div>\n      {% if not is_index %}\n        {% include 'my-copyright.swig' %}\n      {% endif %}\n</div>\n```\n修改next/source/css/_common/components/post/post.styl文件，在最后一行增加代码：\n```\n@import \"my-post-copyright\"\n```\n保存重新生成即可。 \n如果要在该博文下面增加版权信息的显示，需要在 Markdown 中增加copyright: true的设置，类似：\n```\n    ---\n    title: 前端小项目：使用canvas绘画哆啦A梦\n    date: 2017-05-22 22:53:53\n    tags: canvas\n    categories: 前端\n    copyright: true\n    ---\n```\n\n### 三方\n\n#### 评论-来必力\n1.登陆[官网](https://livere.com/) \n进行[注册](https://was.livere.me/register?lang=zh-cn)等事宜  \n2.Next中进行设置  \n\nNext中设置\n1.首先在 _config.yml 文件中添加如下配置：  \n\n    # Support for LiveRe comments system.\n    # You can get your uid from https://livere.com/insight/myCode (General web site)\n    livere_uid: your uid\n\n#### 评论-valine\n我们的评论系统其实是放在Leancloud上的，因此首先需要去注册一个账号  \n[Leancloud官网](https://leancloud.cn/dashboard/data.html?appid=dU4DFkRRQqU30bvT0uXQmhSw-gzGzoHsz#/)\n注册完以后需要创建一个应用，名字可以随便起，然后 进入应用->设置->应用key  \n获取你的appid 和 appkey  \n\nNext中已经内置，在_config中设置开启\n\n    valine:\n      enable: true\n      appid:  your app id\n      appkey: your app key\n      notify: false # mail notifier , https://github.com/xCss/Valine/wiki\n      verify: false # Verification code\n      placeholder: ヾﾉ≧∀≦)o来啊，快活啊! \n      guest_info: nick,mail,link\n      pageSize: 10\n\n\n#### SEO优化\n    \n#####站点地图\n站点地图即sitemap， 是一个页面，上面放置了网站上需要搜索引擎抓取的所有页面的链接。\n站点地图可以告诉搜索引擎网站上有哪些可供抓取的网页，以便搜索引擎可以更加智能地抓取网站。  \n生成站点地图\n安装百度和Google的站点地图生成插件：\n    \n    npm install hexo-generator-sitemap --save       //google\n    npm install hexo-generator-baidu-sitemap --save       \n#####修改配置文件\n修改站点配置文件_config.yml，添加以下内容：\n\n    # 自动生成sitemap\n    sitemap:\n      path: sitemap.xml\n    baidusitemap:\n      path: baidusitemap.xml    \n在hexo g后，public目录下会有sitemap.xml和baidusitemap.xml两个文件，\n这就是生成的站点地图。  \n前往百度提交入口和谷歌提交入口，进行文件验证:  \n下载他他们的验证文件html,\n在_config文件中找到skip_render属性，存入  \n    \n    //避免被hexo渲染\n    skip_render: [googleb2b4a4dcdb4a9ac4.html, baidu_verify_R6YFRwbiQw.html]\n重新渲染文件： hexo clean hexo d -g\n再进行站长验证.  \n验证成功后前往各自站点提交sitemap\n\n\n#### 多媒体\n插件\nnpm install hexo-tag-aplayer    //音频\nnpm install hexo-tag-dplayer    //视频\n##### 视频\nmd中插入  \n\n    {   % dplayer\n         \"url=http://home.ustc.edu.cn/~mmmwhy/GEM.mp4\"  \n         \"pic=http://home.ustc.edu.cn/~mmmwhy/GEM.jpg\" \n         \"loop=yes\" \n         \"theme=#FADFA3\" \n         \"autoplay=false\" \n         \"token=tokendemo\" \n    %}\nkey的属性有：\n    \n    dplayer options:\n        'autoplay', 'loop', 'screenshot','hotkey', 'mutex', 'dmunlimited' : bool options, use \"yes\" \"y\" \"true\" \"1\" \"on\" or just without value to enable\n        'preload', 'theme', 'lang', 'logo', 'url', 'pic', 'thumbnails', 'vidtype', 'suburl', 'subtype', 'subbottom', 'subcolor', 'subcolor', 'id', 'api', 'token', 'addition', 'dmuser' : string arguments\n        'volume', 'maximum' : number arguments\n    container options:\n        'width', 'height' : string, used in container element style\n    other:\n        'code' : value of this key will be append to script tag\n    \n\n##### 音频\n\n\n","source":"_posts/setting/setting-hexo.md","raw":"---\ntitle: Hexo-Next 设置|备忘\ncopyright: true  \ntags: \n    - hexo \n    - setting  \n\ncategories: \n    - setting\n    - blog\n\ndate: 2017-01-010 13:00:00\n---\n\n  嗨，Hello,本文为第一篇Hexo博客文章 🐳🐋🐟🐳🐋🐟🐳🐋🐳🐋🐟\n  代码基地[github/hongxii](https://github.com/colinst)!\n  个人网站域名(架设中)[gitmmp.com](https://gitmmp.com)!\n  欢迎来到我的博客 [Blog.gitmmp.com](https://colinst.github.io)!  \nHexo + Next的组合可以无限优化，甚至某些组织站点都用hexo作为发布,个人博客不必花费太多的时间，如果做组织网站则建议使用灵活度更高的主题（[icarus](https://blog.zhangruipeng.me/hexo-theme-icarus/)）。\n仅用一文说明设计部署等关键点，个性化范围等关键点，花太多时间在上面也不好，本文轻改Next主题。以下为目录：\n<!-- more -->\n\n## 文章目录：\n<!-- TOC -->\n\n- [基建 Base](#基建-base)\n    - [依赖环境 environment](#依赖环境-environment)\n    - [常用命令 command](#常用命令-command)\n- [主题轻改 Theme-Next](#主题轻改-theme-next)\n    - [基本信息 baseInfo](#基本信息-baseinfo)\n        - [站点设置 siteInfo](#站点设置-siteinfo)\n        - [侧边栏信息 authorInfo](#侧边栏信息-authorinfo)\n    - [首页样式 viewIndex](#首页样式-viewindex)\n        - [博文块样式 blockView](#博文块样式-blockview)\n        - [底层动画   cssFlash](#底层动画---cssflash)\n        - [右上Github](#右上github)\n        - [页尾信息 footer](#页尾信息-footer)\n    - [其他样式 views](#其他样式-views)\n        - [关于 about](#关于-about)\n        - [标签 tags](#标签-tags)\n        - [分类 categorise](#分类-categorise)\n        - [搜索 search](#搜索-search)\n        - [自定义 ...](#自定义-)\n    - [文章样式 mainView](#文章样式-mainview)\n        - [标签优化](#标签优化)\n        - [评论引入](#评论引入)\n        - [谷歌-百度收录](#谷歌-百度收录)\n        - [访问量查看](#访问量查看)\n        - [底部版权信息](#底部版权信息)\n\n<!-- /TOC -->\n\n\n\n\n\n## 基建 Base\n### 依赖环境 environment\n\n    //在node.js官网去下载安装\n    node.js       \n          \n    //Shell \n    //hexo-client  hexo客户端安装         \n    npm install hexo-cli -g\n    \n    //hexo-deployer-git   //git工具\n    npm install hexo-deployer-git --save    \n   \n    //hexo-md-img-plagin  //图片编辑格式统一插件\n    npm install https://github.com/CodeFalling/hexo-asset-image --save   \n    \n    //hexo-generator-search   //搜索插件\n    npm install hexo-generator-search --save    \n     \n    //标签云插件\n    npm install hexo-tag-cloud@^2.0.* --save\n    \n    //站点地图生成插件  百度和谷歌\n    npm install hexo-generator-baidu-sitemap --save    \n    npm install hexo-generator-sitemap --save           //谷歌\n    \n    //多媒体插件\n    npm install hexo-tag-aplayer    //音频\n    npm install hexo-tag-dplayer    //视频\n    \n    //貌似全局用的安装工具\n    npm install -g npm-install-peers\n         \ngithub-create the Rep[repName=uid.github.io]  \n\n### 常用命令 command\n\n####[写作细节](https://hexo.io/docs/writing.html)\n\n    $ hexo init <folder>    //hexo io 建立hexo项目文件夹\n    $ cd <folder>           //cd io\n    $ npm install           //        部署项目文件\n\n####转移项目时  \n1.先git项目到本地，文件夹改名（如io->ioo）  \n2.新建io 文件夹，cd进去，npm install  \n3.此时将ioo中文件全部覆盖到io文件夹  \n之后可以在自己的ide中编辑了\n\n#### 在_posts 文件夹中新建md文档编辑就好\nmd文件头：  \n\n    ---\n    title: 标题\n    \n    tags: \n        - 标签1  \n        - 标签2  \n        \n    categories: \n        - 分类1   \n        - 分类2  \n    \n    date: 2018-08-008 13:00:00\n    ---\n    \n    index页显示简介内容\n    <!-- more -->   //简介-正文分割符\n    \n文件头根据需要可加入别的属性  \n#### 发布\n    $ hexo generate     //将md文件生成需要部署的html静态页面\n    $ hexo server       //本地启动查看 [http://localhost:4000/](http://localhost:4000/)\n    $ hexo deploy       //发布到git地址\n生成发布可直接简写：  \n\n    $ hexo g -d\n    $ hexo d -g\n\n[发布细节](https://hexo.io/docs/deployment.html)  \n可以多定义几个deloy，deloy命令后会依次来repo,\n同时一起更新到github,gitlee,码云等。\n前提要创建好repo，对应站点定义好SSH key。\n\n\n## 主题轻改 Theme-Next\n### 基本信息 baseInfo\n#### 站点设置 siteInfo\n#### 侧边栏信息 authorInfo\n\n### 首页样式 viewIndex\n#### 博文块样式 blockView\n使用Gemini主题下修改\n#### 首页文章标题与文章简介的距离\n    默认值60\n    更改css样式 margin{上右下左}/{上右下}/{上下-右左}\n    src/setNext.md\n    位置：themes/next/source/css/_common/components/post/post-meta.styl\n    行号：02\n#### 首页文章标题-对齐\n    位置：themes/next/source/css/_common/components/post/post-title.styl\n    行号：02\n    默认：center\n    改为：left\n#### 阅读全文按钮调整\n    位置：themes/next/source/css/_variables/base.styl\n    行号：164-165\n    默认： $btn-default-border-width       = 2px\n          $btn-default-border-color       = $black-deep\n    \n    对齐-边距：\n    位置：themes/next/source/css/_common/components/post/post-button.styl\n    添加：text-align: left;    //对齐\n          margin-top: 4px;      //与简介边距$Ans*2\n    \n    按钮边距：\n    位置：themes/next/source/css/_common/components/buttons.styl\n    修改：padding: 0 0px;\n    默认：padding: 0 2px;\n#### 底层动画   cssFlash\n#### 右上Github \n#### index页面加载条\n这个如果用的是比较新的NexT主题，只需要在配置文件里面进行修改就可以了。\n旧的话，就需要对/next/layout/_partials/head.swig文件做些修改，添加对应的代码。  \n```\n    <script src=\"//cdn.bootcss.com/pace/1.0.2/pace.min.js\"></script>\n    <link href=\"//cdn.bootcss.com/pace/1.0.2/themes/pink/pace-theme-flash.css\" rel=\"stylesheet\">\n    <style>\n    .pace .pace-progress {\n        background: #1E92FB; /*进度条颜色*/\n        height: 3px;\n    }\n    .pace .pace-progress-inner {\n         box-shadow: 0 0 10px #1E92FB, 0 0 5px     #1E92FB; /*阴影颜色*/\n    }\n    .pace .pace-activity {\n        border-top-color: #1E92FB;    /*上边框颜色*/\n        border-left-color: #1E92FB;    /*左边框颜色*/\n    }\n    </style>\n```\n\n#### 标签云\n    \n    找到文件 next/layout/_macro/sidebar.swig, 然后添加如下内容。\n    \n    {% if site.tags.length > 1 %}\n    <script type=\"text/javascript\" charset=\"utf-8\" src=\"/js/tagcloud.js\"></script>\n    <script type=\"text/javascript\" charset=\"utf-8\" src=\"/js/tagcanvas.js\"></script>\n    <div class=\"widget-wrap\">\n        <h3 class=\"widget-title\">Tag Cloud</h3>\n        <div id=\"myCanvasContainer\" class=\"widget tagcloud\">\n            <canvas width=\"250\" height=\"250\" id=\"resCanvas\" style=\"width=100%\">\n                {{ list_tags() }}\n            </canvas>\n        </div>\n    </div>\n    {% endif %}\n\n#### 页尾信息 footer\n   位置：\\themes\\next\\layout\\_partials\\footer.swig\n   搜索标签：\n   <div class=\"author\">\n   <div class=\"powered-by\">\n   <div class=\"theme-info\">\n   更改以上3标签内部链接内容\n   \n   同时可对以上标签弱修改，可修改语言配置文件\n   位置：\\themes\\next\\languages\\ \n\n### 其他样式 views\n#### 关于 about\n#### 标签 tags\n#### 分类 categorise\n#### 搜索 search\n\n添加本地搜索  \n安装 hexo-generator-search，在nanshanyi.github.io目录下执行以下命令：\n\n    $ npm install hexo-generator-search --save\n在   next/_config.yml添加  \n\n    search: \n      path: search.xml\n      field: post\n      format: html\n      limit: 10000\n同时在该文件中开启search功能 local_search改为true\n    \n    local_search:\n      enable: true\n\n#### 自定义 ...  \n### 文章样式 mainView\n#### 标签优化\n\n\n#### 谷歌-百度收录\n#### 访问量查看\n   打开\\themes\\next\\layout\\_partials\\footer.swig文件,\n   在《div class=\"copyright\"》 前加入以下这句：\n   \n   ```\n   <script async src=\"https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js\"></script>\n   ```\n   之后再合适的位置添加显示统计代码：\n   ```\n    <div class=\"powered-by\">\n    <i class=\"fa fa-user-md\"></i><span id=\"busuanzi_container_site_uv\">\n      本站访客数:<span id=\"busuanzi_value_site_uv\"></span>\n    </span>\n    </div>\n   ```\n   该脚本有两种不同的计算统计代码\n   pv统计：单用户连续点击n篇文章，记录n次访问量\n   ```\n    <span id=\"busuanzi_container_site_pv\">\n        本站总访问量<span id=\"busuanzi_value_site_pv\"></span>次\n    </span>\n   ```\n   uv统计：单用户连续点击n篇文章，记录1次访问量\n   ```\n    <span id=\"busuanzi_container_site_uv\">\n      本站总访问量<span id=\"busuanzi_value_site_uv\"></span>次\n    </span>\n   ```\n\n#### 底部版权信息\n在目录 next/layout/_macro/下添加 my-copyright.swig：\n```\n    {% if page.copyright %}\n    <div class=\"my_post_copyright\">\n      <script src=\"//cdn.bootcss.com/clipboard.js/1.5.10/clipboard.min.js\"></script>\n    \n      <!-- JS库 sweetalert 可修改路径 -->\n      <script src=\"https://cdn.bootcss.com/jquery/2.0.0/jquery.min.js\"></script>\n      <script src=\"https://unpkg.com/sweetalert/dist/sweetalert.min.js\"></script>\n      <p><span>本文标题:</span><a href=\"{{ url_for(page.path) }}\">{{ page.title }}</a></p>\n      <p><span>文章作者:</span><a href=\"/\" title=\"访问 {{ theme.author }} 的个人博客\">{{ theme.author }}</a></p>\n      <p><span>发布时间:</span>{{ page.date.format(\"YYYY年MM月DD日 - HH:MM\") }}</p>\n      <p><span>最后更新:</span>{{ page.updated.format(\"YYYY年MM月DD日 - HH:MM\") }}</p>\n      <p><span>原始链接:</span><a href=\"{{ url_for(page.path) }}\" title=\"{{ page.title }}\">{{ page.permalink }}</a>\n        <span class=\"copy-path\"  title=\"点击复制文章链接\"><i class=\"fa fa-clipboard\" data-clipboard-text=\"{{ page.permalink }}\"  aria-label=\"复制成功！\"></i></span>\n      </p>\n      <p><span>许可协议:</span><i class=\"fa fa-creative-commons\"></i> <a rel=\"license\" href=\"https://creativecommons.org/licenses/by-nc-nd/4.0/\" target=\"_blank\" title=\"Attribution-NonCommercial-NoDerivatives 4.0 International (CC BY-NC-ND 4.0)\">署名-非商业性使用-禁止演绎 4.0 国际</a> 转载请保留原文链接及作者。</p>  \n    </div>\n    <script> \n        var clipboard = new Clipboard('.fa-clipboard');\n          $(\".fa-clipboard\").click(function(){\n          clipboard.on('success', function(){\n            swal({   \n              title: \"\",   \n              text: '复制成功',\n              icon: \"success\", \n              showConfirmButton: true\n              });\n            });\n        });  \n    </script>\n    {% endif %}\n```\n在目录next/source/css/_common/components/post/下添加my-post-copyright.styl：\n```\n    .my_post_copyright {\n      width: 85%;\n      max-width: 45em;\n      margin: 2.8em auto 0;\n      padding: 0.5em 1.0em;\n      border: 1px solid #d3d3d3;\n      font-size: 0.93rem;\n      line-height: 1.6em;\n      word-break: break-all;\n      background: rgba(255,255,255,0.4);\n    }\n    .my_post_copyright p{margin:0;}\n    .my_post_copyright span {\n      display: inline-block;\n      width: 5.2em;\n      color: #b5b5b5;\n      font-weight: bold;\n    }\n    .my_post_copyright .raw {\n      margin-left: 1em;\n      width: 5em;\n    }\n    .my_post_copyright a {\n      color: #808080;\n      border-bottom:0;\n    }\n    .my_post_copyright a:hover {\n      color: #a3d2a3;\n      text-decoration: underline;\n    }\n    .my_post_copyright:hover .fa-clipboard {\n      color: #000;\n    }\n    .my_post_copyright .post-url:hover {\n      font-weight: normal;\n    }\n    .my_post_copyright .copy-path {\n      margin-left: 1em;\n      width: 1em;\n      +mobile(){display:none;}\n    }\n    .my_post_copyright .copy-path:hover {\n      color: #808080;\n      cursor: pointer;\n    }\n```\n修改next/layout/_macro/post.swig，在代码\n```\n<div>\n      {% if not is_index %}\n        {% include 'wechat-subscriber.swig' %}\n      {% endif %}\n</div>\n```\n之前添加增加如下代码：\n```\n<div>\n      {% if not is_index %}\n        {% include 'my-copyright.swig' %}\n      {% endif %}\n</div>\n```\n修改next/source/css/_common/components/post/post.styl文件，在最后一行增加代码：\n```\n@import \"my-post-copyright\"\n```\n保存重新生成即可。 \n如果要在该博文下面增加版权信息的显示，需要在 Markdown 中增加copyright: true的设置，类似：\n```\n    ---\n    title: 前端小项目：使用canvas绘画哆啦A梦\n    date: 2017-05-22 22:53:53\n    tags: canvas\n    categories: 前端\n    copyright: true\n    ---\n```\n\n### 三方\n\n#### 评论-来必力\n1.登陆[官网](https://livere.com/) \n进行[注册](https://was.livere.me/register?lang=zh-cn)等事宜  \n2.Next中进行设置  \n\nNext中设置\n1.首先在 _config.yml 文件中添加如下配置：  \n\n    # Support for LiveRe comments system.\n    # You can get your uid from https://livere.com/insight/myCode (General web site)\n    livere_uid: your uid\n\n#### 评论-valine\n我们的评论系统其实是放在Leancloud上的，因此首先需要去注册一个账号  \n[Leancloud官网](https://leancloud.cn/dashboard/data.html?appid=dU4DFkRRQqU30bvT0uXQmhSw-gzGzoHsz#/)\n注册完以后需要创建一个应用，名字可以随便起，然后 进入应用->设置->应用key  \n获取你的appid 和 appkey  \n\nNext中已经内置，在_config中设置开启\n\n    valine:\n      enable: true\n      appid:  your app id\n      appkey: your app key\n      notify: false # mail notifier , https://github.com/xCss/Valine/wiki\n      verify: false # Verification code\n      placeholder: ヾﾉ≧∀≦)o来啊，快活啊! \n      guest_info: nick,mail,link\n      pageSize: 10\n\n\n#### SEO优化\n    \n#####站点地图\n站点地图即sitemap， 是一个页面，上面放置了网站上需要搜索引擎抓取的所有页面的链接。\n站点地图可以告诉搜索引擎网站上有哪些可供抓取的网页，以便搜索引擎可以更加智能地抓取网站。  \n生成站点地图\n安装百度和Google的站点地图生成插件：\n    \n    npm install hexo-generator-sitemap --save       //google\n    npm install hexo-generator-baidu-sitemap --save       \n#####修改配置文件\n修改站点配置文件_config.yml，添加以下内容：\n\n    # 自动生成sitemap\n    sitemap:\n      path: sitemap.xml\n    baidusitemap:\n      path: baidusitemap.xml    \n在hexo g后，public目录下会有sitemap.xml和baidusitemap.xml两个文件，\n这就是生成的站点地图。  \n前往百度提交入口和谷歌提交入口，进行文件验证:  \n下载他他们的验证文件html,\n在_config文件中找到skip_render属性，存入  \n    \n    //避免被hexo渲染\n    skip_render: [googleb2b4a4dcdb4a9ac4.html, baidu_verify_R6YFRwbiQw.html]\n重新渲染文件： hexo clean hexo d -g\n再进行站长验证.  \n验证成功后前往各自站点提交sitemap\n\n\n#### 多媒体\n插件\nnpm install hexo-tag-aplayer    //音频\nnpm install hexo-tag-dplayer    //视频\n##### 视频\nmd中插入  \n\n    {   % dplayer\n         \"url=http://home.ustc.edu.cn/~mmmwhy/GEM.mp4\"  \n         \"pic=http://home.ustc.edu.cn/~mmmwhy/GEM.jpg\" \n         \"loop=yes\" \n         \"theme=#FADFA3\" \n         \"autoplay=false\" \n         \"token=tokendemo\" \n    %}\nkey的属性有：\n    \n    dplayer options:\n        'autoplay', 'loop', 'screenshot','hotkey', 'mutex', 'dmunlimited' : bool options, use \"yes\" \"y\" \"true\" \"1\" \"on\" or just without value to enable\n        'preload', 'theme', 'lang', 'logo', 'url', 'pic', 'thumbnails', 'vidtype', 'suburl', 'subtype', 'subbottom', 'subcolor', 'subcolor', 'id', 'api', 'token', 'addition', 'dmuser' : string arguments\n        'volume', 'maximum' : number arguments\n    container options:\n        'width', 'height' : string, used in container element style\n    other:\n        'code' : value of this key will be append to script tag\n    \n\n##### 音频\n\n\n","slug":"setting/setting-hexo","published":1,"updated":"2018-09-06T13:28:31.890Z","_id":"cjl8qv5tf000lhkeh9spwkk4r","comments":1,"layout":"post","photos":[],"link":"","content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"\\assets\\css\\APlayer.min.css\"><script src=\"\\assets\\js\\APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><p>  嗨，Hello,本文为第一篇Hexo博客文章 🐳🐋🐟🐳🐋🐟🐳🐋🐳🐋🐟\n  代码基地<a href=\"https://github.com/colinst\" target=\"_blank\" rel=\"noopener\">github/hongxii</a>!\n  个人网站域名(架设中)<a href=\"https://gitmmp.com\" target=\"_blank\" rel=\"noopener\">gitmmp.com</a>!\n  欢迎来到我的博客 <a href=\"https://colinst.github.io\" target=\"_blank\" rel=\"noopener\">Blog.gitmmp.com</a>!<br>Hexo + Next的组合可以无限优化，甚至某些组织站点都用hexo作为发布,个人博客不必花费太多的时间，如果做组织网站则建议使用灵活度更高的主题（<a href=\"https://blog.zhangruipeng.me/hexo-theme-icarus/\" target=\"_blank\" rel=\"noopener\">icarus</a>）。\n仅用一文说明设计部署等关键点，个性化范围等关键点，花太多时间在上面也不好，本文轻改Next主题。以下为目录：\n<a id=\"more\"></a></p>\n<h2 id=\"文章目录：\"><a href=\"#文章目录：\" class=\"headerlink\" title=\"文章目录：\"></a>文章目录：</h2><!-- TOC -->\n<ul>\n<li><a href=\"#基建-base\">基建 Base</a><ul>\n<li><a href=\"#依赖环境-environment\">依赖环境 environment</a></li>\n<li><a href=\"#常用命令-command\">常用命令 command</a></li>\n</ul>\n</li>\n<li><a href=\"#主题轻改-theme-next\">主题轻改 Theme-Next</a><ul>\n<li><a href=\"#基本信息-baseinfo\">基本信息 baseInfo</a><ul>\n<li><a href=\"#站点设置-siteinfo\">站点设置 siteInfo</a></li>\n<li><a href=\"#侧边栏信息-authorinfo\">侧边栏信息 authorInfo</a></li>\n</ul>\n</li>\n<li><a href=\"#首页样式-viewindex\">首页样式 viewIndex</a><ul>\n<li><a href=\"#博文块样式-blockview\">博文块样式 blockView</a></li>\n<li><a href=\"#底层动画---cssflash\">底层动画   cssFlash</a></li>\n<li><a href=\"#右上github\">右上Github</a></li>\n<li><a href=\"#页尾信息-footer\">页尾信息 footer</a></li>\n</ul>\n</li>\n<li><a href=\"#其他样式-views\">其他样式 views</a><ul>\n<li><a href=\"#关于-about\">关于 about</a></li>\n<li><a href=\"#标签-tags\">标签 tags</a></li>\n<li><a href=\"#分类-categorise\">分类 categorise</a></li>\n<li><a href=\"#搜索-search\">搜索 search</a></li>\n<li><a href=\"#自定义-\">自定义 …</a></li>\n</ul>\n</li>\n<li><a href=\"#文章样式-mainview\">文章样式 mainView</a><ul>\n<li><a href=\"#标签优化\">标签优化</a></li>\n<li><a href=\"#评论引入\">评论引入</a></li>\n<li><a href=\"#谷歌-百度收录\">谷歌-百度收录</a></li>\n<li><a href=\"#访问量查看\">访问量查看</a></li>\n<li><a href=\"#底部版权信息\">底部版权信息</a></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<!-- /TOC -->\n<h2 id=\"基建-Base\"><a href=\"#基建-Base\" class=\"headerlink\" title=\"基建 Base\"></a>基建 Base</h2><h3 id=\"依赖环境-environment\"><a href=\"#依赖环境-environment\" class=\"headerlink\" title=\"依赖环境 environment\"></a>依赖环境 environment</h3><pre><code>//在node.js官网去下载安装\nnode.js       \n\n//Shell \n//hexo-client  hexo客户端安装         \nnpm install hexo-cli -g\n\n//hexo-deployer-git   //git工具\nnpm install hexo-deployer-git --save    \n\n//hexo-md-img-plagin  //图片编辑格式统一插件\nnpm install https://github.com/CodeFalling/hexo-asset-image --save   \n\n//hexo-generator-search   //搜索插件\nnpm install hexo-generator-search --save    \n\n//标签云插件\nnpm install hexo-tag-cloud@^2.0.* --save\n\n//站点地图生成插件  百度和谷歌\nnpm install hexo-generator-baidu-sitemap --save    \nnpm install hexo-generator-sitemap --save           //谷歌\n\n//多媒体插件\nnpm install hexo-tag-aplayer    //音频\nnpm install hexo-tag-dplayer    //视频\n\n//貌似全局用的安装工具\nnpm install -g npm-install-peers\n</code></pre><p>github-create the Rep[repName=uid.github.io]  </p>\n<h3 id=\"常用命令-command\"><a href=\"#常用命令-command\" class=\"headerlink\" title=\"常用命令 command\"></a>常用命令 command</h3><p>####<a href=\"https://hexo.io/docs/writing.html\" target=\"_blank\" rel=\"noopener\">写作细节</a></p>\n<pre><code>$ hexo init &lt;folder&gt;    //hexo io 建立hexo项目文件夹\n$ cd &lt;folder&gt;           //cd io\n$ npm install           //        部署项目文件\n</code></pre><p>####转移项目时<br>1.先git项目到本地，文件夹改名（如io-&gt;ioo）<br>2.新建io 文件夹，cd进去，npm install<br>3.此时将ioo中文件全部覆盖到io文件夹<br>之后可以在自己的ide中编辑了</p>\n<h4 id=\"在-posts-文件夹中新建md文档编辑就好\"><a href=\"#在-posts-文件夹中新建md文档编辑就好\" class=\"headerlink\" title=\"在_posts 文件夹中新建md文档编辑就好\"></a>在_posts 文件夹中新建md文档编辑就好</h4><p>md文件头：  </p>\n<pre><code>---\ntitle: 标题\n\ntags: \n    - 标签1  \n    - 标签2  \n\ncategories: \n    - 分类1   \n    - 分类2  \n\ndate: 2018-08-008 13:00:00\n---\n\nindex页显示简介内容\n&lt;!-- more --&gt;   //简介-正文分割符\n</code></pre><p>文件头根据需要可加入别的属性  </p>\n<h4 id=\"发布\"><a href=\"#发布\" class=\"headerlink\" title=\"发布\"></a>发布</h4><pre><code>$ hexo generate     //将md文件生成需要部署的html静态页面\n$ hexo server       //本地启动查看 [http://localhost:4000/](http://localhost:4000/)\n$ hexo deploy       //发布到git地址\n</code></pre><p>生成发布可直接简写：  </p>\n<pre><code>$ hexo g -d\n$ hexo d -g\n</code></pre><p><a href=\"https://hexo.io/docs/deployment.html\" target=\"_blank\" rel=\"noopener\">发布细节</a><br>可以多定义几个deloy，deloy命令后会依次来repo,\n同时一起更新到github,gitlee,码云等。\n前提要创建好repo，对应站点定义好SSH key。</p>\n<h2 id=\"主题轻改-Theme-Next\"><a href=\"#主题轻改-Theme-Next\" class=\"headerlink\" title=\"主题轻改 Theme-Next\"></a>主题轻改 Theme-Next</h2><h3 id=\"基本信息-baseInfo\"><a href=\"#基本信息-baseInfo\" class=\"headerlink\" title=\"基本信息 baseInfo\"></a>基本信息 baseInfo</h3><h4 id=\"站点设置-siteInfo\"><a href=\"#站点设置-siteInfo\" class=\"headerlink\" title=\"站点设置 siteInfo\"></a>站点设置 siteInfo</h4><h4 id=\"侧边栏信息-authorInfo\"><a href=\"#侧边栏信息-authorInfo\" class=\"headerlink\" title=\"侧边栏信息 authorInfo\"></a>侧边栏信息 authorInfo</h4><h3 id=\"首页样式-viewIndex\"><a href=\"#首页样式-viewIndex\" class=\"headerlink\" title=\"首页样式 viewIndex\"></a>首页样式 viewIndex</h3><h4 id=\"博文块样式-blockView\"><a href=\"#博文块样式-blockView\" class=\"headerlink\" title=\"博文块样式 blockView\"></a>博文块样式 blockView</h4><p>使用Gemini主题下修改</p>\n<h4 id=\"首页文章标题与文章简介的距离\"><a href=\"#首页文章标题与文章简介的距离\" class=\"headerlink\" title=\"首页文章标题与文章简介的距离\"></a>首页文章标题与文章简介的距离</h4><pre><code>默认值60\n更改css样式 margin{上右下左}/{上右下}/{上下-右左}\nsrc/setNext.md\n位置：themes/next/source/css/_common/components/post/post-meta.styl\n行号：02\n</code></pre><h4 id=\"首页文章标题-对齐\"><a href=\"#首页文章标题-对齐\" class=\"headerlink\" title=\"首页文章标题-对齐\"></a>首页文章标题-对齐</h4><pre><code>位置：themes/next/source/css/_common/components/post/post-title.styl\n行号：02\n默认：center\n改为：left\n</code></pre><h4 id=\"阅读全文按钮调整\"><a href=\"#阅读全文按钮调整\" class=\"headerlink\" title=\"阅读全文按钮调整\"></a>阅读全文按钮调整</h4><pre><code>位置：themes/next/source/css/_variables/base.styl\n行号：164-165\n默认： $btn-default-border-width       = 2px\n      $btn-default-border-color       = $black-deep\n\n对齐-边距：\n位置：themes/next/source/css/_common/components/post/post-button.styl\n添加：text-align: left;    //对齐\n      margin-top: 4px;      //与简介边距$Ans*2\n\n按钮边距：\n位置：themes/next/source/css/_common/components/buttons.styl\n修改：padding: 0 0px;\n默认：padding: 0 2px;\n</code></pre><h4 id=\"底层动画-cssFlash\"><a href=\"#底层动画-cssFlash\" class=\"headerlink\" title=\"底层动画   cssFlash\"></a>底层动画   cssFlash</h4><h4 id=\"右上Github\"><a href=\"#右上Github\" class=\"headerlink\" title=\"右上Github\"></a>右上Github</h4><h4 id=\"index页面加载条\"><a href=\"#index页面加载条\" class=\"headerlink\" title=\"index页面加载条\"></a>index页面加载条</h4><p>这个如果用的是比较新的NexT主题，只需要在配置文件里面进行修改就可以了。\n旧的话，就需要对/next/layout/_partials/head.swig文件做些修改，添加对应的代码。<br><figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">\"//cdn.bootcss.com/pace/1.0.2/pace.min.js\"</span>&gt;</span><span class=\"undefined\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">link</span> <span class=\"attr\">href</span>=<span class=\"string\">\"//cdn.bootcss.com/pace/1.0.2/themes/pink/pace-theme-flash.css\"</span> <span class=\"attr\">rel</span>=<span class=\"string\">\"stylesheet\"</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">style</span>&gt;</span><span class=\"undefined\"></span></span><br><span class=\"line\"><span class=\"css\"><span class=\"selector-class\">.pace</span> <span class=\"selector-class\">.pace-progress</span> &#123;</span></span><br><span class=\"line\"><span class=\"css\">    <span class=\"selector-tag\">background</span>: <span class=\"selector-id\">#1E92FB</span>; <span class=\"comment\">/*进度条颜色*/</span></span></span><br><span class=\"line\"><span class=\"undefined\">    height: 3px;</span></span><br><span class=\"line\"><span class=\"undefined\">&#125;</span></span><br><span class=\"line\"><span class=\"css\"><span class=\"selector-class\">.pace</span> <span class=\"selector-class\">.pace-progress-inner</span> &#123;</span></span><br><span class=\"line\"><span class=\"css\">     <span class=\"selector-tag\">box-shadow</span>: 0 0 10<span class=\"selector-tag\">px</span> <span class=\"selector-id\">#1E92FB</span>, 0 0 5<span class=\"selector-tag\">px</span>     <span class=\"selector-id\">#1E92FB</span>; <span class=\"comment\">/*阴影颜色*/</span></span></span><br><span class=\"line\"><span class=\"undefined\">&#125;</span></span><br><span class=\"line\"><span class=\"css\"><span class=\"selector-class\">.pace</span> <span class=\"selector-class\">.pace-activity</span> &#123;</span></span><br><span class=\"line\"><span class=\"css\">    <span class=\"selector-tag\">border-top-color</span>: <span class=\"selector-id\">#1E92FB</span>;    <span class=\"comment\">/*上边框颜色*/</span></span></span><br><span class=\"line\"><span class=\"css\">    <span class=\"selector-tag\">border-left-color</span>: <span class=\"selector-id\">#1E92FB</span>;    <span class=\"comment\">/*左边框颜色*/</span></span></span><br><span class=\"line\"><span class=\"undefined\">&#125;</span></span><br><span class=\"line\"><span class=\"undefined\"></span><span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span><br></pre></td></tr></table></figure></p>\n<h4 id=\"标签云\"><a href=\"#标签云\" class=\"headerlink\" title=\"标签云\"></a>标签云</h4><pre><code>找到文件 next/layout/_macro/sidebar.swig, 然后添加如下内容。\n\n{% if site.tags.length > 1 %}\n    <script type=\"text/javascript\" charset=\"utf-8\" src=\"/js/tagcloud.js\"></script>\n    <script type=\"text/javascript\" charset=\"utf-8\" src=\"/js/tagcanvas.js\"></script>\n    <div class=\"widget-wrap\">\n        <h3 class=\"widget-title\">Tag Cloud</h3>\n        <div id=\"myCanvasContainer\" class=\"widget tagcloud\">\n            <canvas width=\"250\" height=\"250\" id=\"resCanvas\" style=\"width=100%\">\n                {{ list_tags() }}\n            </canvas>\n        </div>\n    </div>\n    {% endif %}\n</code></pre><h4 id=\"页尾信息-footer\"><a href=\"#页尾信息-footer\" class=\"headerlink\" title=\"页尾信息 footer\"></a>页尾信息 footer</h4><p>   位置：\\themes\\next\\layout_partials\\footer.swig\n   搜索标签：\n   <div class=\"author\">\n   <div class=\"powered-by\">\n   <div class=\"theme-info\">\n   更改以上3标签内部链接内容</div></div></div></p>\n<p>   同时可对以上标签弱修改，可修改语言配置文件\n   位置：\\themes\\next\\languages\\ </p>\n<h3 id=\"其他样式-views\"><a href=\"#其他样式-views\" class=\"headerlink\" title=\"其他样式 views\"></a>其他样式 views</h3><h4 id=\"关于-about\"><a href=\"#关于-about\" class=\"headerlink\" title=\"关于 about\"></a>关于 about</h4><h4 id=\"标签-tags\"><a href=\"#标签-tags\" class=\"headerlink\" title=\"标签 tags\"></a>标签 tags</h4><h4 id=\"分类-categorise\"><a href=\"#分类-categorise\" class=\"headerlink\" title=\"分类 categorise\"></a>分类 categorise</h4><h4 id=\"搜索-search\"><a href=\"#搜索-search\" class=\"headerlink\" title=\"搜索 search\"></a>搜索 search</h4><p>添加本地搜索<br>安装 hexo-generator-search，在nanshanyi.github.io目录下执行以下命令：</p>\n<pre><code>$ npm install hexo-generator-search --save\n</code></pre><p>在   next/_config.yml添加  </p>\n<pre><code>search: \n  path: search.xml\n  field: post\n  format: html\n  limit: 10000\n</code></pre><p>同时在该文件中开启search功能 local_search改为true</p>\n<pre><code>local_search:\n  enable: true\n</code></pre><h4 id=\"自定义-…\"><a href=\"#自定义-…\" class=\"headerlink\" title=\"自定义 …\"></a>自定义 …</h4><h3 id=\"文章样式-mainView\"><a href=\"#文章样式-mainView\" class=\"headerlink\" title=\"文章样式 mainView\"></a>文章样式 mainView</h3><h4 id=\"标签优化\"><a href=\"#标签优化\" class=\"headerlink\" title=\"标签优化\"></a>标签优化</h4><h4 id=\"谷歌-百度收录\"><a href=\"#谷歌-百度收录\" class=\"headerlink\" title=\"谷歌-百度收录\"></a>谷歌-百度收录</h4><h4 id=\"访问量查看\"><a href=\"#访问量查看\" class=\"headerlink\" title=\"访问量查看\"></a>访问量查看</h4><p>   打开\\themes\\next\\layout_partials\\footer.swig文件,\n   在《div class=”copyright”》 前加入以下这句：</p>\n   <figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">async</span> <span class=\"attr\">src</span>=<span class=\"string\">\"https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js\"</span>&gt;</span><span class=\"undefined\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<p>   之后再合适的位置添加显示统计代码：\n   <figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;div <span class=\"class\"><span class=\"keyword\">class</span></span>=<span class=\"string\">\"powered-by\"</span>&gt;</span><br><span class=\"line\">&lt;i <span class=\"class\"><span class=\"keyword\">class</span></span>=<span class=\"string\">\"fa fa-user-md\"</span>&gt;<span class=\"xml\"><span class=\"tag\">&lt;/<span class=\"name\">i</span>&gt;</span></span><span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">span</span> <span class=\"attr\">id</span>=<span class=\"string\">\"busuanzi_container_site_uv\"</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">  本站访客数:<span class=\"tag\">&lt;<span class=\"name\">span</span> <span class=\"attr\">id</span>=<span class=\"string\">\"busuanzi_value_site_uv\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span></span><br><span class=\"line\">&lt;<span class=\"regexp\">/div&gt;</span></span><br></pre></td></tr></table></figure></p>\n<p>   该脚本有两种不同的计算统计代码\n   pv统计：单用户连续点击n篇文章，记录n次访问量\n   <figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">span</span> <span class=\"attr\">id</span>=<span class=\"string\">\"busuanzi_container_site_pv\"</span>&gt;</span></span><br><span class=\"line\">    本站总访问量<span class=\"tag\">&lt;<span class=\"name\">span</span> <span class=\"attr\">id</span>=<span class=\"string\">\"busuanzi_value_site_pv\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span>次</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span><br></pre></td></tr></table></figure></p>\n<p>   uv统计：单用户连续点击n篇文章，记录1次访问量\n   <figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">span</span> <span class=\"attr\">id</span>=<span class=\"string\">\"busuanzi_container_site_uv\"</span>&gt;</span></span><br><span class=\"line\">  本站总访问量<span class=\"tag\">&lt;<span class=\"name\">span</span> <span class=\"attr\">id</span>=<span class=\"string\">\"busuanzi_value_site_uv\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span>次</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span><br></pre></td></tr></table></figure></p>\n<h4 id=\"底部版权信息\"><a href=\"#底部版权信息\" class=\"headerlink\" title=\"底部版权信息\"></a>底部版权信息</h4><p>在目录 next/layout/_macro/下添加 my-copyright.swig：\n<figure class=\"highlight django\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"xml\"></span><span class=\"template-tag\">&#123;% <span class=\"name\"><span class=\"name\">if</span></span> page.copyright %&#125;</span><span class=\"xml\"></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"my_post_copyright\"</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">  <span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">\"//cdn.bootcss.com/clipboard.js/1.5.10/clipboard.min.js\"</span>&gt;</span><span class=\"undefined\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\"></span></span><br><span class=\"line\"><span class=\"xml\">  <span class=\"comment\">&lt;!-- JS库 sweetalert 可修改路径 --&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">  <span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">\"https://cdn.bootcss.com/jquery/2.0.0/jquery.min.js\"</span>&gt;</span><span class=\"undefined\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">  <span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">\"https://unpkg.com/sweetalert/dist/sweetalert.min.js\"</span>&gt;</span><span class=\"undefined\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">  <span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">span</span>&gt;</span>本文标题:<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">\"</span></span></span><span class=\"template-variable\">&#123;&#123; url_for(page.path) &#125;&#125;</span><span class=\"xml\"><span class=\"tag\"><span class=\"string\">\"</span>&gt;</span></span><span class=\"template-variable\">&#123;&#123; page.title &#125;&#125;</span><span class=\"xml\"><span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">  <span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">span</span>&gt;</span>文章作者:<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">\"/\"</span> <span class=\"attr\">title</span>=<span class=\"string\">\"访问 </span></span></span><span class=\"template-variable\">&#123;&#123; theme.author &#125;&#125;</span><span class=\"xml\"><span class=\"tag\"><span class=\"string\"> 的个人博客\"</span>&gt;</span></span><span class=\"template-variable\">&#123;&#123; theme.author &#125;&#125;</span><span class=\"xml\"><span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">  <span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">span</span>&gt;</span>发布时间:<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span><span class=\"template-variable\">&#123;&#123; page.date.format(\"YYYY年MM月DD日 - HH:MM\") &#125;&#125;</span><span class=\"xml\"><span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">  <span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">span</span>&gt;</span>最后更新:<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span><span class=\"template-variable\">&#123;&#123; page.updated.format(\"YYYY年MM月DD日 - HH:MM\") &#125;&#125;</span><span class=\"xml\"><span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">  <span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">span</span>&gt;</span>原始链接:<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">\"</span></span></span><span class=\"template-variable\">&#123;&#123; url_for(page.path) &#125;&#125;</span><span class=\"xml\"><span class=\"tag\"><span class=\"string\">\"</span> <span class=\"attr\">title</span>=<span class=\"string\">\"</span></span></span><span class=\"template-variable\">&#123;&#123; page.title &#125;&#125;</span><span class=\"xml\"><span class=\"tag\"><span class=\"string\">\"</span>&gt;</span></span><span class=\"template-variable\">&#123;&#123; page.permalink &#125;&#125;</span><span class=\"xml\"><span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">    <span class=\"tag\">&lt;<span class=\"name\">span</span> <span class=\"attr\">class</span>=<span class=\"string\">\"copy-path\"</span>  <span class=\"attr\">title</span>=<span class=\"string\">\"点击复制文章链接\"</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">i</span> <span class=\"attr\">class</span>=<span class=\"string\">\"fa fa-clipboard\"</span> <span class=\"attr\">data-clipboard-text</span>=<span class=\"string\">\"</span></span></span><span class=\"template-variable\">&#123;&#123; page.permalink &#125;&#125;</span><span class=\"xml\"><span class=\"tag\"><span class=\"string\">\"</span>  <span class=\"attr\">aria-label</span>=<span class=\"string\">\"复制成功！\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">i</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">  <span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">  <span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">span</span>&gt;</span>许可协议:<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">i</span> <span class=\"attr\">class</span>=<span class=\"string\">\"fa fa-creative-commons\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">i</span>&gt;</span> <span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">rel</span>=<span class=\"string\">\"license\"</span> <span class=\"attr\">href</span>=<span class=\"string\">\"https://creativecommons.org/licenses/by-nc-nd/4.0/\"</span> <span class=\"attr\">target</span>=<span class=\"string\">\"_blank\"</span> <span class=\"attr\">title</span>=<span class=\"string\">\"Attribution-NonCommercial-NoDerivatives 4.0 International (CC BY-NC-ND 4.0)\"</span>&gt;</span>署名-非商业性使用-禁止演绎 4.0 国际<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span> 转载请保留原文链接及作者。<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span>  </span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"undefined\"> </span></span></span><br><span class=\"line\"><span class=\"xml\">    var clipboard = new Clipboard('.fa-clipboard');</span></span><br><span class=\"line\"><span class=\"xml\">      $(\".fa-clipboard\").click(function()&#123;</span></span><br><span class=\"line\"><span class=\"xml\">      clipboard.on('success', function()&#123;</span></span><br><span class=\"line\"><span class=\"xml\">        swal(&#123;   </span></span><br><span class=\"line\"><span class=\"xml\">          title: \"\",   </span></span><br><span class=\"line\"><span class=\"xml\">          text: '复制成功',</span></span><br><span class=\"line\"><span class=\"xml\">          icon: \"success\", </span></span><br><span class=\"line\"><span class=\"xml\">          showConfirmButton: true</span></span><br><span class=\"line\"><span class=\"xml\">          &#125;);</span></span><br><span class=\"line\"><span class=\"xml\">        &#125;);</span></span><br><span class=\"line\"><span class=\"xml\">    &#125;);  </span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\"></span><span class=\"template-tag\">&#123;% <span class=\"name\"><span class=\"name\">endif</span></span> %&#125;</span><span class=\"xml\"></span></span><br></pre></td></tr></table></figure></p>\n<p>在目录next/source/css/_common/components/post/下添加my-post-copyright.styl：\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-class\">.my_post_copyright</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">width</span>: <span class=\"number\">85%</span>;</span><br><span class=\"line\">  <span class=\"attribute\">max-width</span>: <span class=\"number\">45em</span>;</span><br><span class=\"line\">  <span class=\"attribute\">margin</span>: <span class=\"number\">2.8em</span> auto <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"attribute\">padding</span>: <span class=\"number\">0.5em</span> <span class=\"number\">1.0em</span>;</span><br><span class=\"line\">  <span class=\"attribute\">border</span>: <span class=\"number\">1px</span> solid <span class=\"number\">#d3d3d3</span>;</span><br><span class=\"line\">  <span class=\"attribute\">font-size</span>: <span class=\"number\">0.93rem</span>;</span><br><span class=\"line\">  <span class=\"attribute\">line-height</span>: <span class=\"number\">1.6em</span>;</span><br><span class=\"line\">  <span class=\"attribute\">word-break</span>: break-all;</span><br><span class=\"line\">  <span class=\"attribute\">background</span>: rgba(<span class=\"number\">255</span>,<span class=\"number\">255</span>,<span class=\"number\">255</span>,<span class=\"number\">0.4</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.my_post_copyright</span> p&#123;<span class=\"attribute\">margin</span>:<span class=\"number\">0</span>;&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.my_post_copyright</span> <span class=\"selector-tag\">span</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">display</span>: inline-block;</span><br><span class=\"line\">  <span class=\"attribute\">width</span>: <span class=\"number\">5.2em</span>;</span><br><span class=\"line\">  <span class=\"attribute\">color</span>: <span class=\"number\">#b5b5b5</span>;</span><br><span class=\"line\">  <span class=\"attribute\">font-weight</span>: bold;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.my_post_copyright</span> <span class=\"selector-class\">.raw</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">margin-left</span>: <span class=\"number\">1em</span>;</span><br><span class=\"line\">  <span class=\"attribute\">width</span>: <span class=\"number\">5em</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.my_post_copyright</span> <span class=\"selector-tag\">a</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">color</span>: <span class=\"number\">#808080</span>;</span><br><span class=\"line\">  <span class=\"attribute\">border-bottom</span>:<span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.my_post_copyright</span> <span class=\"selector-tag\">a</span>:hover &#123;</span><br><span class=\"line\">  <span class=\"attribute\">color</span>: <span class=\"number\">#a3d2a3</span>;</span><br><span class=\"line\">  <span class=\"attribute\">text-decoration</span>: underline;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.my_post_copyright</span>:hover <span class=\"selector-class\">.fa-clipboard</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">color</span>: <span class=\"number\">#000</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.my_post_copyright</span> <span class=\"selector-class\">.post-url</span>:hover &#123;</span><br><span class=\"line\">  <span class=\"attribute\">font-weight</span>: normal;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.my_post_copyright</span> <span class=\"selector-class\">.copy-path</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">margin-left</span>: <span class=\"number\">1em</span>;</span><br><span class=\"line\">  <span class=\"attribute\">width</span>: <span class=\"number\">1em</span>;</span><br><span class=\"line\">  +mobile()&#123;<span class=\"attribute\">display</span>:none;&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.my_post_copyright</span> <span class=\"selector-class\">.copy-path</span>:hover &#123;</span><br><span class=\"line\">  <span class=\"attribute\">color</span>: <span class=\"number\">#808080</span>;</span><br><span class=\"line\">  <span class=\"attribute\">cursor</span>: pointer;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>修改next/layout/_macro/post.swig，在代码\n<figure class=\"highlight django\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">      </span><span class=\"template-tag\">&#123;% <span class=\"name\"><span class=\"name\">if</span></span> not is_index %&#125;</span><span class=\"xml\"></span></span><br><span class=\"line\"><span class=\"xml\">        </span><span class=\"template-tag\">&#123;% <span class=\"name\"><span class=\"name\">include</span></span> 'wechat-subscriber.swig' %&#125;</span><span class=\"xml\"></span></span><br><span class=\"line\"><span class=\"xml\">      </span><span class=\"template-tag\">&#123;% <span class=\"name\"><span class=\"name\">endif</span></span> %&#125;</span><span class=\"xml\"></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span><br></pre></td></tr></table></figure></p>\n<p>之前添加增加如下代码：\n<figure class=\"highlight django\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">      </span><span class=\"template-tag\">&#123;% <span class=\"name\"><span class=\"name\">if</span></span> not is_index %&#125;</span><span class=\"xml\"></span></span><br><span class=\"line\"><span class=\"xml\">        </span><span class=\"template-tag\">&#123;% <span class=\"name\"><span class=\"name\">include</span></span> 'my-copyright.swig' %&#125;</span><span class=\"xml\"></span></span><br><span class=\"line\"><span class=\"xml\">      </span><span class=\"template-tag\">&#123;% <span class=\"name\"><span class=\"name\">endif</span></span> %&#125;</span><span class=\"xml\"></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span><br></pre></td></tr></table></figure></p>\n<p>修改next/source/css/_common/components/post/post.styl文件，在最后一行增加代码：\n<figure class=\"highlight xl\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">@<span class=\"keyword\">import</span> <span class=\"string\">\"my-post-copyright\"</span></span><br></pre></td></tr></table></figure></p>\n<p>保存重新生成即可。 \n如果要在该博文下面增加版权信息的显示，需要在 Markdown 中增加copyright: true的设置，类似：\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">---</span></span><br><span class=\"line\"><span class=\"attr\">title:</span> <span class=\"string\">前端小项目：使用canvas绘画哆啦A梦</span></span><br><span class=\"line\"><span class=\"attr\">date:</span> <span class=\"number\">2017</span><span class=\"bullet\">-05</span><span class=\"bullet\">-22</span> <span class=\"number\">22</span><span class=\"string\">:53:53</span></span><br><span class=\"line\"><span class=\"attr\">tags:</span> <span class=\"string\">canvas</span></span><br><span class=\"line\"><span class=\"attr\">categories:</span> <span class=\"string\">前端</span></span><br><span class=\"line\"><span class=\"attr\">copyright:</span> <span class=\"literal\">true</span></span><br><span class=\"line\"><span class=\"meta\">---</span></span><br></pre></td></tr></table></figure></p>\n<h3 id=\"三方\"><a href=\"#三方\" class=\"headerlink\" title=\"三方\"></a>三方</h3><h4 id=\"评论-来必力\"><a href=\"#评论-来必力\" class=\"headerlink\" title=\"评论-来必力\"></a>评论-来必力</h4><p>1.登陆<a href=\"https://livere.com/\" target=\"_blank\" rel=\"noopener\">官网</a> \n进行<a href=\"https://was.livere.me/register?lang=zh-cn\" target=\"_blank\" rel=\"noopener\">注册</a>等事宜<br>2.Next中进行设置  </p>\n<p>Next中设置\n1.首先在 _config.yml 文件中添加如下配置：  </p>\n<pre><code># Support for LiveRe comments system.\n# You can get your uid from https://livere.com/insight/myCode (General web site)\nlivere_uid: your uid\n</code></pre><h4 id=\"评论-valine\"><a href=\"#评论-valine\" class=\"headerlink\" title=\"评论-valine\"></a>评论-valine</h4><p>我们的评论系统其实是放在Leancloud上的，因此首先需要去注册一个账号<br><a href=\"https://leancloud.cn/dashboard/data.html?appid=dU4DFkRRQqU30bvT0uXQmhSw-gzGzoHsz#/\" target=\"_blank\" rel=\"noopener\">Leancloud官网</a>\n注册完以后需要创建一个应用，名字可以随便起，然后 进入应用-&gt;设置-&gt;应用key<br>获取你的appid 和 appkey  </p>\n<p>Next中已经内置，在_config中设置开启</p>\n<pre><code>valine:\n  enable: true\n  appid:  your app id\n  appkey: your app key\n  notify: false # mail notifier , https://github.com/xCss/Valine/wiki\n  verify: false # Verification code\n  placeholder: ヾﾉ≧∀≦)o来啊，快活啊! \n  guest_info: nick,mail,link\n  pageSize: 10\n</code></pre><h4 id=\"SEO优化\"><a href=\"#SEO优化\" class=\"headerlink\" title=\"SEO优化\"></a>SEO优化</h4><p>#####站点地图\n站点地图即sitemap， 是一个页面，上面放置了网站上需要搜索引擎抓取的所有页面的链接。\n站点地图可以告诉搜索引擎网站上有哪些可供抓取的网页，以便搜索引擎可以更加智能地抓取网站。<br>生成站点地图\n安装百度和Google的站点地图生成插件：</p>\n<pre><code>npm install hexo-generator-sitemap --save       //google\nnpm install hexo-generator-baidu-sitemap --save       \n</code></pre><p>#####修改配置文件\n修改站点配置文件_config.yml，添加以下内容：</p>\n<pre><code># 自动生成sitemap\nsitemap:\n  path: sitemap.xml\nbaidusitemap:\n  path: baidusitemap.xml    \n</code></pre><p>在hexo g后，public目录下会有sitemap.xml和baidusitemap.xml两个文件，\n这就是生成的站点地图。<br>前往百度提交入口和谷歌提交入口，进行文件验证:<br>下载他他们的验证文件html,\n在_config文件中找到skip_render属性，存入  </p>\n<pre><code>//避免被hexo渲染\nskip_render: [googleb2b4a4dcdb4a9ac4.html, baidu_verify_R6YFRwbiQw.html]\n</code></pre><p>重新渲染文件： hexo clean hexo d -g\n再进行站长验证.<br>验证成功后前往各自站点提交sitemap</p>\n<h4 id=\"多媒体\"><a href=\"#多媒体\" class=\"headerlink\" title=\"多媒体\"></a>多媒体</h4><p>插件\nnpm install hexo-tag-aplayer    //音频\nnpm install hexo-tag-dplayer    //视频</p>\n<h5 id=\"视频\"><a href=\"#视频\" class=\"headerlink\" title=\"视频\"></a>视频</h5><p>md中插入  </p>\n<pre><code>{   % dplayer\n     &quot;url=http://home.ustc.edu.cn/~mmmwhy/GEM.mp4&quot;  \n     &quot;pic=http://home.ustc.edu.cn/~mmmwhy/GEM.jpg&quot; \n     &quot;loop=yes&quot; \n     &quot;theme=#FADFA3&quot; \n     &quot;autoplay=false&quot; \n     &quot;token=tokendemo&quot; \n%}\n</code></pre><p>key的属性有：</p>\n<pre><code>dplayer options:\n    &apos;autoplay&apos;, &apos;loop&apos;, &apos;screenshot&apos;,&apos;hotkey&apos;, &apos;mutex&apos;, &apos;dmunlimited&apos; : bool options, use &quot;yes&quot; &quot;y&quot; &quot;true&quot; &quot;1&quot; &quot;on&quot; or just without value to enable\n    &apos;preload&apos;, &apos;theme&apos;, &apos;lang&apos;, &apos;logo&apos;, &apos;url&apos;, &apos;pic&apos;, &apos;thumbnails&apos;, &apos;vidtype&apos;, &apos;suburl&apos;, &apos;subtype&apos;, &apos;subbottom&apos;, &apos;subcolor&apos;, &apos;subcolor&apos;, &apos;id&apos;, &apos;api&apos;, &apos;token&apos;, &apos;addition&apos;, &apos;dmuser&apos; : string arguments\n    &apos;volume&apos;, &apos;maximum&apos; : number arguments\ncontainer options:\n    &apos;width&apos;, &apos;height&apos; : string, used in container element style\nother:\n    &apos;code&apos; : value of this key will be append to script tag\n</code></pre><h5 id=\"音频\"><a href=\"#音频\" class=\"headerlink\" title=\"音频\"></a>音频</h5>","site":{"data":{}},"excerpt":"<p>  嗨，Hello,本文为第一篇Hexo博客文章 🐳🐋🐟🐳🐋🐟🐳🐋🐳🐋🐟\n  代码基地<a href=\"https://github.com/colinst\" target=\"_blank\" rel=\"noopener\">github/hongxii</a>!\n  个人网站域名(架设中)<a href=\"https://gitmmp.com\" target=\"_blank\" rel=\"noopener\">gitmmp.com</a>!\n  欢迎来到我的博客 <a href=\"https://colinst.github.io\" target=\"_blank\" rel=\"noopener\">Blog.gitmmp.com</a>!<br>Hexo + Next的组合可以无限优化，甚至某些组织站点都用hexo作为发布,个人博客不必花费太多的时间，如果做组织网站则建议使用灵活度更高的主题（<a href=\"https://blog.zhangruipeng.me/hexo-theme-icarus/\" target=\"_blank\" rel=\"noopener\">icarus</a>）。\n仅用一文说明设计部署等关键点，个性化范围等关键点，花太多时间在上面也不好，本文轻改Next主题。以下为目录：</p>","more":"<p></p>\n<h2 id=\"文章目录：\"><a href=\"#文章目录：\" class=\"headerlink\" title=\"文章目录：\"></a>文章目录：</h2><!-- TOC -->\n<ul>\n<li><a href=\"#基建-base\">基建 Base</a><ul>\n<li><a href=\"#依赖环境-environment\">依赖环境 environment</a></li>\n<li><a href=\"#常用命令-command\">常用命令 command</a></li>\n</ul>\n</li>\n<li><a href=\"#主题轻改-theme-next\">主题轻改 Theme-Next</a><ul>\n<li><a href=\"#基本信息-baseinfo\">基本信息 baseInfo</a><ul>\n<li><a href=\"#站点设置-siteinfo\">站点设置 siteInfo</a></li>\n<li><a href=\"#侧边栏信息-authorinfo\">侧边栏信息 authorInfo</a></li>\n</ul>\n</li>\n<li><a href=\"#首页样式-viewindex\">首页样式 viewIndex</a><ul>\n<li><a href=\"#博文块样式-blockview\">博文块样式 blockView</a></li>\n<li><a href=\"#底层动画---cssflash\">底层动画   cssFlash</a></li>\n<li><a href=\"#右上github\">右上Github</a></li>\n<li><a href=\"#页尾信息-footer\">页尾信息 footer</a></li>\n</ul>\n</li>\n<li><a href=\"#其他样式-views\">其他样式 views</a><ul>\n<li><a href=\"#关于-about\">关于 about</a></li>\n<li><a href=\"#标签-tags\">标签 tags</a></li>\n<li><a href=\"#分类-categorise\">分类 categorise</a></li>\n<li><a href=\"#搜索-search\">搜索 search</a></li>\n<li><a href=\"#自定义-\">自定义 …</a></li>\n</ul>\n</li>\n<li><a href=\"#文章样式-mainview\">文章样式 mainView</a><ul>\n<li><a href=\"#标签优化\">标签优化</a></li>\n<li><a href=\"#评论引入\">评论引入</a></li>\n<li><a href=\"#谷歌-百度收录\">谷歌-百度收录</a></li>\n<li><a href=\"#访问量查看\">访问量查看</a></li>\n<li><a href=\"#底部版权信息\">底部版权信息</a></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<!-- /TOC -->\n<h2 id=\"基建-Base\"><a href=\"#基建-Base\" class=\"headerlink\" title=\"基建 Base\"></a>基建 Base</h2><h3 id=\"依赖环境-environment\"><a href=\"#依赖环境-environment\" class=\"headerlink\" title=\"依赖环境 environment\"></a>依赖环境 environment</h3><pre><code>//在node.js官网去下载安装\nnode.js       \n\n//Shell \n//hexo-client  hexo客户端安装         \nnpm install hexo-cli -g\n\n//hexo-deployer-git   //git工具\nnpm install hexo-deployer-git --save    \n\n//hexo-md-img-plagin  //图片编辑格式统一插件\nnpm install https://github.com/CodeFalling/hexo-asset-image --save   \n\n//hexo-generator-search   //搜索插件\nnpm install hexo-generator-search --save    \n\n//标签云插件\nnpm install hexo-tag-cloud@^2.0.* --save\n\n//站点地图生成插件  百度和谷歌\nnpm install hexo-generator-baidu-sitemap --save    \nnpm install hexo-generator-sitemap --save           //谷歌\n\n//多媒体插件\nnpm install hexo-tag-aplayer    //音频\nnpm install hexo-tag-dplayer    //视频\n\n//貌似全局用的安装工具\nnpm install -g npm-install-peers\n</code></pre><p>github-create the Rep[repName=uid.github.io]  </p>\n<h3 id=\"常用命令-command\"><a href=\"#常用命令-command\" class=\"headerlink\" title=\"常用命令 command\"></a>常用命令 command</h3><p>####<a href=\"https://hexo.io/docs/writing.html\" target=\"_blank\" rel=\"noopener\">写作细节</a></p>\n<pre><code>$ hexo init &lt;folder&gt;    //hexo io 建立hexo项目文件夹\n$ cd &lt;folder&gt;           //cd io\n$ npm install           //        部署项目文件\n</code></pre><p>####转移项目时<br>1.先git项目到本地，文件夹改名（如io-&gt;ioo）<br>2.新建io 文件夹，cd进去，npm install<br>3.此时将ioo中文件全部覆盖到io文件夹<br>之后可以在自己的ide中编辑了</p>\n<h4 id=\"在-posts-文件夹中新建md文档编辑就好\"><a href=\"#在-posts-文件夹中新建md文档编辑就好\" class=\"headerlink\" title=\"在_posts 文件夹中新建md文档编辑就好\"></a>在_posts 文件夹中新建md文档编辑就好</h4><p>md文件头：  </p>\n<pre><code>---\ntitle: 标题\n\ntags: \n    - 标签1  \n    - 标签2  \n\ncategories: \n    - 分类1   \n    - 分类2  \n\ndate: 2018-08-008 13:00:00\n---\n\nindex页显示简介内容\n&lt;!-- more --&gt;   //简介-正文分割符\n</code></pre><p>文件头根据需要可加入别的属性  </p>\n<h4 id=\"发布\"><a href=\"#发布\" class=\"headerlink\" title=\"发布\"></a>发布</h4><pre><code>$ hexo generate     //将md文件生成需要部署的html静态页面\n$ hexo server       //本地启动查看 [http://localhost:4000/](http://localhost:4000/)\n$ hexo deploy       //发布到git地址\n</code></pre><p>生成发布可直接简写：  </p>\n<pre><code>$ hexo g -d\n$ hexo d -g\n</code></pre><p><a href=\"https://hexo.io/docs/deployment.html\" target=\"_blank\" rel=\"noopener\">发布细节</a><br>可以多定义几个deloy，deloy命令后会依次来repo,\n同时一起更新到github,gitlee,码云等。\n前提要创建好repo，对应站点定义好SSH key。</p>\n<h2 id=\"主题轻改-Theme-Next\"><a href=\"#主题轻改-Theme-Next\" class=\"headerlink\" title=\"主题轻改 Theme-Next\"></a>主题轻改 Theme-Next</h2><h3 id=\"基本信息-baseInfo\"><a href=\"#基本信息-baseInfo\" class=\"headerlink\" title=\"基本信息 baseInfo\"></a>基本信息 baseInfo</h3><h4 id=\"站点设置-siteInfo\"><a href=\"#站点设置-siteInfo\" class=\"headerlink\" title=\"站点设置 siteInfo\"></a>站点设置 siteInfo</h4><h4 id=\"侧边栏信息-authorInfo\"><a href=\"#侧边栏信息-authorInfo\" class=\"headerlink\" title=\"侧边栏信息 authorInfo\"></a>侧边栏信息 authorInfo</h4><h3 id=\"首页样式-viewIndex\"><a href=\"#首页样式-viewIndex\" class=\"headerlink\" title=\"首页样式 viewIndex\"></a>首页样式 viewIndex</h3><h4 id=\"博文块样式-blockView\"><a href=\"#博文块样式-blockView\" class=\"headerlink\" title=\"博文块样式 blockView\"></a>博文块样式 blockView</h4><p>使用Gemini主题下修改</p>\n<h4 id=\"首页文章标题与文章简介的距离\"><a href=\"#首页文章标题与文章简介的距离\" class=\"headerlink\" title=\"首页文章标题与文章简介的距离\"></a>首页文章标题与文章简介的距离</h4><pre><code>默认值60\n更改css样式 margin{上右下左}/{上右下}/{上下-右左}\nsrc/setNext.md\n位置：themes/next/source/css/_common/components/post/post-meta.styl\n行号：02\n</code></pre><h4 id=\"首页文章标题-对齐\"><a href=\"#首页文章标题-对齐\" class=\"headerlink\" title=\"首页文章标题-对齐\"></a>首页文章标题-对齐</h4><pre><code>位置：themes/next/source/css/_common/components/post/post-title.styl\n行号：02\n默认：center\n改为：left\n</code></pre><h4 id=\"阅读全文按钮调整\"><a href=\"#阅读全文按钮调整\" class=\"headerlink\" title=\"阅读全文按钮调整\"></a>阅读全文按钮调整</h4><pre><code>位置：themes/next/source/css/_variables/base.styl\n行号：164-165\n默认： $btn-default-border-width       = 2px\n      $btn-default-border-color       = $black-deep\n\n对齐-边距：\n位置：themes/next/source/css/_common/components/post/post-button.styl\n添加：text-align: left;    //对齐\n      margin-top: 4px;      //与简介边距$Ans*2\n\n按钮边距：\n位置：themes/next/source/css/_common/components/buttons.styl\n修改：padding: 0 0px;\n默认：padding: 0 2px;\n</code></pre><h4 id=\"底层动画-cssFlash\"><a href=\"#底层动画-cssFlash\" class=\"headerlink\" title=\"底层动画   cssFlash\"></a>底层动画   cssFlash</h4><h4 id=\"右上Github\"><a href=\"#右上Github\" class=\"headerlink\" title=\"右上Github\"></a>右上Github</h4><h4 id=\"index页面加载条\"><a href=\"#index页面加载条\" class=\"headerlink\" title=\"index页面加载条\"></a>index页面加载条</h4><p>这个如果用的是比较新的NexT主题，只需要在配置文件里面进行修改就可以了。\n旧的话，就需要对/next/layout/_partials/head.swig文件做些修改，添加对应的代码。<br><figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">\"//cdn.bootcss.com/pace/1.0.2/pace.min.js\"</span>&gt;</span><span class=\"undefined\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">link</span> <span class=\"attr\">href</span>=<span class=\"string\">\"//cdn.bootcss.com/pace/1.0.2/themes/pink/pace-theme-flash.css\"</span> <span class=\"attr\">rel</span>=<span class=\"string\">\"stylesheet\"</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">style</span>&gt;</span><span class=\"undefined\"></span></span><br><span class=\"line\"><span class=\"css\"><span class=\"selector-class\">.pace</span> <span class=\"selector-class\">.pace-progress</span> &#123;</span></span><br><span class=\"line\"><span class=\"css\">    <span class=\"selector-tag\">background</span>: <span class=\"selector-id\">#1E92FB</span>; <span class=\"comment\">/*进度条颜色*/</span></span></span><br><span class=\"line\"><span class=\"undefined\">    height: 3px;</span></span><br><span class=\"line\"><span class=\"undefined\">&#125;</span></span><br><span class=\"line\"><span class=\"css\"><span class=\"selector-class\">.pace</span> <span class=\"selector-class\">.pace-progress-inner</span> &#123;</span></span><br><span class=\"line\"><span class=\"css\">     <span class=\"selector-tag\">box-shadow</span>: 0 0 10<span class=\"selector-tag\">px</span> <span class=\"selector-id\">#1E92FB</span>, 0 0 5<span class=\"selector-tag\">px</span>     <span class=\"selector-id\">#1E92FB</span>; <span class=\"comment\">/*阴影颜色*/</span></span></span><br><span class=\"line\"><span class=\"undefined\">&#125;</span></span><br><span class=\"line\"><span class=\"css\"><span class=\"selector-class\">.pace</span> <span class=\"selector-class\">.pace-activity</span> &#123;</span></span><br><span class=\"line\"><span class=\"css\">    <span class=\"selector-tag\">border-top-color</span>: <span class=\"selector-id\">#1E92FB</span>;    <span class=\"comment\">/*上边框颜色*/</span></span></span><br><span class=\"line\"><span class=\"css\">    <span class=\"selector-tag\">border-left-color</span>: <span class=\"selector-id\">#1E92FB</span>;    <span class=\"comment\">/*左边框颜色*/</span></span></span><br><span class=\"line\"><span class=\"undefined\">&#125;</span></span><br><span class=\"line\"><span class=\"undefined\"></span><span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span><br></pre></td></tr></table></figure></p>\n<h4 id=\"标签云\"><a href=\"#标签云\" class=\"headerlink\" title=\"标签云\"></a>标签云</h4><pre><code>找到文件 next/layout/_macro/sidebar.swig, 然后添加如下内容。\n\n{% if site.tags.length > 1 %}\n    <script type=\"text/javascript\" charset=\"utf-8\" src=\"/js/tagcloud.js\"></script>\n    <script type=\"text/javascript\" charset=\"utf-8\" src=\"/js/tagcanvas.js\"></script>\n    <div class=\"widget-wrap\">\n        <h3 class=\"widget-title\">Tag Cloud</h3>\n        <div id=\"myCanvasContainer\" class=\"widget tagcloud\">\n            <canvas width=\"250\" height=\"250\" id=\"resCanvas\" style=\"width=100%\">\n                {{ list_tags() }}\n            </canvas>\n        </div>\n    </div>\n    {% endif %}\n</code></pre><h4 id=\"页尾信息-footer\"><a href=\"#页尾信息-footer\" class=\"headerlink\" title=\"页尾信息 footer\"></a>页尾信息 footer</h4><p>   位置：\\themes\\next\\layout_partials\\footer.swig\n   搜索标签：\n   <div class=\"author\">\n   <div class=\"powered-by\">\n   <div class=\"theme-info\">\n   更改以上3标签内部链接内容</div></div></div></p>\n<p>   同时可对以上标签弱修改，可修改语言配置文件\n   位置：\\themes\\next\\languages\\ </p>\n<h3 id=\"其他样式-views\"><a href=\"#其他样式-views\" class=\"headerlink\" title=\"其他样式 views\"></a>其他样式 views</h3><h4 id=\"关于-about\"><a href=\"#关于-about\" class=\"headerlink\" title=\"关于 about\"></a>关于 about</h4><h4 id=\"标签-tags\"><a href=\"#标签-tags\" class=\"headerlink\" title=\"标签 tags\"></a>标签 tags</h4><h4 id=\"分类-categorise\"><a href=\"#分类-categorise\" class=\"headerlink\" title=\"分类 categorise\"></a>分类 categorise</h4><h4 id=\"搜索-search\"><a href=\"#搜索-search\" class=\"headerlink\" title=\"搜索 search\"></a>搜索 search</h4><p>添加本地搜索<br>安装 hexo-generator-search，在nanshanyi.github.io目录下执行以下命令：</p>\n<pre><code>$ npm install hexo-generator-search --save\n</code></pre><p>在   next/_config.yml添加  </p>\n<pre><code>search: \n  path: search.xml\n  field: post\n  format: html\n  limit: 10000\n</code></pre><p>同时在该文件中开启search功能 local_search改为true</p>\n<pre><code>local_search:\n  enable: true\n</code></pre><h4 id=\"自定义-…\"><a href=\"#自定义-…\" class=\"headerlink\" title=\"自定义 …\"></a>自定义 …</h4><h3 id=\"文章样式-mainView\"><a href=\"#文章样式-mainView\" class=\"headerlink\" title=\"文章样式 mainView\"></a>文章样式 mainView</h3><h4 id=\"标签优化\"><a href=\"#标签优化\" class=\"headerlink\" title=\"标签优化\"></a>标签优化</h4><h4 id=\"谷歌-百度收录\"><a href=\"#谷歌-百度收录\" class=\"headerlink\" title=\"谷歌-百度收录\"></a>谷歌-百度收录</h4><h4 id=\"访问量查看\"><a href=\"#访问量查看\" class=\"headerlink\" title=\"访问量查看\"></a>访问量查看</h4><p>   打开\\themes\\next\\layout_partials\\footer.swig文件,\n   在《div class=”copyright”》 前加入以下这句：</p>\n   <figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">async</span> <span class=\"attr\">src</span>=<span class=\"string\">\"https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js\"</span>&gt;</span><span class=\"undefined\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<p>   之后再合适的位置添加显示统计代码：\n   <figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;div <span class=\"class\"><span class=\"keyword\">class</span></span>=<span class=\"string\">\"powered-by\"</span>&gt;</span><br><span class=\"line\">&lt;i <span class=\"class\"><span class=\"keyword\">class</span></span>=<span class=\"string\">\"fa fa-user-md\"</span>&gt;<span class=\"xml\"><span class=\"tag\">&lt;/<span class=\"name\">i</span>&gt;</span></span><span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">span</span> <span class=\"attr\">id</span>=<span class=\"string\">\"busuanzi_container_site_uv\"</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">  本站访客数:<span class=\"tag\">&lt;<span class=\"name\">span</span> <span class=\"attr\">id</span>=<span class=\"string\">\"busuanzi_value_site_uv\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span></span><br><span class=\"line\">&lt;<span class=\"regexp\">/div&gt;</span></span><br></pre></td></tr></table></figure></p>\n<p>   该脚本有两种不同的计算统计代码\n   pv统计：单用户连续点击n篇文章，记录n次访问量\n   <figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">span</span> <span class=\"attr\">id</span>=<span class=\"string\">\"busuanzi_container_site_pv\"</span>&gt;</span></span><br><span class=\"line\">    本站总访问量<span class=\"tag\">&lt;<span class=\"name\">span</span> <span class=\"attr\">id</span>=<span class=\"string\">\"busuanzi_value_site_pv\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span>次</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span><br></pre></td></tr></table></figure></p>\n<p>   uv统计：单用户连续点击n篇文章，记录1次访问量\n   <figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">span</span> <span class=\"attr\">id</span>=<span class=\"string\">\"busuanzi_container_site_uv\"</span>&gt;</span></span><br><span class=\"line\">  本站总访问量<span class=\"tag\">&lt;<span class=\"name\">span</span> <span class=\"attr\">id</span>=<span class=\"string\">\"busuanzi_value_site_uv\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span>次</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span><br></pre></td></tr></table></figure></p>\n<h4 id=\"底部版权信息\"><a href=\"#底部版权信息\" class=\"headerlink\" title=\"底部版权信息\"></a>底部版权信息</h4><p>在目录 next/layout/_macro/下添加 my-copyright.swig：\n<figure class=\"highlight django\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"xml\"></span><span class=\"template-tag\">&#123;% <span class=\"name\"><span class=\"name\">if</span></span> page.copyright %&#125;</span><span class=\"xml\"></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"my_post_copyright\"</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">  <span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">\"//cdn.bootcss.com/clipboard.js/1.5.10/clipboard.min.js\"</span>&gt;</span><span class=\"undefined\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\"></span></span><br><span class=\"line\"><span class=\"xml\">  <span class=\"comment\">&lt;!-- JS库 sweetalert 可修改路径 --&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">  <span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">\"https://cdn.bootcss.com/jquery/2.0.0/jquery.min.js\"</span>&gt;</span><span class=\"undefined\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">  <span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">\"https://unpkg.com/sweetalert/dist/sweetalert.min.js\"</span>&gt;</span><span class=\"undefined\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">  <span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">span</span>&gt;</span>本文标题:<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">\"</span></span></span><span class=\"template-variable\">&#123;&#123; url_for(page.path) &#125;&#125;</span><span class=\"xml\"><span class=\"tag\"><span class=\"string\">\"</span>&gt;</span></span><span class=\"template-variable\">&#123;&#123; page.title &#125;&#125;</span><span class=\"xml\"><span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">  <span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">span</span>&gt;</span>文章作者:<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">\"/\"</span> <span class=\"attr\">title</span>=<span class=\"string\">\"访问 </span></span></span><span class=\"template-variable\">&#123;&#123; theme.author &#125;&#125;</span><span class=\"xml\"><span class=\"tag\"><span class=\"string\"> 的个人博客\"</span>&gt;</span></span><span class=\"template-variable\">&#123;&#123; theme.author &#125;&#125;</span><span class=\"xml\"><span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">  <span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">span</span>&gt;</span>发布时间:<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span><span class=\"template-variable\">&#123;&#123; page.date.format(\"YYYY年MM月DD日 - HH:MM\") &#125;&#125;</span><span class=\"xml\"><span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">  <span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">span</span>&gt;</span>最后更新:<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span><span class=\"template-variable\">&#123;&#123; page.updated.format(\"YYYY年MM月DD日 - HH:MM\") &#125;&#125;</span><span class=\"xml\"><span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">  <span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">span</span>&gt;</span>原始链接:<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">\"</span></span></span><span class=\"template-variable\">&#123;&#123; url_for(page.path) &#125;&#125;</span><span class=\"xml\"><span class=\"tag\"><span class=\"string\">\"</span> <span class=\"attr\">title</span>=<span class=\"string\">\"</span></span></span><span class=\"template-variable\">&#123;&#123; page.title &#125;&#125;</span><span class=\"xml\"><span class=\"tag\"><span class=\"string\">\"</span>&gt;</span></span><span class=\"template-variable\">&#123;&#123; page.permalink &#125;&#125;</span><span class=\"xml\"><span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">    <span class=\"tag\">&lt;<span class=\"name\">span</span> <span class=\"attr\">class</span>=<span class=\"string\">\"copy-path\"</span>  <span class=\"attr\">title</span>=<span class=\"string\">\"点击复制文章链接\"</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">i</span> <span class=\"attr\">class</span>=<span class=\"string\">\"fa fa-clipboard\"</span> <span class=\"attr\">data-clipboard-text</span>=<span class=\"string\">\"</span></span></span><span class=\"template-variable\">&#123;&#123; page.permalink &#125;&#125;</span><span class=\"xml\"><span class=\"tag\"><span class=\"string\">\"</span>  <span class=\"attr\">aria-label</span>=<span class=\"string\">\"复制成功！\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">i</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">  <span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">  <span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">span</span>&gt;</span>许可协议:<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">i</span> <span class=\"attr\">class</span>=<span class=\"string\">\"fa fa-creative-commons\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">i</span>&gt;</span> <span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">rel</span>=<span class=\"string\">\"license\"</span> <span class=\"attr\">href</span>=<span class=\"string\">\"https://creativecommons.org/licenses/by-nc-nd/4.0/\"</span> <span class=\"attr\">target</span>=<span class=\"string\">\"_blank\"</span> <span class=\"attr\">title</span>=<span class=\"string\">\"Attribution-NonCommercial-NoDerivatives 4.0 International (CC BY-NC-ND 4.0)\"</span>&gt;</span>署名-非商业性使用-禁止演绎 4.0 国际<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span> 转载请保留原文链接及作者。<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span>  </span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"undefined\"> </span></span></span><br><span class=\"line\"><span class=\"xml\">    var clipboard = new Clipboard('.fa-clipboard');</span></span><br><span class=\"line\"><span class=\"xml\">      $(\".fa-clipboard\").click(function()&#123;</span></span><br><span class=\"line\"><span class=\"xml\">      clipboard.on('success', function()&#123;</span></span><br><span class=\"line\"><span class=\"xml\">        swal(&#123;   </span></span><br><span class=\"line\"><span class=\"xml\">          title: \"\",   </span></span><br><span class=\"line\"><span class=\"xml\">          text: '复制成功',</span></span><br><span class=\"line\"><span class=\"xml\">          icon: \"success\", </span></span><br><span class=\"line\"><span class=\"xml\">          showConfirmButton: true</span></span><br><span class=\"line\"><span class=\"xml\">          &#125;);</span></span><br><span class=\"line\"><span class=\"xml\">        &#125;);</span></span><br><span class=\"line\"><span class=\"xml\">    &#125;);  </span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\"></span><span class=\"template-tag\">&#123;% <span class=\"name\"><span class=\"name\">endif</span></span> %&#125;</span><span class=\"xml\"></span></span><br></pre></td></tr></table></figure></p>\n<p>在目录next/source/css/_common/components/post/下添加my-post-copyright.styl：\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-class\">.my_post_copyright</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">width</span>: <span class=\"number\">85%</span>;</span><br><span class=\"line\">  <span class=\"attribute\">max-width</span>: <span class=\"number\">45em</span>;</span><br><span class=\"line\">  <span class=\"attribute\">margin</span>: <span class=\"number\">2.8em</span> auto <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"attribute\">padding</span>: <span class=\"number\">0.5em</span> <span class=\"number\">1.0em</span>;</span><br><span class=\"line\">  <span class=\"attribute\">border</span>: <span class=\"number\">1px</span> solid <span class=\"number\">#d3d3d3</span>;</span><br><span class=\"line\">  <span class=\"attribute\">font-size</span>: <span class=\"number\">0.93rem</span>;</span><br><span class=\"line\">  <span class=\"attribute\">line-height</span>: <span class=\"number\">1.6em</span>;</span><br><span class=\"line\">  <span class=\"attribute\">word-break</span>: break-all;</span><br><span class=\"line\">  <span class=\"attribute\">background</span>: rgba(<span class=\"number\">255</span>,<span class=\"number\">255</span>,<span class=\"number\">255</span>,<span class=\"number\">0.4</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.my_post_copyright</span> p&#123;<span class=\"attribute\">margin</span>:<span class=\"number\">0</span>;&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.my_post_copyright</span> <span class=\"selector-tag\">span</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">display</span>: inline-block;</span><br><span class=\"line\">  <span class=\"attribute\">width</span>: <span class=\"number\">5.2em</span>;</span><br><span class=\"line\">  <span class=\"attribute\">color</span>: <span class=\"number\">#b5b5b5</span>;</span><br><span class=\"line\">  <span class=\"attribute\">font-weight</span>: bold;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.my_post_copyright</span> <span class=\"selector-class\">.raw</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">margin-left</span>: <span class=\"number\">1em</span>;</span><br><span class=\"line\">  <span class=\"attribute\">width</span>: <span class=\"number\">5em</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.my_post_copyright</span> <span class=\"selector-tag\">a</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">color</span>: <span class=\"number\">#808080</span>;</span><br><span class=\"line\">  <span class=\"attribute\">border-bottom</span>:<span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.my_post_copyright</span> <span class=\"selector-tag\">a</span>:hover &#123;</span><br><span class=\"line\">  <span class=\"attribute\">color</span>: <span class=\"number\">#a3d2a3</span>;</span><br><span class=\"line\">  <span class=\"attribute\">text-decoration</span>: underline;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.my_post_copyright</span>:hover <span class=\"selector-class\">.fa-clipboard</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">color</span>: <span class=\"number\">#000</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.my_post_copyright</span> <span class=\"selector-class\">.post-url</span>:hover &#123;</span><br><span class=\"line\">  <span class=\"attribute\">font-weight</span>: normal;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.my_post_copyright</span> <span class=\"selector-class\">.copy-path</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">margin-left</span>: <span class=\"number\">1em</span>;</span><br><span class=\"line\">  <span class=\"attribute\">width</span>: <span class=\"number\">1em</span>;</span><br><span class=\"line\">  +mobile()&#123;<span class=\"attribute\">display</span>:none;&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.my_post_copyright</span> <span class=\"selector-class\">.copy-path</span>:hover &#123;</span><br><span class=\"line\">  <span class=\"attribute\">color</span>: <span class=\"number\">#808080</span>;</span><br><span class=\"line\">  <span class=\"attribute\">cursor</span>: pointer;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>修改next/layout/_macro/post.swig，在代码\n<figure class=\"highlight django\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">      </span><span class=\"template-tag\">&#123;% <span class=\"name\"><span class=\"name\">if</span></span> not is_index %&#125;</span><span class=\"xml\"></span></span><br><span class=\"line\"><span class=\"xml\">        </span><span class=\"template-tag\">&#123;% <span class=\"name\"><span class=\"name\">include</span></span> 'wechat-subscriber.swig' %&#125;</span><span class=\"xml\"></span></span><br><span class=\"line\"><span class=\"xml\">      </span><span class=\"template-tag\">&#123;% <span class=\"name\"><span class=\"name\">endif</span></span> %&#125;</span><span class=\"xml\"></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span><br></pre></td></tr></table></figure></p>\n<p>之前添加增加如下代码：\n<figure class=\"highlight django\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">      </span><span class=\"template-tag\">&#123;% <span class=\"name\"><span class=\"name\">if</span></span> not is_index %&#125;</span><span class=\"xml\"></span></span><br><span class=\"line\"><span class=\"xml\">        </span><span class=\"template-tag\">&#123;% <span class=\"name\"><span class=\"name\">include</span></span> 'my-copyright.swig' %&#125;</span><span class=\"xml\"></span></span><br><span class=\"line\"><span class=\"xml\">      </span><span class=\"template-tag\">&#123;% <span class=\"name\"><span class=\"name\">endif</span></span> %&#125;</span><span class=\"xml\"></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span><br></pre></td></tr></table></figure></p>\n<p>修改next/source/css/_common/components/post/post.styl文件，在最后一行增加代码：\n<figure class=\"highlight xl\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">@<span class=\"keyword\">import</span> <span class=\"string\">\"my-post-copyright\"</span></span><br></pre></td></tr></table></figure></p>\n<p>保存重新生成即可。 \n如果要在该博文下面增加版权信息的显示，需要在 Markdown 中增加copyright: true的设置，类似：\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">---</span></span><br><span class=\"line\"><span class=\"attr\">title:</span> <span class=\"string\">前端小项目：使用canvas绘画哆啦A梦</span></span><br><span class=\"line\"><span class=\"attr\">date:</span> <span class=\"number\">2017</span><span class=\"bullet\">-05</span><span class=\"bullet\">-22</span> <span class=\"number\">22</span><span class=\"string\">:53:53</span></span><br><span class=\"line\"><span class=\"attr\">tags:</span> <span class=\"string\">canvas</span></span><br><span class=\"line\"><span class=\"attr\">categories:</span> <span class=\"string\">前端</span></span><br><span class=\"line\"><span class=\"attr\">copyright:</span> <span class=\"literal\">true</span></span><br><span class=\"line\"><span class=\"meta\">---</span></span><br></pre></td></tr></table></figure></p>\n<h3 id=\"三方\"><a href=\"#三方\" class=\"headerlink\" title=\"三方\"></a>三方</h3><h4 id=\"评论-来必力\"><a href=\"#评论-来必力\" class=\"headerlink\" title=\"评论-来必力\"></a>评论-来必力</h4><p>1.登陆<a href=\"https://livere.com/\" target=\"_blank\" rel=\"noopener\">官网</a> \n进行<a href=\"https://was.livere.me/register?lang=zh-cn\" target=\"_blank\" rel=\"noopener\">注册</a>等事宜<br>2.Next中进行设置  </p>\n<p>Next中设置\n1.首先在 _config.yml 文件中添加如下配置：  </p>\n<pre><code># Support for LiveRe comments system.\n# You can get your uid from https://livere.com/insight/myCode (General web site)\nlivere_uid: your uid\n</code></pre><h4 id=\"评论-valine\"><a href=\"#评论-valine\" class=\"headerlink\" title=\"评论-valine\"></a>评论-valine</h4><p>我们的评论系统其实是放在Leancloud上的，因此首先需要去注册一个账号<br><a href=\"https://leancloud.cn/dashboard/data.html?appid=dU4DFkRRQqU30bvT0uXQmhSw-gzGzoHsz#/\" target=\"_blank\" rel=\"noopener\">Leancloud官网</a>\n注册完以后需要创建一个应用，名字可以随便起，然后 进入应用-&gt;设置-&gt;应用key<br>获取你的appid 和 appkey  </p>\n<p>Next中已经内置，在_config中设置开启</p>\n<pre><code>valine:\n  enable: true\n  appid:  your app id\n  appkey: your app key\n  notify: false # mail notifier , https://github.com/xCss/Valine/wiki\n  verify: false # Verification code\n  placeholder: ヾﾉ≧∀≦)o来啊，快活啊! \n  guest_info: nick,mail,link\n  pageSize: 10\n</code></pre><h4 id=\"SEO优化\"><a href=\"#SEO优化\" class=\"headerlink\" title=\"SEO优化\"></a>SEO优化</h4><p>#####站点地图\n站点地图即sitemap， 是一个页面，上面放置了网站上需要搜索引擎抓取的所有页面的链接。\n站点地图可以告诉搜索引擎网站上有哪些可供抓取的网页，以便搜索引擎可以更加智能地抓取网站。<br>生成站点地图\n安装百度和Google的站点地图生成插件：</p>\n<pre><code>npm install hexo-generator-sitemap --save       //google\nnpm install hexo-generator-baidu-sitemap --save       \n</code></pre><p>#####修改配置文件\n修改站点配置文件_config.yml，添加以下内容：</p>\n<pre><code># 自动生成sitemap\nsitemap:\n  path: sitemap.xml\nbaidusitemap:\n  path: baidusitemap.xml    \n</code></pre><p>在hexo g后，public目录下会有sitemap.xml和baidusitemap.xml两个文件，\n这就是生成的站点地图。<br>前往百度提交入口和谷歌提交入口，进行文件验证:<br>下载他他们的验证文件html,\n在_config文件中找到skip_render属性，存入  </p>\n<pre><code>//避免被hexo渲染\nskip_render: [googleb2b4a4dcdb4a9ac4.html, baidu_verify_R6YFRwbiQw.html]\n</code></pre><p>重新渲染文件： hexo clean hexo d -g\n再进行站长验证.<br>验证成功后前往各自站点提交sitemap</p>\n<h4 id=\"多媒体\"><a href=\"#多媒体\" class=\"headerlink\" title=\"多媒体\"></a>多媒体</h4><p>插件\nnpm install hexo-tag-aplayer    //音频\nnpm install hexo-tag-dplayer    //视频</p>\n<h5 id=\"视频\"><a href=\"#视频\" class=\"headerlink\" title=\"视频\"></a>视频</h5><p>md中插入  </p>\n<pre><code>{   % dplayer\n     &quot;url=http://home.ustc.edu.cn/~mmmwhy/GEM.mp4&quot;  \n     &quot;pic=http://home.ustc.edu.cn/~mmmwhy/GEM.jpg&quot; \n     &quot;loop=yes&quot; \n     &quot;theme=#FADFA3&quot; \n     &quot;autoplay=false&quot; \n     &quot;token=tokendemo&quot; \n%}\n</code></pre><p>key的属性有：</p>\n<pre><code>dplayer options:\n    &apos;autoplay&apos;, &apos;loop&apos;, &apos;screenshot&apos;,&apos;hotkey&apos;, &apos;mutex&apos;, &apos;dmunlimited&apos; : bool options, use &quot;yes&quot; &quot;y&quot; &quot;true&quot; &quot;1&quot; &quot;on&quot; or just without value to enable\n    &apos;preload&apos;, &apos;theme&apos;, &apos;lang&apos;, &apos;logo&apos;, &apos;url&apos;, &apos;pic&apos;, &apos;thumbnails&apos;, &apos;vidtype&apos;, &apos;suburl&apos;, &apos;subtype&apos;, &apos;subbottom&apos;, &apos;subcolor&apos;, &apos;subcolor&apos;, &apos;id&apos;, &apos;api&apos;, &apos;token&apos;, &apos;addition&apos;, &apos;dmuser&apos; : string arguments\n    &apos;volume&apos;, &apos;maximum&apos; : number arguments\ncontainer options:\n    &apos;width&apos;, &apos;height&apos; : string, used in container element style\nother:\n    &apos;code&apos; : value of this key will be append to script tag\n</code></pre><h5 id=\"音频\"><a href=\"#音频\" class=\"headerlink\" title=\"音频\"></a>音频</h5>"},{"title":"ShadowSocks-从入门到出门[go版本]","copyright":true,"date":"2017-12-12T05:00:00.000Z","_content":"\n&emsp;&emsp;因被喝茶，shadowsocks 作者被迫停更了shadowsocks的python服务器版本，\ngo语言版本开始被很多人使用。但python版本停更并非go版本使用频次增多的主要原因,\n除了语言切换的限制，更多的是因为go语言中自带高并发的特性，使得其体验较好，\n于是越来越多的同事都自行搭建go版本自用。  \n本文尽可能详细说明shadowsocks的搭建使用细节。\n<!-- more -->\n\n## 目录\n \n\n<!-- TOC -->\n\n- [目录](#目录)\n- [说明](#说明)\n- [服务器选择](#服务器选择)\n- [关于云服务](#关于云服务)\n- [开始](#开始)\n- [Linux内核升级-> linux4](#linux内核升级--linux4)\n    - [检查当前系统内核版本：](#检查当前系统内核版本)\n    - [检查当前tcp算法](#检查当前tcp算法)\n    - [注意](#注意)\n    - [使用ELRepo仓库：](#使用elrepo仓库)\n    - [列出目前可用的Linux内核包：](#列出目前可用的linux内核包)\n    - [安装最新主线稳定内核](#安装最新主线稳定内核)\n    - [修改默认启动内核](#修改默认启动内核)\n        - [cnetos6](#cnetos6)\n        - [centos7](#centos7)\n    - [重启](#重启)\n    - [检测](#检测)\n- [tcp算法改为BBR](#tcp算法改为bbr)\n    - [配置生效](#配置生效)\n    - [检查](#检查)\n- [安装go](#安装go)\n- [安装git](#安装git)\n- [安装shadowsocks](#安装shadowsocks)\n- [配置config.json文件](#配置configjson文件)\n- [开放端口](#开放端口)\n- [开启shadowsocks服务](#开启shadowsocks服务)\n- [使用客户端测试链接](#使用客户端测试链接)\n- [备注](#备注)\n    - [重置密码](#重置密码)\n\n<!-- /TOC -->\n\n\n## 说明\n&emsp;&emsp;使用shadowsocks的前置条件。  \n&emsp;&emsp;首先，必须拥有一台境外服务器，如果不是自己的物理所有，则需租赁VPS服务器。  \n&emsp;&emsp;所谓VPS服务器，即Virtual Private Server -私有虚拟服务器。  \n&emsp;&emsp;关于租赁服务器，博主常用服务商为vultr、搬瓦工、cloudcone等，\n这也是目前广告和稳定性同时做的比较好的几家。  \n&emsp;&emsp;另随互联网产业不断增长，相关服务需求缺口逐渐呈现，越来越多的云服务商参与其中竞争，相对前面几家，有很多的小服务商也推出了性价比更高的vps服务，主要集中在俄国区，各位可以自由选择。\n大厂还有谷歌的云服务器、亚马逊的AWS,微软的Azure，各位均可一试。  \n&emsp;&emsp;本文搭建环境时VPS系统为centos。  \n\n## 服务器选择\n&ensp;&ensp;选择VPS服务商时需注意地理位置远近，测速工具检测结果，及其服务器架构，\n其中注意服务器最好选择Kvm,Xen等宽容度较高的架构方便网络层级的扩展，避免OpenVZ,\n另外也会有服务器厂家会挂Xen卖OpenVZ,在购买之后也要记得及时检测。  \n&ensp;&ensp;购买服务器之后还有及时ping 服务器ID，若ping不通则马上发工单换ip,\n不同服务商换IP的价格不同。  \n&ensp;&ensp;国内云服务器所售的境外机型不推荐选择，性价比太低。  \n\n## 关于云服务\n&ensp;&ensp;关于云服务厂商所提供的VPS服务，大多为基于OpenStack的云计算平台开源实现，\n国内的两大云服务厂商也是基于此，不久前滴滴和腾讯云业务分开后，也自行组建了滴滴云服务平台，也是基于OpenStack,但其刚起步不推荐。  \nOpenStack相关的云计算实现，国内学习资源不多，各位可自行搜索，主栈语言为Python。  \n此处提供OpenStack官方地址：  \n&ensp;&ensp;[OpenStack 官网](https://www.openstack.org/)  \n&ensp;&ensp;[OpenStack github主页](https://github.com/openstack)  \n\n\n## 开始\n现在你已拥有了基于Xen架构的虚拟机(可ping通)，并已使用root账户登陆拥有管理员权限，接下来的步骤为：\n    * 升级Linux系统内核  \n    * 更改Linux底层TCP协议算法[BBR 加速]  \n    * 安装go  \n    * 安装git  \n    * 安装shadowsocks  \n    * 配置config.json文件  \n    * 防火墙开放端口  \n    * 使用客户端测试链接  \n\n配置前两项后可使用谷歌Tcp bbr算法加速，bbr算法可基于ai智能控制数据包上下行数量，\n减少国际带宽拥堵。  \n前两步为提升网络性能，可直接从第三步开始。\n\n## Linux内核升级-> linux4\n###检查当前系统内核版本：\n```\n    [root@vultr_host /]# uname -sr\n    Linux 3.10.0-693.21.1.el7.x86_64\n```\n###检查当前tcp算法\n```\n[root@vultr_host /]# sysctl net.ipv4.tcp_available_congestion_control\nnet.ipv4.tcp_available_congestion_control = cubic reno\n```\n此时系统内核使用的tcp算法内核为cubic/reno\n\n### 注意\n在centos中升级内核需要注意：\n多数linux发行版提供了使用 yum 的包管理系统以及官方支持的内核升级方法，但这所有的仅仅为其仓库下最新可用内核，非\n[linux 最新版本](https://www.kernel.org)。\n而且，在centos中也无法使用red hat。\n\n但是，CentOS可以使用ELRepo!\nELRepo是一个第三方仓库，可以将内核升级到最新版本。\n\t\n###使用ELRepo仓库：\n```\n    [root@vultr_host /]# rpm --import http://www.elrepo.org/RPM-GPG-KEY-elrepo.org\n    [root@vultr_host /]# rpm -Uvh http://www.elrepo.org/elrepo-release-7.0-2.el7.elrepo.noarch.rpm\n    Retrieving http://www.elrepo.org/elrepo-release-7.0-2.el7.elrepo.noarch.rpm\n    Retrieving http://elrepo.org/elrepo-release-7.0-3.el7.elrepo.noarch.rpm\n    Preparing...                          ################################# [100%]\n    Updating / installing...\n       1:elrepo-release-7.0-3.el7.elrepo  ################################# [100%]\n```\n\n### 列出目前可用的Linux内核包：\n```\n    [root@vultr_host /]# yum --disablerepo=\"*\" --enablerepo=\"elrepo-kernel\" list available\n    \n    Loaded plugins: fastestmirror\n    elrepo-kernel                                                                                  | 2.9 kB  00:00:00\n    elrepo-kernel/primary_db                                                                       | 1.7 MB  00:00:01\n    Determining fastest mirrors\n     * elrepo-kernel: mirrors.thzhost.com\n    Available Packages\n    kernel-lt.x86_64                                           4.4.138-1.el7.elrepo                          elrepo-kernel\n    kernel-lt-devel.x86_64                                     4.4.138-1.el7.elrepo                          elrepo-kernel\n    kernel-lt-doc.noarch                                       4.4.138-1.el7.elrepo                          elrepo-kernel\n    kernel-lt-headers.x86_64                                   4.4.138-1.el7.elrepo                          elrepo-kernel\n    kernel-lt-tools.x86_64                                     4.4.138-1.el7.elrepo                          elrepo-kernel\n    kernel-lt-tools-libs.x86_64                                4.4.138-1.el7.elrepo                          elrepo-kernel\n    kernel-lt-tools-libs-devel.x86_64                          4.4.138-1.el7.elrepo                          elrepo-kernel\n    kernel-ml.x86_64                                           4.17.2-1.el7.elrepo                           elrepo-kernel\n    kernel-ml-devel.x86_64                                     4.17.2-1.el7.elrepo                           elrepo-kernel\n    kernel-ml-doc.noarch                                       4.17.2-1.el7.elrepo                           elrepo-kernel\n    kernel-ml-headers.x86_64                                   4.17.2-1.el7.elrepo                           elrepo-kernel\n    kernel-ml-tools.x86_64                                     4.17.2-1.el7.elrepo                           elrepo-kernel\n    kernel-ml-tools-libs.x86_64                                4.17.2-1.el7.elrepo                           elrepo-kernel\n    kernel-ml-tools-libs-devel.x86_64                          4.17.2-1.el7.elrepo                           elrepo-kernel\n    perf.x86_64                                                4.17.2-1.el7.elrepo                           elrepo-kernel\n    python-perf.x86_64                                         4.17.2-1.el7.elrepo                           elrepo-kernel\n```\n\n### 安装最新主线稳定内核\n```\n    [root@vultr_host /]# yum --enablerepo=elrepo-kernel install kernel-ml\n    \n    Loaded plugins: fastestmirror\n    base                                                                                           | 3.6 kB  00:00:00\n    elrepo                                                                                         | 2.9 kB  00:00:00\n    epel/x86_64/metalink                                                                           |  19 kB  00:00:00\n    epel                                                                                           | 3.2 kB  00:00:00\n    https://epel.mirror.constant.com/7/x86_64/repodata/repomd.xml: [Errno -1] repomd.xml does not match metalink for epel\n    Trying other mirror.\n    epel                                                                                           | 3.2 kB  00:00:00\n    extras                                                                                         | 3.4 kB  00:00:00\n    updates                                                                                        | 3.4 kB  00:00:00\n    (1/8): base/7/x86_64/group_gz                                                                  | 166 kB  00:00:01\n    (2/8): epel/x86_64/group_gz                                                                    |  88 kB  00:00:01\n    (3/8): elrepo/primary_db                                                                       | 592 kB  00:00:01\n    (4/8): extras/7/x86_64/primary_db                                                              | 149 kB  00:00:00\n    epel/x86_64/primary            FAILED\n    https://sjc.edge.kernel.org/fedora-buffet/epel/7/x86_64/repodata/e8475f9ad0cd11429e1cf75752a6dd6fe2b5357a523232eff56af83454c9a3cd-primary.xml.gz: [Errno 14] HTTPS Error 404 - Not Found\n    Trying other mirror.\n    To address this issue please refer to the below wiki article\n    \n    https://wiki.centos.org/yum-errors\n    \n    If above article doesn't help to resolve this issue please use https://bugs.centos.org/.\n    \n    (5/8): epel/x86_64/updateinfo                                                                  | 933 kB  00:00:02\n    (6/8): updates/7/x86_64/primary_db                                                             | 2.7 MB  00:00:02\n    (7/8): epel/x86_64/primary                                                                     | 3.5 MB  00:00:05\n    (8/8): base/7/x86_64/primary_db                                                                | 5.9 MB  00:02:04\n    Loading mirror speeds from cached hostfile\n     * base: mirror.fileplanet.com\n     * elrepo: mirrors.thzhost.com\n     * elrepo-kernel: mirrors.thzhost.com\n     * epel: mirror.sjc02.svwh.net\n     * extras: mirror.fileplanet.com\n     * updates: mirror.fileplanet.com\n    epel                                                                                                      12585/12585\n    Resolving Dependencies\n    --> Running transaction check\n    ---> Package kernel-ml.x86_64 0:4.17.2-1.el7.elrepo will be installed\n    --> Finished Dependency Resolution\n    \n    Dependencies Resolved\n    \n    ======================================================================================================================\n     Package                  Arch                  Version                            Repository                    Size\n    ======================================================================================================================\n    Installing:\n     kernel-ml                x86_64                4.17.2-1.el7.elrepo                elrepo-kernel                 45 M\n    \n    Transaction Summary\n    ======================================================================================================================\n    Install  1 Package\n    \n    Total download size: 45 M\n    Installed size: 201 M\n    Is this ok [y/d/N]: y                       // Yes\n    \n    Downloading packages:\n    kernel-ml-4.17.2-1.el7.elrepo.x86_64.rpm                                                       |  45 MB  00:00:06\n    Running transaction check\n    Running transaction test\n    Transaction test succeeded\n    Running transaction\n    Warning: RPMDB altered outside of yum.\n      Installing : kernel-ml-4.17.2-1.el7.elrepo.x86_64                                                               1/1\n      Verifying  : kernel-ml-4.17.2-1.el7.elrepo.x86_64                                                               1/1\n    \n    Installed:\n      kernel-ml.x86_64 0:4.17.2-1.el7.elrepo\n    \n    Complete!\n```\n### 修改默认启动内核\n#### cnetos6\n如果是centos6,直接通过/etc/grub.conf文件修改启动顺序  \n使用vi 或者vim命令修改  \n```\n    vi /boot/grub/grub.conf\n    \n    -----------------\n    \n    #boot=/dev/sda\n    default=1\n    timeout=5\n    ...\n```\n其中default默认为0，将其修改为1即可  \n#### centos7\ncentos 7中是通过grub2引导启动顺序。需要执行相关命令。  \n1.查看当前系统所有内核\n```\n    [root@colinvps /]# cat boot/grub2/grub.cfg |grep menuentry\n    if [ x\"${feature_menuentry_id}\" = xy ]; then\n      menuentry_id_option=\"--id\"\n      menuentry_id_option=\"\"\n    export menuentry_id_option\n    menuentry 'CentOS Linux 7 Rescue cf9fbca3fb7842b4915d9cd81c418fb1 (4.17.3-1.el7.elrepo.x86_64)' --class centos --class gnu-linux --class gnu --class os --unrestricted $menuentry_id_option 'gnulinux-3.10.0-123.el7.x86_64-advanced-fe0109f2-6f34-48ae-b51e-1f5fa78305b5' {\n    menuentry 'CentOS Linux (4.17.3-1.el7.elrepo.x86_64) 7 (Core)' --class centos --class gnu-linux --class gnu --class os --unrestricted $menuentry_id_option 'gnulinux-3.10.0-123.el7.x86_64-advanced-fe0109f2-6f34-48ae-b51e-1f5fa78305b5' {\n    menuentry 'CentOS Linux 7 Rescue 5491904015ae6a4d828c6acbbfc755b1 (3.10.0-862.3.3.el7.x86_64)' --class centos --class gnu-linux --class gnu --class os --unrestricted $menuentry_id_option 'gnulinux-3.10.0-123.el7.x86_64-advanced-fe0109f2-6f34-48ae-b51e-1f5fa78305b5' {\n    menuentry 'CentOS Linux (3.10.0-862.3.3.el7.x86_64) 7 (Core)' --class centos --class gnu-linux --class gnu --class os --unrestricted $menuentry_id_option 'gnulinux-3.10.0-123.el7.x86_64-advanced-fe0109f2-6f34-48ae-b51e-1f5fa78305b5' {\n    menuentry 'CentOS Linux (3.10.0-123.4.2.el7.x86_64) 7 (Core)' --class centos --class gnu-linux --class gnu --class os --unrestricted $menuentry_id_option 'gnulinux-3.10.0-123.el7.x86_64-advanced-fe0109f2-6f34-48ae-b51e-1f5fa78305b5' {\n    menuentry 'CentOS Linux, with Linux 3.10.0-123.el7.x86_64' --class centos --class gnu-linux --class gnu --class os --unrestricted $menuentry_id_option 'gnulinux-3.10.0-123.el7.x86_64-advanced-fe0109f2-6f34-48ae-b51e-1f5fa78305b5' {\n    menuentry 'CentOS Linux, with Linux 0-rescue-11264912be38456483e63dfd21d402f4' --class centos --class gnu-linux --class gnu --class os --unrestricted $menuentry_id_option 'gnulinux-0-rescue-11264912be38456483e63dfd21d402f4-advanced-fe0109f2-6f34-48ae-b51e-1f5fa78305b5' {\n    [root@colinvps /]#\n```\n2.设置默认启动内核\n```\n    grub2-set-default \"CentOS Linux (4.17.3-1.el7.elrepo.x86_64) 7 (Core)\"\n```\n3.检查结果\n```\n    [root@colinvps /]# grub2-editenv list\n    saved_entry=CentOS Linux (4.17.3-1.el7.elrepo.x86_64) 7 (Core)\n```\n设置成功\n\n### 重启\n```\n    reboot\n```\n如果在之上修改默认启动内核没有成功，可在VPS服务提供的网页console 界面下使用reboot命令重启  \n在网页端口重启可通过方向键选择将进入的系统内核，类似PC下的bios选择系统  \n一般选择第二个，主要选择对应安装号码的内核就好，“(4.17.3-1.el7.elrepo.x86_64) 7 (Core)”  \n\n### 检测\n登陆后查看系统内核：  \n```\n    [root@vultr_host /]# uname -sr\n    Linux 4.17.2-693.21.1.el7.x86_64\n```\n\n系统内核升级成功\n\n\n\n## tcp算法改为BBR\n编辑系统文件\n```\n    vi /etc/sysctl.conf\n```\n\n在该文件中加入以下两句\n```\n    net.core.default_qdisc = fq\n    net.ipv4.tcp_congestion_control = bbr\n```\n\n添加结果\n```\n    [root@vultr_host /]# cat /etc/sysctl.conf\n    # sysctl settings are defined through files in\n    # /usr/lib/sysctl.d/, /run/sysctl.d/, and /etc/sysctl.d/.\n    #\n    # Vendors settings live in /usr/lib/sysctl.d/.\n    # To override a whole file, create a new file with the same in\n    # /etc/sysctl.d/ and put new settings there. To override\n    # only specific settings, add a file with a lexically later\n    # name in /etc/sysctl.d/ and put new settings there.\n    #\n    # For more information, see sysctl.conf(5) and sysctl.d(5).\n    \n    # Accept IPv6 advertisements when forwarding is enabled\n    net.ipv6.conf.all.accept_ra = 2\n    net.ipv6.conf.eth0.accept_ra = 2\n    net.core.default_qdisc = fq\n    net.ipv4.tcp_congestion_control = bbr\n```\n\n### 配置生效\n```\n    [root@vultr_host /]# sysctl -p\n    net.ipv6.conf.all.accept_ra = 2\n    net.ipv6.conf.eth0.accept_ra = 2\n    net.core.default_qdisc = fq\n    net.ipv4.tcp_congestion_control = bbr\n```\n\n### 检查\n```\n    [root@vultr_host /]# sysctl net.ipv4.tcp_available_congestion_control\n    net.ipv4.tcp_available_congestion_control = reno cubic bbr\n```\n结果带有bbr  \n\n成功使用BBR算法\n```    \n    [root@vultr_host /]# lsmod|grep bbr\n    tcp_bbr                20480  1\n```\n\n\n\n## 安装go\n下载\n```\n    [root@colinvps /]# cd /usr/local\n    [root@colinvps local]# ls\n    bin  etc  games  include  lib  lib64  libexec  sbin  share  src\n    [root@colinvps local]# wget https://storage.googleapis.com/golang/go1.6.3.linux-amd64.tar.gz\n    --2018-07-03 00:06:49--  https://storage.googleapis.com/golang/go1.6.3.linux-amd64.tar.gz\n    Resolving storage.googleapis.com (storage.googleapis.com)... 172.217.14.112, 2607:f8b0:4007:80e::2010\n    Connecting to storage.googleapis.com (storage.googleapis.com)|172.217.14.112|:443... connected.\n    HTTP request sent, awaiting response... 200 OK\n    Length: 84856920 (81M) [application/x-gzip]\n    Saving to: ‘go1.6.3.linux-amd64.tar.gz’\n    \n    100%[===============================================================================================>] 84,856,920  52.5MB/s   in 1.5s\n    \n    2018-07-03 00:06:51 (52.5 MB/s) - ‘go1.6.3.linux-amd64.tar.gz’ saved [84856920/84856920]\n```\n解压，这里日志比较长，只给命令\n```\n    [root@colinvps /]# tar -xvf go1.6.3linux-amd64.tar.gz\n```\n添加环境变量，加入以下两行\n```\n    \n    [root@colinvps /]# vi /etc/profile\n    \n    export GOROOT=/usr/local/go\n    export PATH=$PATH:$GOROOT/bin\n```\n重载\n```\n    [root@colinvps /]# source /etc/profile\n```\n在 ~ 目录设置自己的GOPATH\n```\n    [root@colinvps ~]# vi .bash_profile\n    export GOPATH=$HOME/shadowsocks\n```\n重载\n```\n    [root@colinvps ~]# source .bash_profile\n```\n## 安装git\n```\n    [root@colinvps ~]#  yum install git\n            \n    Loaded plugins: fastestmirror\n    Loading mirror speeds from cached hostfile\n     * base: mirror.san.fastserv.com\n     * elrepo: repos.lax-noc.com\n     * extras: mirrors.xmission.com\n     * updates: mirror.scalabledns.com\n    Resolving Dependencies\n    --> Running transaction check\n    ---> Package git.x86_64 0:1.8.3.1-14.el7_5 will be installed\n    --> Processing Dependency: perl-Git = 1.8.3.1-14.el7_5 for package: git-1.8.3.1-14.el7_5.x86_64\n    --> Processing Dependency: perl >= 5.008 for package: git-1.8.3.1-14.el7_5.x86_64\n    --> Processing Dependency: rsync for package: git-1.8.3.1-14.el7_5.x86_64\n    --> Processing Dependency: perl(warnings) for package: git-1.8.3.1-14.el7_5.x86_64\n    --> Processing Dependency: perl(vars) for package: git-1.8.3.1-14.el7_5.x86_64\n    --> Processing Dependency: perl(strict) for package: git-1.8.3.1-14.el7_5.x86_64\n    --> Processing Dependency: perl(lib) for package: git-1.8.3.1-14.el7_5.x86_64\n    --> Processing Dependency: perl(Term::ReadKey) for package: git-1.8.3.1-14.el7_5.x86_64\n    --> Processing Dependency: perl(Git) for package: git-1.8.3.1-14.el7_5.x86_64\n    --> Processing Dependency: perl(Getopt::Long) for package: git-1.8.3.1-14.el7_5.x86_64\n    --> Processing Dependency: perl(File::stat) for package: git-1.8.3.1-14.el7_5.x86_64\n    --> Processing Dependency: perl(File::Temp) for package: git-1.8.3.1-14.el7_5.x86_64\n    --> Processing Dependency: perl(File::Spec) for package: git-1.8.3.1-14.el7_5.x86_64\n    --> Processing Dependency: perl(File::Path) for package: git-1.8.3.1-14.el7_5.x86_64\n    --> Processing Dependency: perl(File::Find) for package: git-1.8.3.1-14.el7_5.x86_64\n    --> Processing Dependency: perl(File::Copy) for package: git-1.8.3.1-14.el7_5.x86_64\n    --> Processing Dependency: perl(File::Basename) for package: git-1.8.3.1-14.el7_5.x86_64\n    --> Processing Dependency: perl(Exporter) for package: git-1.8.3.1-14.el7_5.x86_64\n    --> Processing Dependency: perl(Error) for package: git-1.8.3.1-14.el7_5.x86_64\n    --> Processing Dependency: /usr/bin/perl for package: git-1.8.3.1-14.el7_5.x86_64\n    --> Processing Dependency: libgnome-keyring.so.0()(64bit) for package: git-1.8.3.1-14.el7_5.x86_64\n    --> Running transaction check\n    ---> Package libgnome-keyring.x86_64 0:3.12.0-1.el7 will be installed\n    ---> Package perl.x86_64 4:5.16.3-292.el7 will be installed\n    --> Processing Dependency: perl-libs = 4:5.16.3-292.el7 for package: 4:perl-5.16.3-292.el7.x86_64\n    --> Processing Dependency: perl(Socket) >= 1.3 for package: 4:perl-5.16.3-292.el7.x86_64\n    --> Processing Dependency: perl(Scalar::Util) >= 1.10 for package: 4:perl-5.16.3-292.el7.x86_64\n    --> Processing Dependency: perl-macros for package: 4:perl-5.16.3-292.el7.x86_64\n    --> Processing Dependency: perl-libs for package: 4:perl-5.16.3-292.el7.x86_64\n    --> Processing Dependency: perl(threads::shared) for package: 4:perl-5.16.3-292.el7.x86_64\n    --> Processing Dependency: perl(threads) for package: 4:perl-5.16.3-292.el7.x86_64\n    --> Processing Dependency: perl(constant) for package: 4:perl-5.16.3-292.el7.x86_64\n    --> Processing Dependency: perl(Time::Local) for package: 4:perl-5.16.3-292.el7.x86_64\n    --> Processing Dependency: perl(Time::HiRes) for package: 4:perl-5.16.3-292.el7.x86_64\n    --> Processing Dependency: perl(Storable) for package: 4:perl-5.16.3-292.el7.x86_64\n    --> Processing Dependency: perl(Socket) for package: 4:perl-5.16.3-292.el7.x86_64\n    --> Processing Dependency: perl(Scalar::Util) for package: 4:perl-5.16.3-292.el7.x86_64\n    --> Processing Dependency: perl(Pod::Simple::XHTML) for package: 4:perl-5.16.3-292.el7.x86_64\n    --> Processing Dependency: perl(Pod::Simple::Search) for package: 4:perl-5.16.3-292.el7.x86_64\n    --> Processing Dependency: perl(Filter::Util::Call) for package: 4:perl-5.16.3-292.el7.x86_64\n    --> Processing Dependency: perl(Carp) for package: 4:perl-5.16.3-292.el7.x86_64\n    --> Processing Dependency: libperl.so()(64bit) for package: 4:perl-5.16.3-292.el7.x86_64\n    ---> Package perl-Error.noarch 1:0.17020-2.el7 will be installed\n    ---> Package perl-Exporter.noarch 0:5.68-3.el7 will be installed\n    ---> Package perl-File-Path.noarch 0:2.09-2.el7 will be installed\n    ---> Package perl-File-Temp.noarch 0:0.23.01-3.el7 will be installed\n    ---> Package perl-Getopt-Long.noarch 0:2.40-3.el7 will be installed\n    --> Processing Dependency: perl(Pod::Usage) >= 1.14 for package: perl-Getopt-Long-2.40-3.el7.noarch\n    --> Processing Dependency: perl(Text::ParseWords) for package: perl-Getopt-Long-2.40-3.el7.noarch\n    ---> Package perl-Git.noarch 0:1.8.3.1-14.el7_5 will be installed\n    ---> Package perl-PathTools.x86_64 0:3.40-5.el7 will be installed\n    ---> Package perl-TermReadKey.x86_64 0:2.30-20.el7 will be installed\n    ---> Package rsync.x86_64 0:3.1.2-4.el7 will be installed\n    --> Running transaction check\n    ---> Package perl-Carp.noarch 0:1.26-244.el7 will be installed\n    ---> Package perl-Filter.x86_64 0:1.49-3.el7 will be installed\n    ---> Package perl-Pod-Simple.noarch 1:3.28-4.el7 will be installed\n    --> Processing Dependency: perl(Pod::Escapes) >= 1.04 for package: 1:perl-Pod-Simple-3.28-4.el7.noarch\n    --> Processing Dependency: perl(Encode) for package: 1:perl-Pod-Simple-3.28-4.el7.noarch\n    ---> Package perl-Pod-Usage.noarch 0:1.63-3.el7 will be installed\n    --> Processing Dependency: perl(Pod::Text) >= 3.15 for package: perl-Pod-Usage-1.63-3.el7.noarch\n    --> Processing Dependency: perl-Pod-Perldoc for package: perl-Pod-Usage-1.63-3.el7.noarch\n    ---> Package perl-Scalar-List-Utils.x86_64 0:1.27-248.el7 will be installed\n    ---> Package perl-Socket.x86_64 0:2.010-4.el7 will be installed\n    ---> Package perl-Storable.x86_64 0:2.45-3.el7 will be installed\n    ---> Package perl-Text-ParseWords.noarch 0:3.29-4.el7 will be installed\n    ---> Package perl-Time-HiRes.x86_64 4:1.9725-3.el7 will be installed\n    ---> Package perl-Time-Local.noarch 0:1.2300-2.el7 will be installed\n    ---> Package perl-constant.noarch 0:1.27-2.el7 will be installed\n    ---> Package perl-libs.x86_64 4:5.16.3-292.el7 will be installed\n    ---> Package perl-macros.x86_64 4:5.16.3-292.el7 will be installed\n    ---> Package perl-threads.x86_64 0:1.87-4.el7 will be installed\n    ---> Package perl-threads-shared.x86_64 0:1.43-6.el7 will be installed\n    --> Running transaction check\n    ---> Package perl-Encode.x86_64 0:2.51-7.el7 will be installed\n    ---> Package perl-Pod-Escapes.noarch 1:1.04-292.el7 will be installed\n    ---> Package perl-Pod-Perldoc.noarch 0:3.20-4.el7 will be installed\n    --> Processing Dependency: perl(parent) for package: perl-Pod-Perldoc-3.20-4.el7.noarch\n    --> Processing Dependency: perl(HTTP::Tiny) for package: perl-Pod-Perldoc-3.20-4.el7.noarch\n    ---> Package perl-podlators.noarch 0:2.5.1-3.el7 will be installed\n    --> Running transaction check\n    ---> Package perl-HTTP-Tiny.noarch 0:0.033-3.el7 will be installed\n    ---> Package perl-parent.noarch 1:0.225-244.el7 will be installed\n    --> Finished Dependency Resolution\n    \n    Dependencies Resolved\n    \n    ============================================================================================\n     Package                       Arch          Version                   Repository      Size\n    ============================================================================================\n    Installing:\n     git                           x86_64        1.8.3.1-14.el7_5          updates        4.4 M\n    Installing for dependencies:\n     libgnome-keyring              x86_64        3.12.0-1.el7              base           109 k\n     perl                          x86_64        4:5.16.3-292.el7          base           8.0 M\n     perl-Carp                     noarch        1.26-244.el7              base            19 k\n     perl-Encode                   x86_64        2.51-7.el7                base           1.5 M\n     perl-Error                    noarch        1:0.17020-2.el7           base            32 k\n     perl-Exporter                 noarch        5.68-3.el7                base            28 k\n     perl-File-Path                noarch        2.09-2.el7                base            26 k\n     perl-File-Temp                noarch        0.23.01-3.el7             base            56 k\n     perl-Filter                   x86_64        1.49-3.el7                base            76 k\n     perl-Getopt-Long              noarch        2.40-3.el7                base            56 k\n     perl-Git                      noarch        1.8.3.1-14.el7_5          updates         54 k\n     perl-HTTP-Tiny                noarch        0.033-3.el7               base            38 k\n     perl-PathTools                x86_64        3.40-5.el7                base            82 k\n     perl-Pod-Escapes              noarch        1:1.04-292.el7            base            51 k\n     perl-Pod-Perldoc              noarch        3.20-4.el7                base            87 k\n     perl-Pod-Simple               noarch        1:3.28-4.el7              base           216 k\n     perl-Pod-Usage                noarch        1.63-3.el7                base            27 k\n     perl-Scalar-List-Utils        x86_64        1.27-248.el7              base            36 k\n     perl-Socket                   x86_64        2.010-4.el7               base            49 k\n     perl-Storable                 x86_64        2.45-3.el7                base            77 k\n     perl-TermReadKey              x86_64        2.30-20.el7               base            31 k\n     perl-Text-ParseWords          noarch        3.29-4.el7                base            14 k\n     perl-Time-HiRes               x86_64        4:1.9725-3.el7            base            45 k\n     perl-Time-Local               noarch        1.2300-2.el7              base            24 k\n     perl-constant                 noarch        1.27-2.el7                base            19 k\n     perl-libs                     x86_64        4:5.16.3-292.el7          base           688 k\n     perl-macros                   x86_64        4:5.16.3-292.el7          base            43 k\n     perl-parent                   noarch        1:0.225-244.el7           base            12 k\n     perl-podlators                noarch        2.5.1-3.el7               base           112 k\n     perl-threads                  x86_64        1.87-4.el7                base            49 k\n     perl-threads-shared           x86_64        1.43-6.el7                base            39 k\n     rsync                         x86_64        3.1.2-4.el7               base           403 k\n    \n    Transaction Summary\n    ============================================================================================\n    Install  1 Package (+32 Dependent packages)\n    \n    Total download size: 16 M\n    Installed size: 60 M\n    Is this ok [y/d/N]: y\n    Downloading packages:\n    (1/33): git-1.8.3.1-14.el7_5.x86_64.rpm                              | 4.4 MB  00:00:00\n    (2/33): libgnome-keyring-3.12.0-1.el7.x86_64.rpm                     | 109 kB  00:00:00\n    (3/33): perl-Carp-1.26-244.el7.noarch.rpm                            |  19 kB  00:00:00\n    (4/33): perl-Encode-2.51-7.el7.x86_64.rpm                            | 1.5 MB  00:00:00\n    (5/33): perl-Error-0.17020-2.el7.noarch.rpm                          |  32 kB  00:00:00\n    (6/33): perl-Exporter-5.68-3.el7.noarch.rpm                          |  28 kB  00:00:00\n    (7/33): perl-File-Path-2.09-2.el7.noarch.rpm                         |  26 kB  00:00:00\n    (8/33): perl-File-Temp-0.23.01-3.el7.noarch.rpm                      |  56 kB  00:00:00\n    (9/33): perl-5.16.3-292.el7.x86_64.rpm                               | 8.0 MB  00:00:01\n    (10/33): perl-Git-1.8.3.1-14.el7_5.noarch.rpm                        |  54 kB  00:00:00\n    (11/33): perl-Filter-1.49-3.el7.x86_64.rpm                           |  76 kB  00:00:00\n    (12/33): perl-Getopt-Long-2.40-3.el7.noarch.rpm                      |  56 kB  00:00:00\n    (13/33): perl-HTTP-Tiny-0.033-3.el7.noarch.rpm                       |  38 kB  00:00:00\n    (14/33): perl-Pod-Escapes-1.04-292.el7.noarch.rpm                    |  51 kB  00:00:00\n    (15/33): perl-PathTools-3.40-5.el7.x86_64.rpm                        |  82 kB  00:00:00\n    (16/33): perl-Pod-Perldoc-3.20-4.el7.noarch.rpm                      |  87 kB  00:00:00\n    (17/33): perl-Pod-Usage-1.63-3.el7.noarch.rpm                        |  27 kB  00:00:00\n    (18/33): perl-Pod-Simple-3.28-4.el7.noarch.rpm                       | 216 kB  00:00:00\n    (19/33): perl-Scalar-List-Utils-1.27-248.el7.x86_64.rpm              |  36 kB  00:00:00\n    (20/33): perl-Socket-2.010-4.el7.x86_64.rpm                          |  49 kB  00:00:00\n    (21/33): perl-TermReadKey-2.30-20.el7.x86_64.rpm                     |  31 kB  00:00:00\n    (22/33): perl-Storable-2.45-3.el7.x86_64.rpm                         |  77 kB  00:00:00\n    (23/33): perl-Text-ParseWords-3.29-4.el7.noarch.rpm                  |  14 kB  00:00:00\n    (24/33): perl-Time-HiRes-1.9725-3.el7.x86_64.rpm                     |  45 kB  00:00:00\n    (25/33): perl-Time-Local-1.2300-2.el7.noarch.rpm                     |  24 kB  00:00:00\n    (26/33): perl-constant-1.27-2.el7.noarch.rpm                         |  19 kB  00:00:00\n    (27/33): perl-macros-5.16.3-292.el7.x86_64.rpm                       |  43 kB  00:00:00\n    (28/33): perl-parent-0.225-244.el7.noarch.rpm                        |  12 kB  00:00:00\n    (29/33): perl-libs-5.16.3-292.el7.x86_64.rpm                         | 688 kB  00:00:00\n    (30/33): perl-podlators-2.5.1-3.el7.noarch.rpm                       | 112 kB  00:00:00\n    (31/33): perl-threads-1.87-4.el7.x86_64.rpm                          |  49 kB  00:00:00\n    (32/33): perl-threads-shared-1.43-6.el7.x86_64.rpm                   |  39 kB  00:00:00\n    (33/33): rsync-3.1.2-4.el7.x86_64.rpm                                | 403 kB  00:00:00\n    --------------------------------------------------------------------------------------------\n    Total                                                       4.9 MB/s |  16 MB  00:00:03\n    Running transaction check\n    Running transaction test\n    Transaction test succeeded\n    Running transaction\n      Installing : 1:perl-parent-0.225-244.el7.noarch                                      1/33\n      Installing : perl-HTTP-Tiny-0.033-3.el7.noarch                                       2/33\n      Installing : perl-podlators-2.5.1-3.el7.noarch                                       3/33\n      Installing : perl-Pod-Perldoc-3.20-4.el7.noarch                                      4/33\n      Installing : 1:perl-Pod-Escapes-1.04-292.el7.noarch                                  5/33\n      Installing : perl-Text-ParseWords-3.29-4.el7.noarch                                  6/33\n      Installing : perl-Encode-2.51-7.el7.x86_64                                           7/33\n      Installing : perl-Pod-Usage-1.63-3.el7.noarch                                        8/33\n      Installing : 4:perl-macros-5.16.3-292.el7.x86_64                                     9/33\n      Installing : 4:perl-libs-5.16.3-292.el7.x86_64                                      10/33\n      Installing : 4:perl-Time-HiRes-1.9725-3.el7.x86_64                                  11/33\n      Installing : perl-Exporter-5.68-3.el7.noarch                                        12/33\n      Installing : perl-constant-1.27-2.el7.noarch                                        13/33\n      Installing : perl-Time-Local-1.2300-2.el7.noarch                                    14/33\n      Installing : perl-Socket-2.010-4.el7.x86_64                                         15/33\n      Installing : perl-Carp-1.26-244.el7.noarch                                          16/33\n      Installing : perl-Storable-2.45-3.el7.x86_64                                        17/33\n      Installing : perl-PathTools-3.40-5.el7.x86_64                                       18/33\n      Installing : perl-Scalar-List-Utils-1.27-248.el7.x86_64                             19/33\n      Installing : perl-File-Temp-0.23.01-3.el7.noarch                                    20/33\n      Installing : perl-File-Path-2.09-2.el7.noarch                                       21/33\n      Installing : perl-threads-shared-1.43-6.el7.x86_64                                  22/33\n      Installing : perl-threads-1.87-4.el7.x86_64                                         23/33\n      Installing : perl-Filter-1.49-3.el7.x86_64                                          24/33\n      Installing : 1:perl-Pod-Simple-3.28-4.el7.noarch                                    25/33\n      Installing : perl-Getopt-Long-2.40-3.el7.noarch                                     26/33\n      Installing : 4:perl-5.16.3-292.el7.x86_64                                           27/33\n      Installing : 1:perl-Error-0.17020-2.el7.noarch                                      28/33\n      Installing : perl-TermReadKey-2.30-20.el7.x86_64                                    29/33\n      Installing : rsync-3.1.2-4.el7.x86_64                                               30/33\n      Installing : libgnome-keyring-3.12.0-1.el7.x86_64                                   31/33\n      Installing : perl-Git-1.8.3.1-14.el7_5.noarch                                       32/33\n      Installing : git-1.8.3.1-14.el7_5.x86_64                                            33/33\n      Verifying  : perl-HTTP-Tiny-0.033-3.el7.noarch                                       1/33\n      Verifying  : libgnome-keyring-3.12.0-1.el7.x86_64                                    2/33\n      Verifying  : perl-threads-shared-1.43-6.el7.x86_64                                   3/33\n      Verifying  : 4:perl-Time-HiRes-1.9725-3.el7.x86_64                                   4/33\n      Verifying  : perl-Exporter-5.68-3.el7.noarch                                         5/33\n      Verifying  : perl-constant-1.27-2.el7.noarch                                         6/33\n      Verifying  : perl-PathTools-3.40-5.el7.x86_64                                        7/33\n      Verifying  : 4:perl-macros-5.16.3-292.el7.x86_64                                     8/33\n      Verifying  : 1:perl-parent-0.225-244.el7.noarch                                      9/33\n      Verifying  : 4:perl-5.16.3-292.el7.x86_64                                           10/33\n      Verifying  : perl-TermReadKey-2.30-20.el7.x86_64                                    11/33\n      Verifying  : perl-File-Temp-0.23.01-3.el7.noarch                                    12/33\n      Verifying  : 1:perl-Pod-Simple-3.28-4.el7.noarch                                    13/33\n      Verifying  : perl-Time-Local-1.2300-2.el7.noarch                                    14/33\n      Verifying  : 4:perl-libs-5.16.3-292.el7.x86_64                                      15/33\n      Verifying  : perl-Socket-2.010-4.el7.x86_64                                         16/33\n      Verifying  : git-1.8.3.1-14.el7_5.x86_64                                            17/33\n      Verifying  : perl-Carp-1.26-244.el7.noarch                                          18/33\n      Verifying  : 1:perl-Error-0.17020-2.el7.noarch                                      19/33\n      Verifying  : perl-Storable-2.45-3.el7.x86_64                                        20/33\n      Verifying  : perl-Scalar-List-Utils-1.27-248.el7.x86_64                             21/33\n      Verifying  : 1:perl-Pod-Escapes-1.04-292.el7.noarch                                 22/33\n      Verifying  : rsync-3.1.2-4.el7.x86_64                                               23/33\n      Verifying  : perl-Pod-Usage-1.63-3.el7.noarch                                       24/33\n      Verifying  : perl-Git-1.8.3.1-14.el7_5.noarch                                       25/33\n      Verifying  : perl-Encode-2.51-7.el7.x86_64                                          26/33\n      Verifying  : perl-Pod-Perldoc-3.20-4.el7.noarch                                     27/33\n      Verifying  : perl-podlators-2.5.1-3.el7.noarch                                      28/33\n      Verifying  : perl-File-Path-2.09-2.el7.noarch                                       29/33\n      Verifying  : perl-threads-1.87-4.el7.x86_64                                         30/33\n      Verifying  : perl-Filter-1.49-3.el7.x86_64                                          31/33\n      Verifying  : perl-Getopt-Long-2.40-3.el7.noarch                                     32/33\n      Verifying  : perl-Text-ParseWords-3.29-4.el7.noarch                                 33/33\n    \n    Installed:\n      git.x86_64 0:1.8.3.1-14.el7_5\n    \n    Dependency Installed:\n      libgnome-keyring.x86_64 0:3.12.0-1.el7     perl.x86_64 4:5.16.3-292.el7\n      perl-Carp.noarch 0:1.26-244.el7            perl-Encode.x86_64 0:2.51-7.el7\n      perl-Error.noarch 1:0.17020-2.el7          perl-Exporter.noarch 0:5.68-3.el7\n      perl-File-Path.noarch 0:2.09-2.el7         perl-File-Temp.noarch 0:0.23.01-3.el7\n      perl-Filter.x86_64 0:1.49-3.el7            perl-Getopt-Long.noarch 0:2.40-3.el7\n      perl-Git.noarch 0:1.8.3.1-14.el7_5         perl-HTTP-Tiny.noarch 0:0.033-3.el7\n      perl-PathTools.x86_64 0:3.40-5.el7         perl-Pod-Escapes.noarch 1:1.04-292.el7\n      perl-Pod-Perldoc.noarch 0:3.20-4.el7       perl-Pod-Simple.noarch 1:3.28-4.el7\n      perl-Pod-Usage.noarch 0:1.63-3.el7         perl-Scalar-List-Utils.x86_64 0:1.27-248.el7\n      perl-Socket.x86_64 0:2.010-4.el7           perl-Storable.x86_64 0:2.45-3.el7\n      perl-TermReadKey.x86_64 0:2.30-20.el7      perl-Text-ParseWords.noarch 0:3.29-4.el7\n      perl-Time-HiRes.x86_64 4:1.9725-3.el7      perl-Time-Local.noarch 0:1.2300-2.el7\n      perl-constant.noarch 0:1.27-2.el7          perl-libs.x86_64 4:5.16.3-292.el7\n      perl-macros.x86_64 4:5.16.3-292.el7        perl-parent.noarch 1:0.225-244.el7\n      perl-podlators.noarch 0:2.5.1-3.el7        perl-threads.x86_64 0:1.87-4.el7\n      perl-threads-shared.x86_64 0:1.43-6.el7    rsync.x86_64 0:3.1.2-4.el7\n    \n    Complete!\n```\n\n## 安装shadowsocks\n```\n    [root@colinvps ~]# go get github.com/shadowsocks/shadowsocks-go/cmd/shadowsocks-server\n    \n    [root@colinvps ~]# cd shadowsocks\n    [root@colinvps shadowsocks]# ls\n    bin  pkg  src\n```\n切换到bin目录下，使shadowsocks-server有可执行权限\n```\n    [root@colinvps shadowsocks]# cd bin\n    ./shadowsocks-server -h\n    \n    [root@colinvps bin]# chmod +x shadowsocks-server\n```\n\n## 配置config.json文件\n在bin目录下\n```\n    [root@colinvps bin]# vi config.json\n\n    {\n        \"server\":\"127.0.0.1\",\n        \"port_password\":{\n             \"7973\":\"123456\",\n             \"7884\":\"abcdef\",\n             \"7987\":\"1212112\",\n             \"7938\":\"1445566\",\n            \"7999\":\"345123\"\n        },\n        \"local_address\": \"127.0.0.1\",\n        \"local_port\":1080,\n        \"timeout\":600,\n        \"method\":\"aes-128-cfb\",\n        \"fast_open\":false,\n        \"workers\":1\n    }\n```\nconfig文件参数配置：\n\n## 开放端口\n将以上config文件的端口添加到防火墙  \n这里使用firewall命令  \n\n查看所有打开的端口： \n```\n    [root@colinvps /]# firewall-cmd --zone=public --list-ports\n    7884/tcp 7987/tcp 7999/tcp 7938/tcp 7973/tcp\n```\n添加端口\n```\n    [root@colinvps /]# firewall-cmd --zone=public --add-port=80/tcp --permanent \n    success\n    \n    [root@colinvps /]# firewall-cmd --zone=public --list-ports\n    7884/tcp 7987/tcp 7999/tcp 7938/tcp 7973/tcp  80/tcp\n```\n载入生效\n```\n    [root@colinvps /]# firewall-cmd --reload\n```\n\n## 开启shadowsocks服务\n```\n    [root@colinvps /]# ./shadowsocks-server > log &\n    [1] 1642\n```\n已成功开启  \n关闭服务\n```\n    [root@colinvps ~]# ps aux|grep shadowsocks-server\n    root      1642  0.1  1.0 187916  5124 pts/0    Sl   02:11   0:08 ./shadowsocks-server\n    root      4749  0.0  0.4 112716  2380 pts/0    S+   04:31   0:00 grep --color=auto shadowsocks-server\n    \n    [root@colinvps ~]# kill -9 4749\n```\n\n## 使用客户端测试链接\n在[shadowsocks-windows](https://github.com/shadowsocks/shadowsocks-windows/releases)中下载客户端\nshadowsocks-windows客户端配置同服务器config.json文件一致就好，可根据不同端口配置不同密码  \n配置好相关的内容进行测试，启用系统代理，右键点开帮助->显示日志\n查看链接情况  \n点击[谷歌](https://www.google.com/)测试   \n\n\n##备注\n###重置密码\nVPS重启镜像后重置密码  \n```\n    [root@colinvps ~]# passwd root\n    New password:\n    Retype new password:\n    passwd: all authentication tokens updated successfully.\n```","source":"_posts/use/shadowsocks-go.md","raw":"---\ntitle: ShadowSocks-从入门到出门[go版本]\ncopyright: true  \ntags: \n    - go\n    - ss\n    - use    \n    - install\n    - shadowsocks    \n      \ncategories: use   \n\ndate: 2017-12-012 13:00:00\n---\n\n&emsp;&emsp;因被喝茶，shadowsocks 作者被迫停更了shadowsocks的python服务器版本，\ngo语言版本开始被很多人使用。但python版本停更并非go版本使用频次增多的主要原因,\n除了语言切换的限制，更多的是因为go语言中自带高并发的特性，使得其体验较好，\n于是越来越多的同事都自行搭建go版本自用。  \n本文尽可能详细说明shadowsocks的搭建使用细节。\n<!-- more -->\n\n## 目录\n \n\n<!-- TOC -->\n\n- [目录](#目录)\n- [说明](#说明)\n- [服务器选择](#服务器选择)\n- [关于云服务](#关于云服务)\n- [开始](#开始)\n- [Linux内核升级-> linux4](#linux内核升级--linux4)\n    - [检查当前系统内核版本：](#检查当前系统内核版本)\n    - [检查当前tcp算法](#检查当前tcp算法)\n    - [注意](#注意)\n    - [使用ELRepo仓库：](#使用elrepo仓库)\n    - [列出目前可用的Linux内核包：](#列出目前可用的linux内核包)\n    - [安装最新主线稳定内核](#安装最新主线稳定内核)\n    - [修改默认启动内核](#修改默认启动内核)\n        - [cnetos6](#cnetos6)\n        - [centos7](#centos7)\n    - [重启](#重启)\n    - [检测](#检测)\n- [tcp算法改为BBR](#tcp算法改为bbr)\n    - [配置生效](#配置生效)\n    - [检查](#检查)\n- [安装go](#安装go)\n- [安装git](#安装git)\n- [安装shadowsocks](#安装shadowsocks)\n- [配置config.json文件](#配置configjson文件)\n- [开放端口](#开放端口)\n- [开启shadowsocks服务](#开启shadowsocks服务)\n- [使用客户端测试链接](#使用客户端测试链接)\n- [备注](#备注)\n    - [重置密码](#重置密码)\n\n<!-- /TOC -->\n\n\n## 说明\n&emsp;&emsp;使用shadowsocks的前置条件。  \n&emsp;&emsp;首先，必须拥有一台境外服务器，如果不是自己的物理所有，则需租赁VPS服务器。  \n&emsp;&emsp;所谓VPS服务器，即Virtual Private Server -私有虚拟服务器。  \n&emsp;&emsp;关于租赁服务器，博主常用服务商为vultr、搬瓦工、cloudcone等，\n这也是目前广告和稳定性同时做的比较好的几家。  \n&emsp;&emsp;另随互联网产业不断增长，相关服务需求缺口逐渐呈现，越来越多的云服务商参与其中竞争，相对前面几家，有很多的小服务商也推出了性价比更高的vps服务，主要集中在俄国区，各位可以自由选择。\n大厂还有谷歌的云服务器、亚马逊的AWS,微软的Azure，各位均可一试。  \n&emsp;&emsp;本文搭建环境时VPS系统为centos。  \n\n## 服务器选择\n&ensp;&ensp;选择VPS服务商时需注意地理位置远近，测速工具检测结果，及其服务器架构，\n其中注意服务器最好选择Kvm,Xen等宽容度较高的架构方便网络层级的扩展，避免OpenVZ,\n另外也会有服务器厂家会挂Xen卖OpenVZ,在购买之后也要记得及时检测。  \n&ensp;&ensp;购买服务器之后还有及时ping 服务器ID，若ping不通则马上发工单换ip,\n不同服务商换IP的价格不同。  \n&ensp;&ensp;国内云服务器所售的境外机型不推荐选择，性价比太低。  \n\n## 关于云服务\n&ensp;&ensp;关于云服务厂商所提供的VPS服务，大多为基于OpenStack的云计算平台开源实现，\n国内的两大云服务厂商也是基于此，不久前滴滴和腾讯云业务分开后，也自行组建了滴滴云服务平台，也是基于OpenStack,但其刚起步不推荐。  \nOpenStack相关的云计算实现，国内学习资源不多，各位可自行搜索，主栈语言为Python。  \n此处提供OpenStack官方地址：  \n&ensp;&ensp;[OpenStack 官网](https://www.openstack.org/)  \n&ensp;&ensp;[OpenStack github主页](https://github.com/openstack)  \n\n\n## 开始\n现在你已拥有了基于Xen架构的虚拟机(可ping通)，并已使用root账户登陆拥有管理员权限，接下来的步骤为：\n    * 升级Linux系统内核  \n    * 更改Linux底层TCP协议算法[BBR 加速]  \n    * 安装go  \n    * 安装git  \n    * 安装shadowsocks  \n    * 配置config.json文件  \n    * 防火墙开放端口  \n    * 使用客户端测试链接  \n\n配置前两项后可使用谷歌Tcp bbr算法加速，bbr算法可基于ai智能控制数据包上下行数量，\n减少国际带宽拥堵。  \n前两步为提升网络性能，可直接从第三步开始。\n\n## Linux内核升级-> linux4\n###检查当前系统内核版本：\n```\n    [root@vultr_host /]# uname -sr\n    Linux 3.10.0-693.21.1.el7.x86_64\n```\n###检查当前tcp算法\n```\n[root@vultr_host /]# sysctl net.ipv4.tcp_available_congestion_control\nnet.ipv4.tcp_available_congestion_control = cubic reno\n```\n此时系统内核使用的tcp算法内核为cubic/reno\n\n### 注意\n在centos中升级内核需要注意：\n多数linux发行版提供了使用 yum 的包管理系统以及官方支持的内核升级方法，但这所有的仅仅为其仓库下最新可用内核，非\n[linux 最新版本](https://www.kernel.org)。\n而且，在centos中也无法使用red hat。\n\n但是，CentOS可以使用ELRepo!\nELRepo是一个第三方仓库，可以将内核升级到最新版本。\n\t\n###使用ELRepo仓库：\n```\n    [root@vultr_host /]# rpm --import http://www.elrepo.org/RPM-GPG-KEY-elrepo.org\n    [root@vultr_host /]# rpm -Uvh http://www.elrepo.org/elrepo-release-7.0-2.el7.elrepo.noarch.rpm\n    Retrieving http://www.elrepo.org/elrepo-release-7.0-2.el7.elrepo.noarch.rpm\n    Retrieving http://elrepo.org/elrepo-release-7.0-3.el7.elrepo.noarch.rpm\n    Preparing...                          ################################# [100%]\n    Updating / installing...\n       1:elrepo-release-7.0-3.el7.elrepo  ################################# [100%]\n```\n\n### 列出目前可用的Linux内核包：\n```\n    [root@vultr_host /]# yum --disablerepo=\"*\" --enablerepo=\"elrepo-kernel\" list available\n    \n    Loaded plugins: fastestmirror\n    elrepo-kernel                                                                                  | 2.9 kB  00:00:00\n    elrepo-kernel/primary_db                                                                       | 1.7 MB  00:00:01\n    Determining fastest mirrors\n     * elrepo-kernel: mirrors.thzhost.com\n    Available Packages\n    kernel-lt.x86_64                                           4.4.138-1.el7.elrepo                          elrepo-kernel\n    kernel-lt-devel.x86_64                                     4.4.138-1.el7.elrepo                          elrepo-kernel\n    kernel-lt-doc.noarch                                       4.4.138-1.el7.elrepo                          elrepo-kernel\n    kernel-lt-headers.x86_64                                   4.4.138-1.el7.elrepo                          elrepo-kernel\n    kernel-lt-tools.x86_64                                     4.4.138-1.el7.elrepo                          elrepo-kernel\n    kernel-lt-tools-libs.x86_64                                4.4.138-1.el7.elrepo                          elrepo-kernel\n    kernel-lt-tools-libs-devel.x86_64                          4.4.138-1.el7.elrepo                          elrepo-kernel\n    kernel-ml.x86_64                                           4.17.2-1.el7.elrepo                           elrepo-kernel\n    kernel-ml-devel.x86_64                                     4.17.2-1.el7.elrepo                           elrepo-kernel\n    kernel-ml-doc.noarch                                       4.17.2-1.el7.elrepo                           elrepo-kernel\n    kernel-ml-headers.x86_64                                   4.17.2-1.el7.elrepo                           elrepo-kernel\n    kernel-ml-tools.x86_64                                     4.17.2-1.el7.elrepo                           elrepo-kernel\n    kernel-ml-tools-libs.x86_64                                4.17.2-1.el7.elrepo                           elrepo-kernel\n    kernel-ml-tools-libs-devel.x86_64                          4.17.2-1.el7.elrepo                           elrepo-kernel\n    perf.x86_64                                                4.17.2-1.el7.elrepo                           elrepo-kernel\n    python-perf.x86_64                                         4.17.2-1.el7.elrepo                           elrepo-kernel\n```\n\n### 安装最新主线稳定内核\n```\n    [root@vultr_host /]# yum --enablerepo=elrepo-kernel install kernel-ml\n    \n    Loaded plugins: fastestmirror\n    base                                                                                           | 3.6 kB  00:00:00\n    elrepo                                                                                         | 2.9 kB  00:00:00\n    epel/x86_64/metalink                                                                           |  19 kB  00:00:00\n    epel                                                                                           | 3.2 kB  00:00:00\n    https://epel.mirror.constant.com/7/x86_64/repodata/repomd.xml: [Errno -1] repomd.xml does not match metalink for epel\n    Trying other mirror.\n    epel                                                                                           | 3.2 kB  00:00:00\n    extras                                                                                         | 3.4 kB  00:00:00\n    updates                                                                                        | 3.4 kB  00:00:00\n    (1/8): base/7/x86_64/group_gz                                                                  | 166 kB  00:00:01\n    (2/8): epel/x86_64/group_gz                                                                    |  88 kB  00:00:01\n    (3/8): elrepo/primary_db                                                                       | 592 kB  00:00:01\n    (4/8): extras/7/x86_64/primary_db                                                              | 149 kB  00:00:00\n    epel/x86_64/primary            FAILED\n    https://sjc.edge.kernel.org/fedora-buffet/epel/7/x86_64/repodata/e8475f9ad0cd11429e1cf75752a6dd6fe2b5357a523232eff56af83454c9a3cd-primary.xml.gz: [Errno 14] HTTPS Error 404 - Not Found\n    Trying other mirror.\n    To address this issue please refer to the below wiki article\n    \n    https://wiki.centos.org/yum-errors\n    \n    If above article doesn't help to resolve this issue please use https://bugs.centos.org/.\n    \n    (5/8): epel/x86_64/updateinfo                                                                  | 933 kB  00:00:02\n    (6/8): updates/7/x86_64/primary_db                                                             | 2.7 MB  00:00:02\n    (7/8): epel/x86_64/primary                                                                     | 3.5 MB  00:00:05\n    (8/8): base/7/x86_64/primary_db                                                                | 5.9 MB  00:02:04\n    Loading mirror speeds from cached hostfile\n     * base: mirror.fileplanet.com\n     * elrepo: mirrors.thzhost.com\n     * elrepo-kernel: mirrors.thzhost.com\n     * epel: mirror.sjc02.svwh.net\n     * extras: mirror.fileplanet.com\n     * updates: mirror.fileplanet.com\n    epel                                                                                                      12585/12585\n    Resolving Dependencies\n    --> Running transaction check\n    ---> Package kernel-ml.x86_64 0:4.17.2-1.el7.elrepo will be installed\n    --> Finished Dependency Resolution\n    \n    Dependencies Resolved\n    \n    ======================================================================================================================\n     Package                  Arch                  Version                            Repository                    Size\n    ======================================================================================================================\n    Installing:\n     kernel-ml                x86_64                4.17.2-1.el7.elrepo                elrepo-kernel                 45 M\n    \n    Transaction Summary\n    ======================================================================================================================\n    Install  1 Package\n    \n    Total download size: 45 M\n    Installed size: 201 M\n    Is this ok [y/d/N]: y                       // Yes\n    \n    Downloading packages:\n    kernel-ml-4.17.2-1.el7.elrepo.x86_64.rpm                                                       |  45 MB  00:00:06\n    Running transaction check\n    Running transaction test\n    Transaction test succeeded\n    Running transaction\n    Warning: RPMDB altered outside of yum.\n      Installing : kernel-ml-4.17.2-1.el7.elrepo.x86_64                                                               1/1\n      Verifying  : kernel-ml-4.17.2-1.el7.elrepo.x86_64                                                               1/1\n    \n    Installed:\n      kernel-ml.x86_64 0:4.17.2-1.el7.elrepo\n    \n    Complete!\n```\n### 修改默认启动内核\n#### cnetos6\n如果是centos6,直接通过/etc/grub.conf文件修改启动顺序  \n使用vi 或者vim命令修改  \n```\n    vi /boot/grub/grub.conf\n    \n    -----------------\n    \n    #boot=/dev/sda\n    default=1\n    timeout=5\n    ...\n```\n其中default默认为0，将其修改为1即可  \n#### centos7\ncentos 7中是通过grub2引导启动顺序。需要执行相关命令。  \n1.查看当前系统所有内核\n```\n    [root@colinvps /]# cat boot/grub2/grub.cfg |grep menuentry\n    if [ x\"${feature_menuentry_id}\" = xy ]; then\n      menuentry_id_option=\"--id\"\n      menuentry_id_option=\"\"\n    export menuentry_id_option\n    menuentry 'CentOS Linux 7 Rescue cf9fbca3fb7842b4915d9cd81c418fb1 (4.17.3-1.el7.elrepo.x86_64)' --class centos --class gnu-linux --class gnu --class os --unrestricted $menuentry_id_option 'gnulinux-3.10.0-123.el7.x86_64-advanced-fe0109f2-6f34-48ae-b51e-1f5fa78305b5' {\n    menuentry 'CentOS Linux (4.17.3-1.el7.elrepo.x86_64) 7 (Core)' --class centos --class gnu-linux --class gnu --class os --unrestricted $menuentry_id_option 'gnulinux-3.10.0-123.el7.x86_64-advanced-fe0109f2-6f34-48ae-b51e-1f5fa78305b5' {\n    menuentry 'CentOS Linux 7 Rescue 5491904015ae6a4d828c6acbbfc755b1 (3.10.0-862.3.3.el7.x86_64)' --class centos --class gnu-linux --class gnu --class os --unrestricted $menuentry_id_option 'gnulinux-3.10.0-123.el7.x86_64-advanced-fe0109f2-6f34-48ae-b51e-1f5fa78305b5' {\n    menuentry 'CentOS Linux (3.10.0-862.3.3.el7.x86_64) 7 (Core)' --class centos --class gnu-linux --class gnu --class os --unrestricted $menuentry_id_option 'gnulinux-3.10.0-123.el7.x86_64-advanced-fe0109f2-6f34-48ae-b51e-1f5fa78305b5' {\n    menuentry 'CentOS Linux (3.10.0-123.4.2.el7.x86_64) 7 (Core)' --class centos --class gnu-linux --class gnu --class os --unrestricted $menuentry_id_option 'gnulinux-3.10.0-123.el7.x86_64-advanced-fe0109f2-6f34-48ae-b51e-1f5fa78305b5' {\n    menuentry 'CentOS Linux, with Linux 3.10.0-123.el7.x86_64' --class centos --class gnu-linux --class gnu --class os --unrestricted $menuentry_id_option 'gnulinux-3.10.0-123.el7.x86_64-advanced-fe0109f2-6f34-48ae-b51e-1f5fa78305b5' {\n    menuentry 'CentOS Linux, with Linux 0-rescue-11264912be38456483e63dfd21d402f4' --class centos --class gnu-linux --class gnu --class os --unrestricted $menuentry_id_option 'gnulinux-0-rescue-11264912be38456483e63dfd21d402f4-advanced-fe0109f2-6f34-48ae-b51e-1f5fa78305b5' {\n    [root@colinvps /]#\n```\n2.设置默认启动内核\n```\n    grub2-set-default \"CentOS Linux (4.17.3-1.el7.elrepo.x86_64) 7 (Core)\"\n```\n3.检查结果\n```\n    [root@colinvps /]# grub2-editenv list\n    saved_entry=CentOS Linux (4.17.3-1.el7.elrepo.x86_64) 7 (Core)\n```\n设置成功\n\n### 重启\n```\n    reboot\n```\n如果在之上修改默认启动内核没有成功，可在VPS服务提供的网页console 界面下使用reboot命令重启  \n在网页端口重启可通过方向键选择将进入的系统内核，类似PC下的bios选择系统  \n一般选择第二个，主要选择对应安装号码的内核就好，“(4.17.3-1.el7.elrepo.x86_64) 7 (Core)”  \n\n### 检测\n登陆后查看系统内核：  \n```\n    [root@vultr_host /]# uname -sr\n    Linux 4.17.2-693.21.1.el7.x86_64\n```\n\n系统内核升级成功\n\n\n\n## tcp算法改为BBR\n编辑系统文件\n```\n    vi /etc/sysctl.conf\n```\n\n在该文件中加入以下两句\n```\n    net.core.default_qdisc = fq\n    net.ipv4.tcp_congestion_control = bbr\n```\n\n添加结果\n```\n    [root@vultr_host /]# cat /etc/sysctl.conf\n    # sysctl settings are defined through files in\n    # /usr/lib/sysctl.d/, /run/sysctl.d/, and /etc/sysctl.d/.\n    #\n    # Vendors settings live in /usr/lib/sysctl.d/.\n    # To override a whole file, create a new file with the same in\n    # /etc/sysctl.d/ and put new settings there. To override\n    # only specific settings, add a file with a lexically later\n    # name in /etc/sysctl.d/ and put new settings there.\n    #\n    # For more information, see sysctl.conf(5) and sysctl.d(5).\n    \n    # Accept IPv6 advertisements when forwarding is enabled\n    net.ipv6.conf.all.accept_ra = 2\n    net.ipv6.conf.eth0.accept_ra = 2\n    net.core.default_qdisc = fq\n    net.ipv4.tcp_congestion_control = bbr\n```\n\n### 配置生效\n```\n    [root@vultr_host /]# sysctl -p\n    net.ipv6.conf.all.accept_ra = 2\n    net.ipv6.conf.eth0.accept_ra = 2\n    net.core.default_qdisc = fq\n    net.ipv4.tcp_congestion_control = bbr\n```\n\n### 检查\n```\n    [root@vultr_host /]# sysctl net.ipv4.tcp_available_congestion_control\n    net.ipv4.tcp_available_congestion_control = reno cubic bbr\n```\n结果带有bbr  \n\n成功使用BBR算法\n```    \n    [root@vultr_host /]# lsmod|grep bbr\n    tcp_bbr                20480  1\n```\n\n\n\n## 安装go\n下载\n```\n    [root@colinvps /]# cd /usr/local\n    [root@colinvps local]# ls\n    bin  etc  games  include  lib  lib64  libexec  sbin  share  src\n    [root@colinvps local]# wget https://storage.googleapis.com/golang/go1.6.3.linux-amd64.tar.gz\n    --2018-07-03 00:06:49--  https://storage.googleapis.com/golang/go1.6.3.linux-amd64.tar.gz\n    Resolving storage.googleapis.com (storage.googleapis.com)... 172.217.14.112, 2607:f8b0:4007:80e::2010\n    Connecting to storage.googleapis.com (storage.googleapis.com)|172.217.14.112|:443... connected.\n    HTTP request sent, awaiting response... 200 OK\n    Length: 84856920 (81M) [application/x-gzip]\n    Saving to: ‘go1.6.3.linux-amd64.tar.gz’\n    \n    100%[===============================================================================================>] 84,856,920  52.5MB/s   in 1.5s\n    \n    2018-07-03 00:06:51 (52.5 MB/s) - ‘go1.6.3.linux-amd64.tar.gz’ saved [84856920/84856920]\n```\n解压，这里日志比较长，只给命令\n```\n    [root@colinvps /]# tar -xvf go1.6.3linux-amd64.tar.gz\n```\n添加环境变量，加入以下两行\n```\n    \n    [root@colinvps /]# vi /etc/profile\n    \n    export GOROOT=/usr/local/go\n    export PATH=$PATH:$GOROOT/bin\n```\n重载\n```\n    [root@colinvps /]# source /etc/profile\n```\n在 ~ 目录设置自己的GOPATH\n```\n    [root@colinvps ~]# vi .bash_profile\n    export GOPATH=$HOME/shadowsocks\n```\n重载\n```\n    [root@colinvps ~]# source .bash_profile\n```\n## 安装git\n```\n    [root@colinvps ~]#  yum install git\n            \n    Loaded plugins: fastestmirror\n    Loading mirror speeds from cached hostfile\n     * base: mirror.san.fastserv.com\n     * elrepo: repos.lax-noc.com\n     * extras: mirrors.xmission.com\n     * updates: mirror.scalabledns.com\n    Resolving Dependencies\n    --> Running transaction check\n    ---> Package git.x86_64 0:1.8.3.1-14.el7_5 will be installed\n    --> Processing Dependency: perl-Git = 1.8.3.1-14.el7_5 for package: git-1.8.3.1-14.el7_5.x86_64\n    --> Processing Dependency: perl >= 5.008 for package: git-1.8.3.1-14.el7_5.x86_64\n    --> Processing Dependency: rsync for package: git-1.8.3.1-14.el7_5.x86_64\n    --> Processing Dependency: perl(warnings) for package: git-1.8.3.1-14.el7_5.x86_64\n    --> Processing Dependency: perl(vars) for package: git-1.8.3.1-14.el7_5.x86_64\n    --> Processing Dependency: perl(strict) for package: git-1.8.3.1-14.el7_5.x86_64\n    --> Processing Dependency: perl(lib) for package: git-1.8.3.1-14.el7_5.x86_64\n    --> Processing Dependency: perl(Term::ReadKey) for package: git-1.8.3.1-14.el7_5.x86_64\n    --> Processing Dependency: perl(Git) for package: git-1.8.3.1-14.el7_5.x86_64\n    --> Processing Dependency: perl(Getopt::Long) for package: git-1.8.3.1-14.el7_5.x86_64\n    --> Processing Dependency: perl(File::stat) for package: git-1.8.3.1-14.el7_5.x86_64\n    --> Processing Dependency: perl(File::Temp) for package: git-1.8.3.1-14.el7_5.x86_64\n    --> Processing Dependency: perl(File::Spec) for package: git-1.8.3.1-14.el7_5.x86_64\n    --> Processing Dependency: perl(File::Path) for package: git-1.8.3.1-14.el7_5.x86_64\n    --> Processing Dependency: perl(File::Find) for package: git-1.8.3.1-14.el7_5.x86_64\n    --> Processing Dependency: perl(File::Copy) for package: git-1.8.3.1-14.el7_5.x86_64\n    --> Processing Dependency: perl(File::Basename) for package: git-1.8.3.1-14.el7_5.x86_64\n    --> Processing Dependency: perl(Exporter) for package: git-1.8.3.1-14.el7_5.x86_64\n    --> Processing Dependency: perl(Error) for package: git-1.8.3.1-14.el7_5.x86_64\n    --> Processing Dependency: /usr/bin/perl for package: git-1.8.3.1-14.el7_5.x86_64\n    --> Processing Dependency: libgnome-keyring.so.0()(64bit) for package: git-1.8.3.1-14.el7_5.x86_64\n    --> Running transaction check\n    ---> Package libgnome-keyring.x86_64 0:3.12.0-1.el7 will be installed\n    ---> Package perl.x86_64 4:5.16.3-292.el7 will be installed\n    --> Processing Dependency: perl-libs = 4:5.16.3-292.el7 for package: 4:perl-5.16.3-292.el7.x86_64\n    --> Processing Dependency: perl(Socket) >= 1.3 for package: 4:perl-5.16.3-292.el7.x86_64\n    --> Processing Dependency: perl(Scalar::Util) >= 1.10 for package: 4:perl-5.16.3-292.el7.x86_64\n    --> Processing Dependency: perl-macros for package: 4:perl-5.16.3-292.el7.x86_64\n    --> Processing Dependency: perl-libs for package: 4:perl-5.16.3-292.el7.x86_64\n    --> Processing Dependency: perl(threads::shared) for package: 4:perl-5.16.3-292.el7.x86_64\n    --> Processing Dependency: perl(threads) for package: 4:perl-5.16.3-292.el7.x86_64\n    --> Processing Dependency: perl(constant) for package: 4:perl-5.16.3-292.el7.x86_64\n    --> Processing Dependency: perl(Time::Local) for package: 4:perl-5.16.3-292.el7.x86_64\n    --> Processing Dependency: perl(Time::HiRes) for package: 4:perl-5.16.3-292.el7.x86_64\n    --> Processing Dependency: perl(Storable) for package: 4:perl-5.16.3-292.el7.x86_64\n    --> Processing Dependency: perl(Socket) for package: 4:perl-5.16.3-292.el7.x86_64\n    --> Processing Dependency: perl(Scalar::Util) for package: 4:perl-5.16.3-292.el7.x86_64\n    --> Processing Dependency: perl(Pod::Simple::XHTML) for package: 4:perl-5.16.3-292.el7.x86_64\n    --> Processing Dependency: perl(Pod::Simple::Search) for package: 4:perl-5.16.3-292.el7.x86_64\n    --> Processing Dependency: perl(Filter::Util::Call) for package: 4:perl-5.16.3-292.el7.x86_64\n    --> Processing Dependency: perl(Carp) for package: 4:perl-5.16.3-292.el7.x86_64\n    --> Processing Dependency: libperl.so()(64bit) for package: 4:perl-5.16.3-292.el7.x86_64\n    ---> Package perl-Error.noarch 1:0.17020-2.el7 will be installed\n    ---> Package perl-Exporter.noarch 0:5.68-3.el7 will be installed\n    ---> Package perl-File-Path.noarch 0:2.09-2.el7 will be installed\n    ---> Package perl-File-Temp.noarch 0:0.23.01-3.el7 will be installed\n    ---> Package perl-Getopt-Long.noarch 0:2.40-3.el7 will be installed\n    --> Processing Dependency: perl(Pod::Usage) >= 1.14 for package: perl-Getopt-Long-2.40-3.el7.noarch\n    --> Processing Dependency: perl(Text::ParseWords) for package: perl-Getopt-Long-2.40-3.el7.noarch\n    ---> Package perl-Git.noarch 0:1.8.3.1-14.el7_5 will be installed\n    ---> Package perl-PathTools.x86_64 0:3.40-5.el7 will be installed\n    ---> Package perl-TermReadKey.x86_64 0:2.30-20.el7 will be installed\n    ---> Package rsync.x86_64 0:3.1.2-4.el7 will be installed\n    --> Running transaction check\n    ---> Package perl-Carp.noarch 0:1.26-244.el7 will be installed\n    ---> Package perl-Filter.x86_64 0:1.49-3.el7 will be installed\n    ---> Package perl-Pod-Simple.noarch 1:3.28-4.el7 will be installed\n    --> Processing Dependency: perl(Pod::Escapes) >= 1.04 for package: 1:perl-Pod-Simple-3.28-4.el7.noarch\n    --> Processing Dependency: perl(Encode) for package: 1:perl-Pod-Simple-3.28-4.el7.noarch\n    ---> Package perl-Pod-Usage.noarch 0:1.63-3.el7 will be installed\n    --> Processing Dependency: perl(Pod::Text) >= 3.15 for package: perl-Pod-Usage-1.63-3.el7.noarch\n    --> Processing Dependency: perl-Pod-Perldoc for package: perl-Pod-Usage-1.63-3.el7.noarch\n    ---> Package perl-Scalar-List-Utils.x86_64 0:1.27-248.el7 will be installed\n    ---> Package perl-Socket.x86_64 0:2.010-4.el7 will be installed\n    ---> Package perl-Storable.x86_64 0:2.45-3.el7 will be installed\n    ---> Package perl-Text-ParseWords.noarch 0:3.29-4.el7 will be installed\n    ---> Package perl-Time-HiRes.x86_64 4:1.9725-3.el7 will be installed\n    ---> Package perl-Time-Local.noarch 0:1.2300-2.el7 will be installed\n    ---> Package perl-constant.noarch 0:1.27-2.el7 will be installed\n    ---> Package perl-libs.x86_64 4:5.16.3-292.el7 will be installed\n    ---> Package perl-macros.x86_64 4:5.16.3-292.el7 will be installed\n    ---> Package perl-threads.x86_64 0:1.87-4.el7 will be installed\n    ---> Package perl-threads-shared.x86_64 0:1.43-6.el7 will be installed\n    --> Running transaction check\n    ---> Package perl-Encode.x86_64 0:2.51-7.el7 will be installed\n    ---> Package perl-Pod-Escapes.noarch 1:1.04-292.el7 will be installed\n    ---> Package perl-Pod-Perldoc.noarch 0:3.20-4.el7 will be installed\n    --> Processing Dependency: perl(parent) for package: perl-Pod-Perldoc-3.20-4.el7.noarch\n    --> Processing Dependency: perl(HTTP::Tiny) for package: perl-Pod-Perldoc-3.20-4.el7.noarch\n    ---> Package perl-podlators.noarch 0:2.5.1-3.el7 will be installed\n    --> Running transaction check\n    ---> Package perl-HTTP-Tiny.noarch 0:0.033-3.el7 will be installed\n    ---> Package perl-parent.noarch 1:0.225-244.el7 will be installed\n    --> Finished Dependency Resolution\n    \n    Dependencies Resolved\n    \n    ============================================================================================\n     Package                       Arch          Version                   Repository      Size\n    ============================================================================================\n    Installing:\n     git                           x86_64        1.8.3.1-14.el7_5          updates        4.4 M\n    Installing for dependencies:\n     libgnome-keyring              x86_64        3.12.0-1.el7              base           109 k\n     perl                          x86_64        4:5.16.3-292.el7          base           8.0 M\n     perl-Carp                     noarch        1.26-244.el7              base            19 k\n     perl-Encode                   x86_64        2.51-7.el7                base           1.5 M\n     perl-Error                    noarch        1:0.17020-2.el7           base            32 k\n     perl-Exporter                 noarch        5.68-3.el7                base            28 k\n     perl-File-Path                noarch        2.09-2.el7                base            26 k\n     perl-File-Temp                noarch        0.23.01-3.el7             base            56 k\n     perl-Filter                   x86_64        1.49-3.el7                base            76 k\n     perl-Getopt-Long              noarch        2.40-3.el7                base            56 k\n     perl-Git                      noarch        1.8.3.1-14.el7_5          updates         54 k\n     perl-HTTP-Tiny                noarch        0.033-3.el7               base            38 k\n     perl-PathTools                x86_64        3.40-5.el7                base            82 k\n     perl-Pod-Escapes              noarch        1:1.04-292.el7            base            51 k\n     perl-Pod-Perldoc              noarch        3.20-4.el7                base            87 k\n     perl-Pod-Simple               noarch        1:3.28-4.el7              base           216 k\n     perl-Pod-Usage                noarch        1.63-3.el7                base            27 k\n     perl-Scalar-List-Utils        x86_64        1.27-248.el7              base            36 k\n     perl-Socket                   x86_64        2.010-4.el7               base            49 k\n     perl-Storable                 x86_64        2.45-3.el7                base            77 k\n     perl-TermReadKey              x86_64        2.30-20.el7               base            31 k\n     perl-Text-ParseWords          noarch        3.29-4.el7                base            14 k\n     perl-Time-HiRes               x86_64        4:1.9725-3.el7            base            45 k\n     perl-Time-Local               noarch        1.2300-2.el7              base            24 k\n     perl-constant                 noarch        1.27-2.el7                base            19 k\n     perl-libs                     x86_64        4:5.16.3-292.el7          base           688 k\n     perl-macros                   x86_64        4:5.16.3-292.el7          base            43 k\n     perl-parent                   noarch        1:0.225-244.el7           base            12 k\n     perl-podlators                noarch        2.5.1-3.el7               base           112 k\n     perl-threads                  x86_64        1.87-4.el7                base            49 k\n     perl-threads-shared           x86_64        1.43-6.el7                base            39 k\n     rsync                         x86_64        3.1.2-4.el7               base           403 k\n    \n    Transaction Summary\n    ============================================================================================\n    Install  1 Package (+32 Dependent packages)\n    \n    Total download size: 16 M\n    Installed size: 60 M\n    Is this ok [y/d/N]: y\n    Downloading packages:\n    (1/33): git-1.8.3.1-14.el7_5.x86_64.rpm                              | 4.4 MB  00:00:00\n    (2/33): libgnome-keyring-3.12.0-1.el7.x86_64.rpm                     | 109 kB  00:00:00\n    (3/33): perl-Carp-1.26-244.el7.noarch.rpm                            |  19 kB  00:00:00\n    (4/33): perl-Encode-2.51-7.el7.x86_64.rpm                            | 1.5 MB  00:00:00\n    (5/33): perl-Error-0.17020-2.el7.noarch.rpm                          |  32 kB  00:00:00\n    (6/33): perl-Exporter-5.68-3.el7.noarch.rpm                          |  28 kB  00:00:00\n    (7/33): perl-File-Path-2.09-2.el7.noarch.rpm                         |  26 kB  00:00:00\n    (8/33): perl-File-Temp-0.23.01-3.el7.noarch.rpm                      |  56 kB  00:00:00\n    (9/33): perl-5.16.3-292.el7.x86_64.rpm                               | 8.0 MB  00:00:01\n    (10/33): perl-Git-1.8.3.1-14.el7_5.noarch.rpm                        |  54 kB  00:00:00\n    (11/33): perl-Filter-1.49-3.el7.x86_64.rpm                           |  76 kB  00:00:00\n    (12/33): perl-Getopt-Long-2.40-3.el7.noarch.rpm                      |  56 kB  00:00:00\n    (13/33): perl-HTTP-Tiny-0.033-3.el7.noarch.rpm                       |  38 kB  00:00:00\n    (14/33): perl-Pod-Escapes-1.04-292.el7.noarch.rpm                    |  51 kB  00:00:00\n    (15/33): perl-PathTools-3.40-5.el7.x86_64.rpm                        |  82 kB  00:00:00\n    (16/33): perl-Pod-Perldoc-3.20-4.el7.noarch.rpm                      |  87 kB  00:00:00\n    (17/33): perl-Pod-Usage-1.63-3.el7.noarch.rpm                        |  27 kB  00:00:00\n    (18/33): perl-Pod-Simple-3.28-4.el7.noarch.rpm                       | 216 kB  00:00:00\n    (19/33): perl-Scalar-List-Utils-1.27-248.el7.x86_64.rpm              |  36 kB  00:00:00\n    (20/33): perl-Socket-2.010-4.el7.x86_64.rpm                          |  49 kB  00:00:00\n    (21/33): perl-TermReadKey-2.30-20.el7.x86_64.rpm                     |  31 kB  00:00:00\n    (22/33): perl-Storable-2.45-3.el7.x86_64.rpm                         |  77 kB  00:00:00\n    (23/33): perl-Text-ParseWords-3.29-4.el7.noarch.rpm                  |  14 kB  00:00:00\n    (24/33): perl-Time-HiRes-1.9725-3.el7.x86_64.rpm                     |  45 kB  00:00:00\n    (25/33): perl-Time-Local-1.2300-2.el7.noarch.rpm                     |  24 kB  00:00:00\n    (26/33): perl-constant-1.27-2.el7.noarch.rpm                         |  19 kB  00:00:00\n    (27/33): perl-macros-5.16.3-292.el7.x86_64.rpm                       |  43 kB  00:00:00\n    (28/33): perl-parent-0.225-244.el7.noarch.rpm                        |  12 kB  00:00:00\n    (29/33): perl-libs-5.16.3-292.el7.x86_64.rpm                         | 688 kB  00:00:00\n    (30/33): perl-podlators-2.5.1-3.el7.noarch.rpm                       | 112 kB  00:00:00\n    (31/33): perl-threads-1.87-4.el7.x86_64.rpm                          |  49 kB  00:00:00\n    (32/33): perl-threads-shared-1.43-6.el7.x86_64.rpm                   |  39 kB  00:00:00\n    (33/33): rsync-3.1.2-4.el7.x86_64.rpm                                | 403 kB  00:00:00\n    --------------------------------------------------------------------------------------------\n    Total                                                       4.9 MB/s |  16 MB  00:00:03\n    Running transaction check\n    Running transaction test\n    Transaction test succeeded\n    Running transaction\n      Installing : 1:perl-parent-0.225-244.el7.noarch                                      1/33\n      Installing : perl-HTTP-Tiny-0.033-3.el7.noarch                                       2/33\n      Installing : perl-podlators-2.5.1-3.el7.noarch                                       3/33\n      Installing : perl-Pod-Perldoc-3.20-4.el7.noarch                                      4/33\n      Installing : 1:perl-Pod-Escapes-1.04-292.el7.noarch                                  5/33\n      Installing : perl-Text-ParseWords-3.29-4.el7.noarch                                  6/33\n      Installing : perl-Encode-2.51-7.el7.x86_64                                           7/33\n      Installing : perl-Pod-Usage-1.63-3.el7.noarch                                        8/33\n      Installing : 4:perl-macros-5.16.3-292.el7.x86_64                                     9/33\n      Installing : 4:perl-libs-5.16.3-292.el7.x86_64                                      10/33\n      Installing : 4:perl-Time-HiRes-1.9725-3.el7.x86_64                                  11/33\n      Installing : perl-Exporter-5.68-3.el7.noarch                                        12/33\n      Installing : perl-constant-1.27-2.el7.noarch                                        13/33\n      Installing : perl-Time-Local-1.2300-2.el7.noarch                                    14/33\n      Installing : perl-Socket-2.010-4.el7.x86_64                                         15/33\n      Installing : perl-Carp-1.26-244.el7.noarch                                          16/33\n      Installing : perl-Storable-2.45-3.el7.x86_64                                        17/33\n      Installing : perl-PathTools-3.40-5.el7.x86_64                                       18/33\n      Installing : perl-Scalar-List-Utils-1.27-248.el7.x86_64                             19/33\n      Installing : perl-File-Temp-0.23.01-3.el7.noarch                                    20/33\n      Installing : perl-File-Path-2.09-2.el7.noarch                                       21/33\n      Installing : perl-threads-shared-1.43-6.el7.x86_64                                  22/33\n      Installing : perl-threads-1.87-4.el7.x86_64                                         23/33\n      Installing : perl-Filter-1.49-3.el7.x86_64                                          24/33\n      Installing : 1:perl-Pod-Simple-3.28-4.el7.noarch                                    25/33\n      Installing : perl-Getopt-Long-2.40-3.el7.noarch                                     26/33\n      Installing : 4:perl-5.16.3-292.el7.x86_64                                           27/33\n      Installing : 1:perl-Error-0.17020-2.el7.noarch                                      28/33\n      Installing : perl-TermReadKey-2.30-20.el7.x86_64                                    29/33\n      Installing : rsync-3.1.2-4.el7.x86_64                                               30/33\n      Installing : libgnome-keyring-3.12.0-1.el7.x86_64                                   31/33\n      Installing : perl-Git-1.8.3.1-14.el7_5.noarch                                       32/33\n      Installing : git-1.8.3.1-14.el7_5.x86_64                                            33/33\n      Verifying  : perl-HTTP-Tiny-0.033-3.el7.noarch                                       1/33\n      Verifying  : libgnome-keyring-3.12.0-1.el7.x86_64                                    2/33\n      Verifying  : perl-threads-shared-1.43-6.el7.x86_64                                   3/33\n      Verifying  : 4:perl-Time-HiRes-1.9725-3.el7.x86_64                                   4/33\n      Verifying  : perl-Exporter-5.68-3.el7.noarch                                         5/33\n      Verifying  : perl-constant-1.27-2.el7.noarch                                         6/33\n      Verifying  : perl-PathTools-3.40-5.el7.x86_64                                        7/33\n      Verifying  : 4:perl-macros-5.16.3-292.el7.x86_64                                     8/33\n      Verifying  : 1:perl-parent-0.225-244.el7.noarch                                      9/33\n      Verifying  : 4:perl-5.16.3-292.el7.x86_64                                           10/33\n      Verifying  : perl-TermReadKey-2.30-20.el7.x86_64                                    11/33\n      Verifying  : perl-File-Temp-0.23.01-3.el7.noarch                                    12/33\n      Verifying  : 1:perl-Pod-Simple-3.28-4.el7.noarch                                    13/33\n      Verifying  : perl-Time-Local-1.2300-2.el7.noarch                                    14/33\n      Verifying  : 4:perl-libs-5.16.3-292.el7.x86_64                                      15/33\n      Verifying  : perl-Socket-2.010-4.el7.x86_64                                         16/33\n      Verifying  : git-1.8.3.1-14.el7_5.x86_64                                            17/33\n      Verifying  : perl-Carp-1.26-244.el7.noarch                                          18/33\n      Verifying  : 1:perl-Error-0.17020-2.el7.noarch                                      19/33\n      Verifying  : perl-Storable-2.45-3.el7.x86_64                                        20/33\n      Verifying  : perl-Scalar-List-Utils-1.27-248.el7.x86_64                             21/33\n      Verifying  : 1:perl-Pod-Escapes-1.04-292.el7.noarch                                 22/33\n      Verifying  : rsync-3.1.2-4.el7.x86_64                                               23/33\n      Verifying  : perl-Pod-Usage-1.63-3.el7.noarch                                       24/33\n      Verifying  : perl-Git-1.8.3.1-14.el7_5.noarch                                       25/33\n      Verifying  : perl-Encode-2.51-7.el7.x86_64                                          26/33\n      Verifying  : perl-Pod-Perldoc-3.20-4.el7.noarch                                     27/33\n      Verifying  : perl-podlators-2.5.1-3.el7.noarch                                      28/33\n      Verifying  : perl-File-Path-2.09-2.el7.noarch                                       29/33\n      Verifying  : perl-threads-1.87-4.el7.x86_64                                         30/33\n      Verifying  : perl-Filter-1.49-3.el7.x86_64                                          31/33\n      Verifying  : perl-Getopt-Long-2.40-3.el7.noarch                                     32/33\n      Verifying  : perl-Text-ParseWords-3.29-4.el7.noarch                                 33/33\n    \n    Installed:\n      git.x86_64 0:1.8.3.1-14.el7_5\n    \n    Dependency Installed:\n      libgnome-keyring.x86_64 0:3.12.0-1.el7     perl.x86_64 4:5.16.3-292.el7\n      perl-Carp.noarch 0:1.26-244.el7            perl-Encode.x86_64 0:2.51-7.el7\n      perl-Error.noarch 1:0.17020-2.el7          perl-Exporter.noarch 0:5.68-3.el7\n      perl-File-Path.noarch 0:2.09-2.el7         perl-File-Temp.noarch 0:0.23.01-3.el7\n      perl-Filter.x86_64 0:1.49-3.el7            perl-Getopt-Long.noarch 0:2.40-3.el7\n      perl-Git.noarch 0:1.8.3.1-14.el7_5         perl-HTTP-Tiny.noarch 0:0.033-3.el7\n      perl-PathTools.x86_64 0:3.40-5.el7         perl-Pod-Escapes.noarch 1:1.04-292.el7\n      perl-Pod-Perldoc.noarch 0:3.20-4.el7       perl-Pod-Simple.noarch 1:3.28-4.el7\n      perl-Pod-Usage.noarch 0:1.63-3.el7         perl-Scalar-List-Utils.x86_64 0:1.27-248.el7\n      perl-Socket.x86_64 0:2.010-4.el7           perl-Storable.x86_64 0:2.45-3.el7\n      perl-TermReadKey.x86_64 0:2.30-20.el7      perl-Text-ParseWords.noarch 0:3.29-4.el7\n      perl-Time-HiRes.x86_64 4:1.9725-3.el7      perl-Time-Local.noarch 0:1.2300-2.el7\n      perl-constant.noarch 0:1.27-2.el7          perl-libs.x86_64 4:5.16.3-292.el7\n      perl-macros.x86_64 4:5.16.3-292.el7        perl-parent.noarch 1:0.225-244.el7\n      perl-podlators.noarch 0:2.5.1-3.el7        perl-threads.x86_64 0:1.87-4.el7\n      perl-threads-shared.x86_64 0:1.43-6.el7    rsync.x86_64 0:3.1.2-4.el7\n    \n    Complete!\n```\n\n## 安装shadowsocks\n```\n    [root@colinvps ~]# go get github.com/shadowsocks/shadowsocks-go/cmd/shadowsocks-server\n    \n    [root@colinvps ~]# cd shadowsocks\n    [root@colinvps shadowsocks]# ls\n    bin  pkg  src\n```\n切换到bin目录下，使shadowsocks-server有可执行权限\n```\n    [root@colinvps shadowsocks]# cd bin\n    ./shadowsocks-server -h\n    \n    [root@colinvps bin]# chmod +x shadowsocks-server\n```\n\n## 配置config.json文件\n在bin目录下\n```\n    [root@colinvps bin]# vi config.json\n\n    {\n        \"server\":\"127.0.0.1\",\n        \"port_password\":{\n             \"7973\":\"123456\",\n             \"7884\":\"abcdef\",\n             \"7987\":\"1212112\",\n             \"7938\":\"1445566\",\n            \"7999\":\"345123\"\n        },\n        \"local_address\": \"127.0.0.1\",\n        \"local_port\":1080,\n        \"timeout\":600,\n        \"method\":\"aes-128-cfb\",\n        \"fast_open\":false,\n        \"workers\":1\n    }\n```\nconfig文件参数配置：\n\n## 开放端口\n将以上config文件的端口添加到防火墙  \n这里使用firewall命令  \n\n查看所有打开的端口： \n```\n    [root@colinvps /]# firewall-cmd --zone=public --list-ports\n    7884/tcp 7987/tcp 7999/tcp 7938/tcp 7973/tcp\n```\n添加端口\n```\n    [root@colinvps /]# firewall-cmd --zone=public --add-port=80/tcp --permanent \n    success\n    \n    [root@colinvps /]# firewall-cmd --zone=public --list-ports\n    7884/tcp 7987/tcp 7999/tcp 7938/tcp 7973/tcp  80/tcp\n```\n载入生效\n```\n    [root@colinvps /]# firewall-cmd --reload\n```\n\n## 开启shadowsocks服务\n```\n    [root@colinvps /]# ./shadowsocks-server > log &\n    [1] 1642\n```\n已成功开启  \n关闭服务\n```\n    [root@colinvps ~]# ps aux|grep shadowsocks-server\n    root      1642  0.1  1.0 187916  5124 pts/0    Sl   02:11   0:08 ./shadowsocks-server\n    root      4749  0.0  0.4 112716  2380 pts/0    S+   04:31   0:00 grep --color=auto shadowsocks-server\n    \n    [root@colinvps ~]# kill -9 4749\n```\n\n## 使用客户端测试链接\n在[shadowsocks-windows](https://github.com/shadowsocks/shadowsocks-windows/releases)中下载客户端\nshadowsocks-windows客户端配置同服务器config.json文件一致就好，可根据不同端口配置不同密码  \n配置好相关的内容进行测试，启用系统代理，右键点开帮助->显示日志\n查看链接情况  \n点击[谷歌](https://www.google.com/)测试   \n\n\n##备注\n###重置密码\nVPS重启镜像后重置密码  \n```\n    [root@colinvps ~]# passwd root\n    New password:\n    Retype new password:\n    passwd: all authentication tokens updated successfully.\n```","slug":"use/shadowsocks-go","published":1,"updated":"2018-08-31T08:33:23.174Z","_id":"cjl8qv5ti000phkeh58ih3b82","comments":1,"layout":"post","photos":[],"link":"","content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"\\assets\\css\\APlayer.min.css\"><script src=\"\\assets\\js\\APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><p>&emsp;&emsp;因被喝茶，shadowsocks 作者被迫停更了shadowsocks的python服务器版本，\ngo语言版本开始被很多人使用。但python版本停更并非go版本使用频次增多的主要原因,\n除了语言切换的限制，更多的是因为go语言中自带高并发的特性，使得其体验较好，\n于是越来越多的同事都自行搭建go版本自用。<br>本文尽可能详细说明shadowsocks的搭建使用细节。\n<a id=\"more\"></a></p>\n<h2 id=\"目录\"><a href=\"#目录\" class=\"headerlink\" title=\"目录\"></a>目录</h2><!-- TOC -->\n<ul>\n<li><a href=\"#目录\">目录</a></li>\n<li><a href=\"#说明\">说明</a></li>\n<li><a href=\"#服务器选择\">服务器选择</a></li>\n<li><a href=\"#关于云服务\">关于云服务</a></li>\n<li><a href=\"#开始\">开始</a></li>\n<li><a href=\"#linux内核升级--linux4\">Linux内核升级-&gt; linux4</a><ul>\n<li><a href=\"#检查当前系统内核版本\">检查当前系统内核版本：</a></li>\n<li><a href=\"#检查当前tcp算法\">检查当前tcp算法</a></li>\n<li><a href=\"#注意\">注意</a></li>\n<li><a href=\"#使用elrepo仓库\">使用ELRepo仓库：</a></li>\n<li><a href=\"#列出目前可用的linux内核包\">列出目前可用的Linux内核包：</a></li>\n<li><a href=\"#安装最新主线稳定内核\">安装最新主线稳定内核</a></li>\n<li><a href=\"#修改默认启动内核\">修改默认启动内核</a><ul>\n<li><a href=\"#cnetos6\">cnetos6</a></li>\n<li><a href=\"#centos7\">centos7</a></li>\n</ul>\n</li>\n<li><a href=\"#重启\">重启</a></li>\n<li><a href=\"#检测\">检测</a></li>\n</ul>\n</li>\n<li><a href=\"#tcp算法改为bbr\">tcp算法改为BBR</a><ul>\n<li><a href=\"#配置生效\">配置生效</a></li>\n<li><a href=\"#检查\">检查</a></li>\n</ul>\n</li>\n<li><a href=\"#安装go\">安装go</a></li>\n<li><a href=\"#安装git\">安装git</a></li>\n<li><a href=\"#安装shadowsocks\">安装shadowsocks</a></li>\n<li><a href=\"#配置configjson文件\">配置config.json文件</a></li>\n<li><a href=\"#开放端口\">开放端口</a></li>\n<li><a href=\"#开启shadowsocks服务\">开启shadowsocks服务</a></li>\n<li><a href=\"#使用客户端测试链接\">使用客户端测试链接</a></li>\n<li><a href=\"#备注\">备注</a><ul>\n<li><a href=\"#重置密码\">重置密码</a></li>\n</ul>\n</li>\n</ul>\n<!-- /TOC -->\n<h2 id=\"说明\"><a href=\"#说明\" class=\"headerlink\" title=\"说明\"></a>说明</h2><p>&emsp;&emsp;使用shadowsocks的前置条件。<br>&emsp;&emsp;首先，必须拥有一台境外服务器，如果不是自己的物理所有，则需租赁VPS服务器。<br>&emsp;&emsp;所谓VPS服务器，即Virtual Private Server -私有虚拟服务器。<br>&emsp;&emsp;关于租赁服务器，博主常用服务商为vultr、搬瓦工、cloudcone等，\n这也是目前广告和稳定性同时做的比较好的几家。<br>&emsp;&emsp;另随互联网产业不断增长，相关服务需求缺口逐渐呈现，越来越多的云服务商参与其中竞争，相对前面几家，有很多的小服务商也推出了性价比更高的vps服务，主要集中在俄国区，各位可以自由选择。\n大厂还有谷歌的云服务器、亚马逊的AWS,微软的Azure，各位均可一试。<br>&emsp;&emsp;本文搭建环境时VPS系统为centos。  </p>\n<h2 id=\"服务器选择\"><a href=\"#服务器选择\" class=\"headerlink\" title=\"服务器选择\"></a>服务器选择</h2><p>&ensp;&ensp;选择VPS服务商时需注意地理位置远近，测速工具检测结果，及其服务器架构，\n其中注意服务器最好选择Kvm,Xen等宽容度较高的架构方便网络层级的扩展，避免OpenVZ,\n另外也会有服务器厂家会挂Xen卖OpenVZ,在购买之后也要记得及时检测。<br>&ensp;&ensp;购买服务器之后还有及时ping 服务器ID，若ping不通则马上发工单换ip,\n不同服务商换IP的价格不同。<br>&ensp;&ensp;国内云服务器所售的境外机型不推荐选择，性价比太低。  </p>\n<h2 id=\"关于云服务\"><a href=\"#关于云服务\" class=\"headerlink\" title=\"关于云服务\"></a>关于云服务</h2><p>&ensp;&ensp;关于云服务厂商所提供的VPS服务，大多为基于OpenStack的云计算平台开源实现，\n国内的两大云服务厂商也是基于此，不久前滴滴和腾讯云业务分开后，也自行组建了滴滴云服务平台，也是基于OpenStack,但其刚起步不推荐。<br>OpenStack相关的云计算实现，国内学习资源不多，各位可自行搜索，主栈语言为Python。<br>此处提供OpenStack官方地址：<br>&ensp;&ensp;<a href=\"https://www.openstack.org/\" target=\"_blank\" rel=\"noopener\">OpenStack 官网</a><br>&ensp;&ensp;<a href=\"https://github.com/openstack\" target=\"_blank\" rel=\"noopener\">OpenStack github主页</a>  </p>\n<h2 id=\"开始\"><a href=\"#开始\" class=\"headerlink\" title=\"开始\"></a>开始</h2><p>现在你已拥有了基于Xen架构的虚拟机(可ping通)，并已使用root账户登陆拥有管理员权限，接下来的步骤为：</p>\n<pre><code>* 升级Linux系统内核  \n* 更改Linux底层TCP协议算法[BBR 加速]  \n* 安装go  \n* 安装git  \n* 安装shadowsocks  \n* 配置config.json文件  \n* 防火墙开放端口  \n* 使用客户端测试链接  \n</code></pre><p>配置前两项后可使用谷歌Tcp bbr算法加速，bbr算法可基于ai智能控制数据包上下行数量，\n减少国际带宽拥堵。<br>前两步为提升网络性能，可直接从第三步开始。</p>\n<h2 id=\"Linux内核升级-gt-linux4\"><a href=\"#Linux内核升级-gt-linux4\" class=\"headerlink\" title=\"Linux内核升级-&gt; linux4\"></a>Linux内核升级-&gt; linux4</h2><p>###检查当前系统内核版本：\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-attr\">[root@vultr_host /]</span># <span class=\"selector-tag\">uname</span> <span class=\"selector-tag\">-sr</span></span><br><span class=\"line\"><span class=\"selector-tag\">Linux</span> 3<span class=\"selector-class\">.10</span><span class=\"selector-class\">.0-693</span><span class=\"selector-class\">.21</span><span class=\"selector-class\">.1</span><span class=\"selector-class\">.el7</span><span class=\"selector-class\">.x86_64</span></span><br></pre></td></tr></table></figure></p>\n<p>###检查当前tcp算法\n<figure class=\"highlight autoit\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root<span class=\"symbol\">@vultr_host</span> /]<span class=\"meta\"># sysctl net.ipv4.tcp_available_congestion_control</span></span><br><span class=\"line\">net.ipv4.tcp_available_congestion_control = cubic reno</span><br></pre></td></tr></table></figure></p>\n<p>此时系统内核使用的tcp算法内核为cubic/reno</p>\n<h3 id=\"注意\"><a href=\"#注意\" class=\"headerlink\" title=\"注意\"></a>注意</h3><p>在centos中升级内核需要注意：\n多数linux发行版提供了使用 yum 的包管理系统以及官方支持的内核升级方法，但这所有的仅仅为其仓库下最新可用内核，非\n<a href=\"https://www.kernel.org\" target=\"_blank\" rel=\"noopener\">linux 最新版本</a>。\n而且，在centos中也无法使用red hat。</p>\n<p>但是，CentOS可以使用ELRepo!\nELRepo是一个第三方仓库，可以将内核升级到最新版本。</p>\n<p>###使用ELRepo仓库：\n<figure class=\"highlight clean\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@vultr_host /]# rpm --<span class=\"keyword\">import</span> http:<span class=\"comment\">//www.elrepo.org/RPM-GPG-KEY-elrepo.org</span></span><br><span class=\"line\">[root@vultr_host /]# rpm -Uvh http:<span class=\"comment\">//www.elrepo.org/elrepo-release-7.0-2.el7.elrepo.noarch.rpm</span></span><br><span class=\"line\">Retrieving http:<span class=\"comment\">//www.elrepo.org/elrepo-release-7.0-2.el7.elrepo.noarch.rpm</span></span><br><span class=\"line\">Retrieving http:<span class=\"comment\">//elrepo.org/elrepo-release-7.0-3.el7.elrepo.noarch.rpm</span></span><br><span class=\"line\">Preparing...                          ################################# [<span class=\"number\">100</span>%]</span><br><span class=\"line\">Updating / installing...</span><br><span class=\"line\">   <span class=\"number\">1</span>:elrepo-release<span class=\"number\">-7.0</span><span class=\"number\">-3.</span>el7.elrepo  ################################# [<span class=\"number\">100</span>%]</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"列出目前可用的Linux内核包：\"><a href=\"#列出目前可用的Linux内核包：\" class=\"headerlink\" title=\"列出目前可用的Linux内核包：\"></a>列出目前可用的Linux内核包：</h3><figure class=\"highlight x86asm\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@vultr_host /]# yum --disablerepo=<span class=\"string\">\"*\"</span> --enablerepo=<span class=\"string\">\"elrepo-kernel\"</span> list available</span><br><span class=\"line\"></span><br><span class=\"line\">Loaded plugins: fastestmirror</span><br><span class=\"line\">elrepo-kernel                                                                                  | <span class=\"number\">2.9</span> kB  <span class=\"number\">00</span>:<span class=\"number\">00</span>:<span class=\"number\">00</span></span><br><span class=\"line\">elrepo-kernel/primary_db                                                                       | <span class=\"number\">1.7</span> MB  <span class=\"number\">00</span>:<span class=\"number\">00</span>:<span class=\"number\">01</span></span><br><span class=\"line\">Determining fastest mirrors</span><br><span class=\"line\"> * elrepo-kernel: mirrors.thzhost.com</span><br><span class=\"line\">Available Packages</span><br><span class=\"line\">kernel-lt.x86_64                                           <span class=\"number\">4.4</span><span class=\"meta\">.138</span>-<span class=\"number\">1.</span>el7.elrepo                          elrepo-kernel</span><br><span class=\"line\">kernel-lt-devel.x86_64                                     <span class=\"number\">4.4</span><span class=\"meta\">.138</span>-<span class=\"number\">1.</span>el7.elrepo                          elrepo-kernel</span><br><span class=\"line\">kernel-lt-doc.noarch                                       <span class=\"number\">4.4</span><span class=\"meta\">.138</span>-<span class=\"number\">1.</span>el7.elrepo                          elrepo-kernel</span><br><span class=\"line\">kernel-lt-headers.x86_64                                   <span class=\"number\">4.4</span><span class=\"meta\">.138</span>-<span class=\"number\">1.</span>el7.elrepo                          elrepo-kernel</span><br><span class=\"line\">kernel-lt-tools.x86_64                                     <span class=\"number\">4.4</span><span class=\"meta\">.138</span>-<span class=\"number\">1.</span>el7.elrepo                          elrepo-kernel</span><br><span class=\"line\">kernel-lt-tools-libs.x86_64                                <span class=\"number\">4.4</span><span class=\"meta\">.138</span>-<span class=\"number\">1.</span>el7.elrepo                          elrepo-kernel</span><br><span class=\"line\">kernel-lt-tools-libs-devel.x86_64                          <span class=\"number\">4.4</span><span class=\"meta\">.138</span>-<span class=\"number\">1.</span>el7.elrepo                          elrepo-kernel</span><br><span class=\"line\">kernel-ml.x86_64                                           <span class=\"number\">4.17</span><span class=\"meta\">.2</span>-<span class=\"number\">1.</span>el7.elrepo                           elrepo-kernel</span><br><span class=\"line\">kernel-ml-devel.x86_64                                     <span class=\"number\">4.17</span><span class=\"meta\">.2</span>-<span class=\"number\">1.</span>el7.elrepo                           elrepo-kernel</span><br><span class=\"line\">kernel-ml-doc.noarch                                       <span class=\"number\">4.17</span><span class=\"meta\">.2</span>-<span class=\"number\">1.</span>el7.elrepo                           elrepo-kernel</span><br><span class=\"line\">kernel-ml-headers.x86_64                                   <span class=\"number\">4.17</span><span class=\"meta\">.2</span>-<span class=\"number\">1.</span>el7.elrepo                           elrepo-kernel</span><br><span class=\"line\">kernel-ml-tools.x86_64                                     <span class=\"number\">4.17</span><span class=\"meta\">.2</span>-<span class=\"number\">1.</span>el7.elrepo                           elrepo-kernel</span><br><span class=\"line\">kernel-ml-tools-libs.x86_64                                <span class=\"number\">4.17</span><span class=\"meta\">.2</span>-<span class=\"number\">1.</span>el7.elrepo                           elrepo-kernel</span><br><span class=\"line\">kernel-ml-tools-libs-devel.x86_64                          <span class=\"number\">4.17</span><span class=\"meta\">.2</span>-<span class=\"number\">1.</span>el7.elrepo                           elrepo-kernel</span><br><span class=\"line\">perf.x86_64                                                <span class=\"number\">4.17</span><span class=\"meta\">.2</span>-<span class=\"number\">1.</span>el7.elrepo                           elrepo-kernel</span><br><span class=\"line\">python-perf.x86_64                                         <span class=\"number\">4.17</span><span class=\"meta\">.2</span>-<span class=\"number\">1.</span>el7.elrepo                           elrepo-kernel</span><br></pre></td></tr></table></figure>\n<h3 id=\"安装最新主线稳定内核\"><a href=\"#安装最新主线稳定内核\" class=\"headerlink\" title=\"安装最新主线稳定内核\"></a>安装最新主线稳定内核</h3><figure class=\"highlight stata\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@vultr_host /]# yum --enablerepo=elrepo-kernel install kernel-<span class=\"keyword\">ml</span></span><br><span class=\"line\"></span><br><span class=\"line\">Loaded plugins: fastestmirror</span><br><span class=\"line\">base                                                                                           | 3.6 kB  00:00:00</span><br><span class=\"line\">elrepo                                                                                         | 2.9 kB  00:00:00</span><br><span class=\"line\">epel/x86_64/metalink                                                                           |  19 kB  00:00:00</span><br><span class=\"line\">epel                                                                                           | 3.2 kB  00:00:00</span><br><span class=\"line\">https:<span class=\"comment\">//epel.mirror.constant.com/7/x86_64/repodata/repomd.xml: [Errno -1] repomd.xml does not match metalink for epel</span></span><br><span class=\"line\">Trying other mirror.</span><br><span class=\"line\">epel                                                                                           | 3.2 kB  00:00:00</span><br><span class=\"line\">extras                                                                                         | 3.4 kB  00:00:00</span><br><span class=\"line\">updates                                                                                        | 3.4 kB  00:00:00</span><br><span class=\"line\">(1/8): base/7/x86_64/group_gz                                                                  | 166 kB  00:00:01</span><br><span class=\"line\">(2/8): epel/x86_64/group_gz                                                                    |  88 kB  00:00:01</span><br><span class=\"line\">(3/8): elrepo/primary_db                                                                       | 592 kB  00:00:01</span><br><span class=\"line\">(4/8): extras/7/x86_64/primary_db                                                              | 149 kB  00:00:00</span><br><span class=\"line\">epel/x86_64/primary            FAILED</span><br><span class=\"line\">https:<span class=\"comment\">//sjc.edge.kernel.org/fedora-buffet/epel/7/x86_64/repodata/e8475f9ad0cd11429e1cf75752a6dd6fe2b5357a523232eff56af83454c9a3cd-primary.xml.gz: [Errno 14] HTTPS Error 404 - Not Found</span></span><br><span class=\"line\">Trying other mirror.</span><br><span class=\"line\">To address this issue please refer to the below wiki article</span><br><span class=\"line\"></span><br><span class=\"line\">https:<span class=\"comment\">//wiki.centos.org/yum-errors</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">If</span> above article doesn't <span class=\"keyword\">help</span> to resolve this issue please <span class=\"keyword\">use</span> https:<span class=\"comment\">//bugs.centos.org/.</span></span><br><span class=\"line\"></span><br><span class=\"line\">(5/8): epel/x86_64/updateinfo                                                                  | 933 kB  00:00:02</span><br><span class=\"line\">(6/8): updates/7/x86_64/primary_db                                                             | 2.7 MB  00:00:02</span><br><span class=\"line\">(7/8): epel/x86_64/primary                                                                     | 3.5 MB  00:00:05</span><br><span class=\"line\">(8/8): base/7/x86_64/primary_db                                                                | 5.9 MB  00:02:04</span><br><span class=\"line\">Loading mirror speeds from cached hostfile</span><br><span class=\"line\"><span class=\"comment\"> * base: mirror.fileplanet.com</span></span><br><span class=\"line\"><span class=\"comment\"> * elrepo: mirrors.thzhost.com</span></span><br><span class=\"line\"><span class=\"comment\"> * elrepo-kernel: mirrors.thzhost.com</span></span><br><span class=\"line\"><span class=\"comment\"> * epel: mirror.sjc02.svwh.net</span></span><br><span class=\"line\"><span class=\"comment\"> * extras: mirror.fileplanet.com</span></span><br><span class=\"line\"><span class=\"comment\"> * updates: mirror.fileplanet.com</span></span><br><span class=\"line\">epel                                                                                                      12585/12585</span><br><span class=\"line\">Resolving Dependencies</span><br><span class=\"line\">--&gt; Running transaction check</span><br><span class=\"line\">---&gt; Package kernel-<span class=\"keyword\">ml</span>.x86_64 0:4.17.2-1.el7.elrepo will be installed</span><br><span class=\"line\">--&gt; Finished Dependency Resolution</span><br><span class=\"line\"></span><br><span class=\"line\">Dependencies Resolved</span><br><span class=\"line\"></span><br><span class=\"line\">======================================================================================================================</span><br><span class=\"line\"> Package                  <span class=\"keyword\">Arch</span>                  <span class=\"keyword\">Version</span>                            Repository                    Size</span><br><span class=\"line\">======================================================================================================================</span><br><span class=\"line\">Installing:</span><br><span class=\"line\"> kernel-<span class=\"keyword\">ml</span>                x86_64                4.17.2-1.el7.elrepo                elrepo-kernel                 45 <span class=\"built_in\">M</span></span><br><span class=\"line\"></span><br><span class=\"line\">Transaction Summary</span><br><span class=\"line\">======================================================================================================================</span><br><span class=\"line\">Install  1 Package</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">Total</span> download size: 45 <span class=\"built_in\">M</span></span><br><span class=\"line\">Installed size: 201 <span class=\"built_in\">M</span></span><br><span class=\"line\">Is this ok [y/<span class=\"keyword\">d</span>/<span class=\"keyword\">N</span>]: y                       <span class=\"comment\">// Yes</span></span><br><span class=\"line\"></span><br><span class=\"line\">Downloading packages:</span><br><span class=\"line\">kernel-<span class=\"keyword\">ml</span>-4.17.2-1.el7.elrepo.x86_64.rpm                                                       |  45 MB  00:00:06</span><br><span class=\"line\">Running transaction check</span><br><span class=\"line\">Running transaction <span class=\"keyword\">test</span></span><br><span class=\"line\">Transaction <span class=\"keyword\">test</span> succeeded</span><br><span class=\"line\">Running transaction</span><br><span class=\"line\">Warning: RPMDB altered outside of yum.</span><br><span class=\"line\">  Installing : kernel-<span class=\"keyword\">ml</span>-4.17.2-1.el7.elrepo.x86_64                                                               1/1</span><br><span class=\"line\">  Verifying  : kernel-<span class=\"keyword\">ml</span>-4.17.2-1.el7.elrepo.x86_64                                                               1/1</span><br><span class=\"line\"></span><br><span class=\"line\">Installed:</span><br><span class=\"line\">  kernel-<span class=\"keyword\">ml</span>.x86_64 0:4.17.2-1.el7.elrepo</span><br><span class=\"line\"></span><br><span class=\"line\">Complete!</span><br></pre></td></tr></table></figure>\n<h3 id=\"修改默认启动内核\"><a href=\"#修改默认启动内核\" class=\"headerlink\" title=\"修改默认启动内核\"></a>修改默认启动内核</h3><h4 id=\"cnetos6\"><a href=\"#cnetos6\" class=\"headerlink\" title=\"cnetos6\"></a>cnetos6</h4><p>如果是centos6,直接通过/etc/grub.conf文件修改启动顺序<br>使用vi 或者vim命令修改<br><figure class=\"highlight routeros\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vi /boot/grub/grub.conf</span><br><span class=\"line\"></span><br><span class=\"line\">-----------------</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#boot=/dev/sda</span></span><br><span class=\"line\"><span class=\"attribute\">default</span>=1</span><br><span class=\"line\"><span class=\"attribute\">timeout</span>=5</span><br><span class=\"line\"><span class=\"built_in\">..</span>.</span><br></pre></td></tr></table></figure></p>\n<p>其中default默认为0，将其修改为1即可  </p>\n<h4 id=\"centos7\"><a href=\"#centos7\" class=\"headerlink\" title=\"centos7\"></a>centos7</h4><p>centos 7中是通过grub2引导启动顺序。需要执行相关命令。<br>1.查看当前系统所有内核\n<figure class=\"highlight lsl\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@colinvps /]# cat boot/grub2/grub.cfg |grep menuentry</span><br><span class=\"line\">if [ x<span class=\"string\">\"$&#123;feature_menuentry_id&#125;\"</span> = xy ]; then</span><br><span class=\"line\">  menuentry_id_option=<span class=\"string\">\"--id\"</span></span><br><span class=\"line\">  menuentry_id_option=<span class=\"string\">\"\"</span></span><br><span class=\"line\">export menuentry_id_option</span><br><span class=\"line\">menuentry 'CentOS Linux <span class=\"number\">7</span> Rescue cf9fbca3fb7842b4915d9cd81c418fb1 (<span class=\"number\">4.17</span><span class=\"number\">.3</span><span class=\"number\">-1.</span>el7.elrepo.x86_64)' --class centos --class gnu-linux --class gnu --class os --unrestricted $menuentry_id_option 'gnulinux<span class=\"number\">-3.10</span><span class=\"number\">.0</span><span class=\"number\">-123.</span>el7.x86_64-advanced-fe0109f2<span class=\"number\">-6</span>f34<span class=\"number\">-48</span>ae-b51e<span class=\"number\">-1</span>f5fa78305b5' &#123;</span><br><span class=\"line\">menuentry 'CentOS Linux (<span class=\"number\">4.17</span><span class=\"number\">.3</span><span class=\"number\">-1.</span>el7.elrepo.x86_64) <span class=\"number\">7</span> (Core)' --class centos --class gnu-linux --class gnu --class os --unrestricted $menuentry_id_option 'gnulinux<span class=\"number\">-3.10</span><span class=\"number\">.0</span><span class=\"number\">-123.</span>el7.x86_64-advanced-fe0109f2<span class=\"number\">-6</span>f34<span class=\"number\">-48</span>ae-b51e<span class=\"number\">-1</span>f5fa78305b5' &#123;</span><br><span class=\"line\">menuentry 'CentOS Linux <span class=\"number\">7</span> Rescue <span class=\"number\">5491904015</span>ae6a4d828c6acbbfc755b1 (<span class=\"number\">3.10</span><span class=\"number\">.0</span><span class=\"number\">-862.3</span><span class=\"number\">.3</span>.el7.x86_64)' --class centos --class gnu-linux --class gnu --class os --unrestricted $menuentry_id_option 'gnulinux<span class=\"number\">-3.10</span><span class=\"number\">.0</span><span class=\"number\">-123.</span>el7.x86_64-advanced-fe0109f2<span class=\"number\">-6</span>f34<span class=\"number\">-48</span>ae-b51e<span class=\"number\">-1</span>f5fa78305b5' &#123;</span><br><span class=\"line\">menuentry 'CentOS Linux (<span class=\"number\">3.10</span><span class=\"number\">.0</span><span class=\"number\">-862.3</span><span class=\"number\">.3</span>.el7.x86_64) <span class=\"number\">7</span> (Core)' --class centos --class gnu-linux --class gnu --class os --unrestricted $menuentry_id_option 'gnulinux<span class=\"number\">-3.10</span><span class=\"number\">.0</span><span class=\"number\">-123.</span>el7.x86_64-advanced-fe0109f2<span class=\"number\">-6</span>f34<span class=\"number\">-48</span>ae-b51e<span class=\"number\">-1</span>f5fa78305b5' &#123;</span><br><span class=\"line\">menuentry 'CentOS Linux (<span class=\"number\">3.10</span><span class=\"number\">.0</span><span class=\"number\">-123.4</span><span class=\"number\">.2</span>.el7.x86_64) <span class=\"number\">7</span> (Core)' --class centos --class gnu-linux --class gnu --class os --unrestricted $menuentry_id_option 'gnulinux<span class=\"number\">-3.10</span><span class=\"number\">.0</span><span class=\"number\">-123.</span>el7.x86_64-advanced-fe0109f2<span class=\"number\">-6</span>f34<span class=\"number\">-48</span>ae-b51e<span class=\"number\">-1</span>f5fa78305b5' &#123;</span><br><span class=\"line\">menuentry 'CentOS Linux, with Linux <span class=\"number\">3.10</span><span class=\"number\">.0</span><span class=\"number\">-123.</span>el7.x86_64' --class centos --class gnu-linux --class gnu --class os --unrestricted $menuentry_id_option 'gnulinux<span class=\"number\">-3.10</span><span class=\"number\">.0</span><span class=\"number\">-123.</span>el7.x86_64-advanced-fe0109f2<span class=\"number\">-6</span>f34<span class=\"number\">-48</span>ae-b51e<span class=\"number\">-1</span>f5fa78305b5' &#123;</span><br><span class=\"line\">menuentry 'CentOS Linux, with Linux <span class=\"number\">0</span>-rescue<span class=\"number\">-11264912</span>be38456483e63dfd21d402f4' --class centos --class gnu-linux --class gnu --class os --unrestricted $menuentry_id_option 'gnulinux<span class=\"number\">-0</span>-rescue<span class=\"number\">-11264912</span>be38456483e63dfd21d402f4-advanced-fe0109f2<span class=\"number\">-6</span>f34<span class=\"number\">-48</span>ae-b51e<span class=\"number\">-1</span>f5fa78305b5' &#123;</span><br><span class=\"line\">[root@colinvps /]#</span><br></pre></td></tr></table></figure></p>\n<p>2.设置默认启动内核\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-tag\">grub2-set-default</span> \"<span class=\"selector-tag\">CentOS</span> <span class=\"selector-tag\">Linux</span> (4<span class=\"selector-class\">.17</span><span class=\"selector-class\">.3-1</span><span class=\"selector-class\">.el7</span><span class=\"selector-class\">.elrepo</span><span class=\"selector-class\">.x86_64</span>) 7 (<span class=\"selector-tag\">Core</span>)\"</span><br></pre></td></tr></table></figure></p>\n<p>3.检查结果\n<figure class=\"highlight ini\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"section\">[root@colinvps /]</span><span class=\"comment\"># grub2-editenv list</span></span><br><span class=\"line\"><span class=\"attr\">saved_entry</span>=CentOS Linux (<span class=\"number\">4.17</span>.<span class=\"number\">3</span>-<span class=\"number\">1</span>.el7.elrepo.x<span class=\"number\">86_64</span>) <span class=\"number\">7</span> (Core)</span><br></pre></td></tr></table></figure></p>\n<p>设置成功</p>\n<h3 id=\"重启\"><a href=\"#重启\" class=\"headerlink\" title=\"重启\"></a>重启</h3><figure class=\"highlight ebnf\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">reboot</span></span><br></pre></td></tr></table></figure>\n<p>如果在之上修改默认启动内核没有成功，可在VPS服务提供的网页console 界面下使用reboot命令重启<br>在网页端口重启可通过方向键选择将进入的系统内核，类似PC下的bios选择系统<br>一般选择第二个，主要选择对应安装号码的内核就好，“(4.17.3-1.el7.elrepo.x86_64) 7 (Core)”  </p>\n<h3 id=\"检测\"><a href=\"#检测\" class=\"headerlink\" title=\"检测\"></a>检测</h3><p>登陆后查看系统内核：<br><figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-attr\">[root@vultr_host /]</span># <span class=\"selector-tag\">uname</span> <span class=\"selector-tag\">-sr</span></span><br><span class=\"line\"><span class=\"selector-tag\">Linux</span> 4<span class=\"selector-class\">.17</span><span class=\"selector-class\">.2-693</span><span class=\"selector-class\">.21</span><span class=\"selector-class\">.1</span><span class=\"selector-class\">.el7</span><span class=\"selector-class\">.x86_64</span></span><br></pre></td></tr></table></figure></p>\n<p>系统内核升级成功</p>\n<h2 id=\"tcp算法改为BBR\"><a href=\"#tcp算法改为BBR\" class=\"headerlink\" title=\"tcp算法改为BBR\"></a>tcp算法改为BBR</h2><p>编辑系统文件\n<figure class=\"highlight vim\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">vi</span> /etc/sysctl.<span class=\"keyword\">conf</span></span><br></pre></td></tr></table></figure></p>\n<p>在该文件中加入以下两句\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">net<span class=\"selector-class\">.core</span><span class=\"selector-class\">.default_qdisc</span> = fq</span><br><span class=\"line\">net<span class=\"selector-class\">.ipv4</span><span class=\"selector-class\">.tcp_congestion_control</span> = bbr</span><br></pre></td></tr></table></figure></p>\n<p>添加结果\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@vultr_host /]# cat /etc/sysctl.conf</span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> sysctl settings are defined through files <span class=\"keyword\">in</span></span></span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> /usr/lib/sysctl.d/, /run/sysctl.d/, and /etc/sysctl.d/.</span></span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"></span></span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> Vendors settings live <span class=\"keyword\">in</span> /usr/lib/sysctl.d/.</span></span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> To override a whole file, create a new file with the same <span class=\"keyword\">in</span></span></span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> /etc/sysctl.d/ and put new settings there. To override</span></span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> only specific settings, add a file with a lexically later</span></span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> name <span class=\"keyword\">in</span> /etc/sysctl.d/ and put new settings there.</span></span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"></span></span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> For more information, see sysctl.conf(5) and sysctl.d(5).</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> Accept IPv6 advertisements when forwarding is enabled</span></span><br><span class=\"line\">net.ipv6.conf.all.accept_ra = 2</span><br><span class=\"line\">net.ipv6.conf.eth0.accept_ra = 2</span><br><span class=\"line\">net.core.default_qdisc = fq</span><br><span class=\"line\">net.ipv4.tcp_congestion_control = bbr</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"配置生效\"><a href=\"#配置生效\" class=\"headerlink\" title=\"配置生效\"></a>配置生效</h3><figure class=\"highlight stata\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@vultr_host /]# sysctl -p</span><br><span class=\"line\"><span class=\"keyword\">net</span>.ipv6.<span class=\"keyword\">conf</span>.all.accept_ra = 2</span><br><span class=\"line\"><span class=\"keyword\">net</span>.ipv6.<span class=\"keyword\">conf</span>.eth0.accept_ra = 2</span><br><span class=\"line\"><span class=\"keyword\">net</span>.core.default_qdisc = fq</span><br><span class=\"line\"><span class=\"keyword\">net</span>.ipv4.tcp_congestion_control = bbr</span><br></pre></td></tr></table></figure>\n<h3 id=\"检查\"><a href=\"#检查\" class=\"headerlink\" title=\"检查\"></a>检查</h3><figure class=\"highlight autoit\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root<span class=\"symbol\">@vultr_host</span> /]<span class=\"meta\"># sysctl net.ipv4.tcp_available_congestion_control</span></span><br><span class=\"line\">net.ipv4.tcp_available_congestion_control = reno cubic bbr</span><br></pre></td></tr></table></figure>\n<p>结果带有bbr  </p>\n<p>成功使用BBR算法\n<figure class=\"highlight autoit\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root<span class=\"symbol\">@vultr_host</span> /]<span class=\"meta\"># lsmod|grep bbr</span></span><br><span class=\"line\">tcp_bbr                <span class=\"number\">20480</span>  <span class=\"number\">1</span></span><br></pre></td></tr></table></figure></p>\n<h2 id=\"安装go\"><a href=\"#安装go\" class=\"headerlink\" title=\"安装go\"></a>安装go</h2><p>下载\n<figure class=\"highlight less\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-attr\">[root@colinvps /]</span># <span class=\"selector-tag\">cd</span> /<span class=\"selector-tag\">usr</span>/<span class=\"selector-tag\">local</span></span><br><span class=\"line\"><span class=\"selector-attr\">[root@colinvps local]</span># <span class=\"selector-tag\">ls</span></span><br><span class=\"line\"><span class=\"selector-tag\">bin</span>  <span class=\"selector-tag\">etc</span>  <span class=\"selector-tag\">games</span>  <span class=\"selector-tag\">include</span>  <span class=\"selector-tag\">lib</span>  <span class=\"selector-tag\">lib64</span>  <span class=\"selector-tag\">libexec</span>  <span class=\"selector-tag\">sbin</span>  <span class=\"selector-tag\">share</span>  <span class=\"selector-tag\">src</span></span><br><span class=\"line\"><span class=\"selector-attr\">[root@colinvps local]</span># <span class=\"selector-tag\">wget</span> <span class=\"selector-tag\">https</span>:<span class=\"comment\">//storage.googleapis.com/golang/go1.6.3.linux-amd64.tar.gz</span></span><br><span class=\"line\"><span class=\"selector-tag\">--2018-07-03</span> <span class=\"selector-tag\">00</span><span class=\"selector-pseudo\">:06</span><span class=\"selector-pseudo\">:49--</span>  <span class=\"selector-tag\">https</span>:<span class=\"comment\">//storage.googleapis.com/golang/go1.6.3.linux-amd64.tar.gz</span></span><br><span class=\"line\"><span class=\"selector-tag\">Resolving</span> <span class=\"selector-tag\">storage</span><span class=\"selector-class\">.googleapis</span><span class=\"selector-class\">.com</span> (storage.googleapis.com)... <span class=\"selector-tag\">172</span><span class=\"selector-class\">.217</span><span class=\"selector-class\">.14</span><span class=\"selector-class\">.112</span>, <span class=\"selector-tag\">2607</span><span class=\"selector-pseudo\">:f8b0</span><span class=\"selector-pseudo\">:4007</span><span class=\"selector-pseudo\">:80e</span><span class=\"selector-pseudo\">::2010</span></span><br><span class=\"line\"><span class=\"selector-tag\">Connecting</span> <span class=\"selector-tag\">to</span> <span class=\"selector-tag\">storage</span><span class=\"selector-class\">.googleapis</span><span class=\"selector-class\">.com</span> (storage.googleapis.com)|<span class=\"selector-tag\">172</span><span class=\"selector-class\">.217</span><span class=\"selector-class\">.14</span><span class=\"selector-class\">.112</span>|<span class=\"selector-pseudo\">:443...</span> <span class=\"selector-tag\">connected</span>.</span><br><span class=\"line\"><span class=\"selector-tag\">HTTP</span> <span class=\"selector-tag\">request</span> <span class=\"selector-tag\">sent</span>, <span class=\"selector-tag\">awaiting</span> <span class=\"selector-tag\">response</span>... <span class=\"selector-tag\">200</span> <span class=\"selector-tag\">OK</span></span><br><span class=\"line\"><span class=\"selector-tag\">Length</span>: <span class=\"selector-tag\">84856920</span> (<span class=\"number\">81</span>M) <span class=\"selector-attr\">[application/x-gzip]</span></span><br><span class=\"line\"><span class=\"selector-tag\">Saving</span> <span class=\"selector-tag\">to</span>: ‘<span class=\"selector-tag\">go1</span><span class=\"selector-class\">.6</span><span class=\"selector-class\">.3</span><span class=\"selector-class\">.linux-amd64</span><span class=\"selector-class\">.tar</span><span class=\"selector-class\">.gz</span>’</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-tag\">100%</span><span class=\"selector-attr\">[===============================================================================================&gt;]</span> <span class=\"selector-tag\">84</span>,<span class=\"selector-tag\">856</span>,<span class=\"selector-tag\">920</span>  <span class=\"selector-tag\">52</span><span class=\"selector-class\">.5MB</span>/<span class=\"selector-tag\">s</span>   <span class=\"selector-tag\">in</span> <span class=\"selector-tag\">1</span><span class=\"selector-class\">.5s</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-tag\">2018-07-03</span> <span class=\"selector-tag\">00</span><span class=\"selector-pseudo\">:06</span><span class=\"selector-pseudo\">:51</span> (<span class=\"number\">52.5</span> MB/s) <span class=\"selector-tag\">-</span> ‘<span class=\"selector-tag\">go1</span><span class=\"selector-class\">.6</span><span class=\"selector-class\">.3</span><span class=\"selector-class\">.linux-amd64</span><span class=\"selector-class\">.tar</span><span class=\"selector-class\">.gz</span>’ <span class=\"selector-tag\">saved</span> <span class=\"selector-attr\">[84856920/84856920]</span></span><br></pre></td></tr></table></figure></p>\n<p>解压，这里日志比较长，只给命令\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-attr\">[root@colinvps /]</span># <span class=\"selector-tag\">tar</span> <span class=\"selector-tag\">-xvf</span> <span class=\"selector-tag\">go1</span><span class=\"selector-class\">.6</span><span class=\"selector-class\">.3linux-amd64</span><span class=\"selector-class\">.tar</span><span class=\"selector-class\">.gz</span></span><br></pre></td></tr></table></figure></p>\n<p>添加环境变量，加入以下两行\n<figure class=\"highlight routeros\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">[root@colinvps /]# vi /etc/profile</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"builtin-name\">export</span> <span class=\"attribute\">GOROOT</span>=/usr/local/go</span><br><span class=\"line\"><span class=\"builtin-name\">export</span> <span class=\"attribute\">PATH</span>=<span class=\"variable\">$PATH</span>:$GOROOT/bin</span><br></pre></td></tr></table></figure></p>\n<p>重载\n<figure class=\"highlight autoit\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root<span class=\"symbol\">@colinvps</span> /]<span class=\"meta\"># source /etc/profile</span></span><br></pre></td></tr></table></figure></p>\n<p>在 ~ 目录设置自己的GOPATH\n<figure class=\"highlight routeros\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@colinvps ~]# vi .bash_profile</span><br><span class=\"line\"><span class=\"builtin-name\">export</span> <span class=\"attribute\">GOPATH</span>=<span class=\"variable\">$HOME</span>/shadowsocks</span><br></pre></td></tr></table></figure></p>\n<p>重载\n<figure class=\"highlight autoit\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root<span class=\"symbol\">@colinvps</span> ~]<span class=\"meta\"># source .bash_profile</span></span><br></pre></td></tr></table></figure></p>\n<h2 id=\"安装git\"><a href=\"#安装git\" class=\"headerlink\" title=\"安装git\"></a>安装git</h2><figure class=\"highlight subunit\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br><span class=\"line\">164</span><br><span class=\"line\">165</span><br><span class=\"line\">166</span><br><span class=\"line\">167</span><br><span class=\"line\">168</span><br><span class=\"line\">169</span><br><span class=\"line\">170</span><br><span class=\"line\">171</span><br><span class=\"line\">172</span><br><span class=\"line\">173</span><br><span class=\"line\">174</span><br><span class=\"line\">175</span><br><span class=\"line\">176</span><br><span class=\"line\">177</span><br><span class=\"line\">178</span><br><span class=\"line\">179</span><br><span class=\"line\">180</span><br><span class=\"line\">181</span><br><span class=\"line\">182</span><br><span class=\"line\">183</span><br><span class=\"line\">184</span><br><span class=\"line\">185</span><br><span class=\"line\">186</span><br><span class=\"line\">187</span><br><span class=\"line\">188</span><br><span class=\"line\">189</span><br><span class=\"line\">190</span><br><span class=\"line\">191</span><br><span class=\"line\">192</span><br><span class=\"line\">193</span><br><span class=\"line\">194</span><br><span class=\"line\">195</span><br><span class=\"line\">196</span><br><span class=\"line\">197</span><br><span class=\"line\">198</span><br><span class=\"line\">199</span><br><span class=\"line\">200</span><br><span class=\"line\">201</span><br><span class=\"line\">202</span><br><span class=\"line\">203</span><br><span class=\"line\">204</span><br><span class=\"line\">205</span><br><span class=\"line\">206</span><br><span class=\"line\">207</span><br><span class=\"line\">208</span><br><span class=\"line\">209</span><br><span class=\"line\">210</span><br><span class=\"line\">211</span><br><span class=\"line\">212</span><br><span class=\"line\">213</span><br><span class=\"line\">214</span><br><span class=\"line\">215</span><br><span class=\"line\">216</span><br><span class=\"line\">217</span><br><span class=\"line\">218</span><br><span class=\"line\">219</span><br><span class=\"line\">220</span><br><span class=\"line\">221</span><br><span class=\"line\">222</span><br><span class=\"line\">223</span><br><span class=\"line\">224</span><br><span class=\"line\">225</span><br><span class=\"line\">226</span><br><span class=\"line\">227</span><br><span class=\"line\">228</span><br><span class=\"line\">229</span><br><span class=\"line\">230</span><br><span class=\"line\">231</span><br><span class=\"line\">232</span><br><span class=\"line\">233</span><br><span class=\"line\">234</span><br><span class=\"line\">235</span><br><span class=\"line\">236</span><br><span class=\"line\">237</span><br><span class=\"line\">238</span><br><span class=\"line\">239</span><br><span class=\"line\">240</span><br><span class=\"line\">241</span><br><span class=\"line\">242</span><br><span class=\"line\">243</span><br><span class=\"line\">244</span><br><span class=\"line\">245</span><br><span class=\"line\">246</span><br><span class=\"line\">247</span><br><span class=\"line\">248</span><br><span class=\"line\">249</span><br><span class=\"line\">250</span><br><span class=\"line\">251</span><br><span class=\"line\">252</span><br><span class=\"line\">253</span><br><span class=\"line\">254</span><br><span class=\"line\">255</span><br><span class=\"line\">256</span><br><span class=\"line\">257</span><br><span class=\"line\">258</span><br><span class=\"line\">259</span><br><span class=\"line\">260</span><br><span class=\"line\">261</span><br><span class=\"line\">262</span><br><span class=\"line\">263</span><br><span class=\"line\">264</span><br><span class=\"line\">265</span><br><span class=\"line\">266</span><br><span class=\"line\">267</span><br><span class=\"line\">268</span><br><span class=\"line\">269</span><br><span class=\"line\">270</span><br><span class=\"line\">271</span><br><span class=\"line\">272</span><br><span class=\"line\">273</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@colinvps ~]#  yum install git</span><br><span class=\"line\">        </span><br><span class=\"line\">Loaded plugins: fastestmirror</span><br><span class=\"line\">Loading mirror speeds from cached hostfile</span><br><span class=\"line\"> * base: mirror.san.fastserv.com</span><br><span class=\"line\"> * elrepo: repos.lax-noc.com</span><br><span class=\"line\"> * extras: mirrors.xmission.com</span><br><span class=\"line\"> * updates: mirror.scalabledns.com</span><br><span class=\"line\">Resolving Dependencies</span><br><span class=\"line\">--&gt; Running transaction check</span><br><span class=\"line\">---&gt; Package git.x86_64 0:1.8.3.1<span class=\"string\">-14</span>.el7_5 will be installed</span><br><span class=\"line\">--&gt; Processing Dependency: perl-Git = 1.8.3.1<span class=\"string\">-14</span>.el7_5 for package: git<span class=\"string\">-1</span>.8.3.1<span class=\"string\">-14</span>.el7_5.x86_64</span><br><span class=\"line\">--&gt; Processing Dependency: perl &gt;= 5.008 for package: git<span class=\"string\">-1</span>.8.3.1<span class=\"string\">-14</span>.el7_5.x86_64</span><br><span class=\"line\">--&gt; Processing Dependency: rsync for package: git<span class=\"string\">-1</span>.8.3.1<span class=\"string\">-14</span>.el7_5.x86_64</span><br><span class=\"line\">--&gt; Processing Dependency: perl(warnings) for package: git<span class=\"string\">-1</span>.8.3.1<span class=\"string\">-14</span>.el7_5.x86_64</span><br><span class=\"line\">--&gt; Processing Dependency: perl(vars) for package: git<span class=\"string\">-1</span>.8.3.1<span class=\"string\">-14</span>.el7_5.x86_64</span><br><span class=\"line\">--&gt; Processing Dependency: perl(strict) for package: git<span class=\"string\">-1</span>.8.3.1<span class=\"string\">-14</span>.el7_5.x86_64</span><br><span class=\"line\">--&gt; Processing Dependency: perl(lib) for package: git<span class=\"string\">-1</span>.8.3.1<span class=\"string\">-14</span>.el7_5.x86_64</span><br><span class=\"line\">--&gt; Processing Dependency: perl(Term::ReadKey) for package: git<span class=\"string\">-1</span>.8.3.1<span class=\"string\">-14</span>.el7_5.x86_64</span><br><span class=\"line\">--&gt; Processing Dependency: perl(Git) for package: git<span class=\"string\">-1</span>.8.3.1<span class=\"string\">-14</span>.el7_5.x86_64</span><br><span class=\"line\">--&gt; Processing Dependency: perl(Getopt::Long) for package: git<span class=\"string\">-1</span>.8.3.1<span class=\"string\">-14</span>.el7_5.x86_64</span><br><span class=\"line\">--&gt; Processing Dependency: perl(File::stat) for package: git<span class=\"string\">-1</span>.8.3.1<span class=\"string\">-14</span>.el7_5.x86_64</span><br><span class=\"line\">--&gt; Processing Dependency: perl(File::Temp) for package: git<span class=\"string\">-1</span>.8.3.1<span class=\"string\">-14</span>.el7_5.x86_64</span><br><span class=\"line\">--&gt; Processing Dependency: perl(File::Spec) for package: git<span class=\"string\">-1</span>.8.3.1<span class=\"string\">-14</span>.el7_5.x86_64</span><br><span class=\"line\">--&gt; Processing Dependency: perl(File::Path) for package: git<span class=\"string\">-1</span>.8.3.1<span class=\"string\">-14</span>.el7_5.x86_64</span><br><span class=\"line\">--&gt; Processing Dependency: perl(File::Find) for package: git<span class=\"string\">-1</span>.8.3.1<span class=\"string\">-14</span>.el7_5.x86_64</span><br><span class=\"line\">--&gt; Processing Dependency: perl(File::Copy) for package: git<span class=\"string\">-1</span>.8.3.1<span class=\"string\">-14</span>.el7_5.x86_64</span><br><span class=\"line\">--&gt; Processing Dependency: perl(File::Basename) for package: git<span class=\"string\">-1</span>.8.3.1<span class=\"string\">-14</span>.el7_5.x86_64</span><br><span class=\"line\">--&gt; Processing Dependency: perl(Exporter) for package: git<span class=\"string\">-1</span>.8.3.1<span class=\"string\">-14</span>.el7_5.x86_64</span><br><span class=\"line\">--&gt; Processing Dependency: perl(Error) for package: git<span class=\"string\">-1</span>.8.3.1<span class=\"string\">-14</span>.el7_5.x86_64</span><br><span class=\"line\">--&gt; Processing Dependency: /usr/bin/perl for package: git<span class=\"string\">-1</span>.8.3.1<span class=\"string\">-14</span>.el7_5.x86_64</span><br><span class=\"line\">--&gt; Processing Dependency: libgnome-keyring.so.0()(64bit) for package: git<span class=\"string\">-1</span>.8.3.1<span class=\"string\">-14</span>.el7_5.x86_64</span><br><span class=\"line\">--&gt; Running transaction check</span><br><span class=\"line\">---&gt; Package libgnome-keyring.x86_64 0:3.12.0<span class=\"string\">-1</span>.el7 will be installed</span><br><span class=\"line\">---&gt; Package perl.x86_64 4:5.16.3<span class=\"string\">-292</span>.el7 will be installed</span><br><span class=\"line\">--&gt; Processing Dependency: perl-libs = 4:5.16.3<span class=\"string\">-292</span>.el7 for package: 4:perl<span class=\"string\">-5</span>.16.3<span class=\"string\">-292</span>.el7.x86_64</span><br><span class=\"line\">--&gt; Processing Dependency: perl(Socket) &gt;= 1.3 for package: 4:perl<span class=\"string\">-5</span>.16.3<span class=\"string\">-292</span>.el7.x86_64</span><br><span class=\"line\">--&gt; Processing Dependency: perl(Scalar::Util) &gt;= 1.10 for package: 4:perl<span class=\"string\">-5</span>.16.3<span class=\"string\">-292</span>.el7.x86_64</span><br><span class=\"line\">--&gt; Processing Dependency: perl-macros for package: 4:perl<span class=\"string\">-5</span>.16.3<span class=\"string\">-292</span>.el7.x86_64</span><br><span class=\"line\">--&gt; Processing Dependency: perl-libs for package: 4:perl<span class=\"string\">-5</span>.16.3<span class=\"string\">-292</span>.el7.x86_64</span><br><span class=\"line\">--&gt; Processing Dependency: perl(threads::shared) for package: 4:perl<span class=\"string\">-5</span>.16.3<span class=\"string\">-292</span>.el7.x86_64</span><br><span class=\"line\">--&gt; Processing Dependency: perl(threads) for package: 4:perl<span class=\"string\">-5</span>.16.3<span class=\"string\">-292</span>.el7.x86_64</span><br><span class=\"line\">--&gt; Processing Dependency: perl(constant) for package: 4:perl<span class=\"string\">-5</span>.16.3<span class=\"string\">-292</span>.el7.x86_64</span><br><span class=\"line\">--&gt; Processing Dependency: perl(Time::Local) for package: 4:perl<span class=\"string\">-5</span>.16.3<span class=\"string\">-292</span>.el7.x86_64</span><br><span class=\"line\">--&gt; Processing Dependency: perl(Time::HiRes) for package: 4:perl<span class=\"string\">-5</span>.16.3<span class=\"string\">-292</span>.el7.x86_64</span><br><span class=\"line\">--&gt; Processing Dependency: perl(Storable) for package: 4:perl<span class=\"string\">-5</span>.16.3<span class=\"string\">-292</span>.el7.x86_64</span><br><span class=\"line\">--&gt; Processing Dependency: perl(Socket) for package: 4:perl<span class=\"string\">-5</span>.16.3<span class=\"string\">-292</span>.el7.x86_64</span><br><span class=\"line\">--&gt; Processing Dependency: perl(Scalar::Util) for package: 4:perl<span class=\"string\">-5</span>.16.3<span class=\"string\">-292</span>.el7.x86_64</span><br><span class=\"line\">--&gt; Processing Dependency: perl(Pod::Simple::XHTML) for package: 4:perl<span class=\"string\">-5</span>.16.3<span class=\"string\">-292</span>.el7.x86_64</span><br><span class=\"line\">--&gt; Processing Dependency: perl(Pod::Simple::Search) for package: 4:perl<span class=\"string\">-5</span>.16.3<span class=\"string\">-292</span>.el7.x86_64</span><br><span class=\"line\">--&gt; Processing Dependency: perl(Filter::Util::Call) for package: 4:perl<span class=\"string\">-5</span>.16.3<span class=\"string\">-292</span>.el7.x86_64</span><br><span class=\"line\">--&gt; Processing Dependency: perl(Carp) for package: 4:perl<span class=\"string\">-5</span>.16.3<span class=\"string\">-292</span>.el7.x86_64</span><br><span class=\"line\">--&gt; Processing Dependency: libperl.so()(64bit) for package: 4:perl<span class=\"string\">-5</span>.16.3<span class=\"string\">-292</span>.el7.x86_64</span><br><span class=\"line\">---&gt; Package perl-Error.noarch 1:0.17020<span class=\"string\">-2</span>.el7 will be installed</span><br><span class=\"line\">---&gt; Package perl-Exporter.noarch 0:5.68<span class=\"string\">-3</span>.el7 will be installed</span><br><span class=\"line\">---&gt; Package perl-File-Path.noarch 0:2.09<span class=\"string\">-2</span>.el7 will be installed</span><br><span class=\"line\">---&gt; Package perl-File-Temp.noarch 0:0.23.01<span class=\"string\">-3</span>.el7 will be installed</span><br><span class=\"line\">---&gt; Package perl-Getopt-Long.noarch 0:2.40<span class=\"string\">-3</span>.el7 will be installed</span><br><span class=\"line\">--&gt; Processing Dependency: perl(Pod::Usage) &gt;= 1.14 for package: perl-Getopt-Long<span class=\"string\">-2</span>.40<span class=\"string\">-3</span>.el7.noarch</span><br><span class=\"line\">--&gt; Processing Dependency: perl(Text::ParseWords) for package: perl-Getopt-Long<span class=\"string\">-2</span>.40<span class=\"string\">-3</span>.el7.noarch</span><br><span class=\"line\">---&gt; Package perl-Git.noarch 0:1.8.3.1<span class=\"string\">-14</span>.el7_5 will be installed</span><br><span class=\"line\">---&gt; Package perl-PathTools.x86_64 0:3.40<span class=\"string\">-5</span>.el7 will be installed</span><br><span class=\"line\">---&gt; Package perl-TermReadKey.x86_64 0:2.30<span class=\"string\">-20</span>.el7 will be installed</span><br><span class=\"line\">---&gt; Package rsync.x86_64 0:3.1.2<span class=\"string\">-4</span>.el7 will be installed</span><br><span class=\"line\">--&gt; Running transaction check</span><br><span class=\"line\">---&gt; Package perl-Carp.noarch 0:1.26<span class=\"string\">-244</span>.el7 will be installed</span><br><span class=\"line\">---&gt; Package perl-Filter.x86_64 0:1.49<span class=\"string\">-3</span>.el7 will be installed</span><br><span class=\"line\">---&gt; Package perl-Pod-Simple.noarch 1:3.28<span class=\"string\">-4</span>.el7 will be installed</span><br><span class=\"line\">--&gt; Processing Dependency: perl(Pod::Escapes) &gt;= 1.04 for package: 1:perl-Pod-Simple<span class=\"string\">-3</span>.28<span class=\"string\">-4</span>.el7.noarch</span><br><span class=\"line\">--&gt; Processing Dependency: perl(Encode) for package: 1:perl-Pod-Simple<span class=\"string\">-3</span>.28<span class=\"string\">-4</span>.el7.noarch</span><br><span class=\"line\">---&gt; Package perl-Pod-Usage.noarch 0:1.63<span class=\"string\">-3</span>.el7 will be installed</span><br><span class=\"line\">--&gt; Processing Dependency: perl(Pod::Text) &gt;= 3.15 for package: perl-Pod-Usage<span class=\"string\">-1</span>.63<span class=\"string\">-3</span>.el7.noarch</span><br><span class=\"line\">--&gt; Processing Dependency: perl-Pod-Perldoc for package: perl-Pod-Usage<span class=\"string\">-1</span>.63<span class=\"string\">-3</span>.el7.noarch</span><br><span class=\"line\">---&gt; Package perl-Scalar-List-Utils.x86_64 0:1.27<span class=\"string\">-248</span>.el7 will be installed</span><br><span class=\"line\">---&gt; Package perl-Socket.x86_64 0:2.010<span class=\"string\">-4</span>.el7 will be installed</span><br><span class=\"line\">---&gt; Package perl-Storable.x86_64 0:2.45<span class=\"string\">-3</span>.el7 will be installed</span><br><span class=\"line\">---&gt; Package perl-Text-ParseWords.noarch 0:3.29<span class=\"string\">-4</span>.el7 will be installed</span><br><span class=\"line\">---&gt; Package perl-Time-HiRes.x86_64 4:1.9725<span class=\"string\">-3</span>.el7 will be installed</span><br><span class=\"line\">---&gt; Package perl-Time-Local.noarch 0:1.2300<span class=\"string\">-2</span>.el7 will be installed</span><br><span class=\"line\">---&gt; Package perl-constant.noarch 0:1.27<span class=\"string\">-2</span>.el7 will be installed</span><br><span class=\"line\">---&gt; Package perl-libs.x86_64 4:5.16.3<span class=\"string\">-292</span>.el7 will be installed</span><br><span class=\"line\">---&gt; Package perl-macros.x86_64 4:5.16.3<span class=\"string\">-292</span>.el7 will be installed</span><br><span class=\"line\">---&gt; Package perl-threads.x86_64 0:1.87<span class=\"string\">-4</span>.el7 will be installed</span><br><span class=\"line\">---&gt; Package perl-threads-shared.x86_64 0:1.43<span class=\"string\">-6</span>.el7 will be installed</span><br><span class=\"line\">--&gt; Running transaction check</span><br><span class=\"line\">---&gt; Package perl-Encode.x86_64 0:2.51<span class=\"string\">-7</span>.el7 will be installed</span><br><span class=\"line\">---&gt; Package perl-Pod-Escapes.noarch 1:1.04<span class=\"string\">-292</span>.el7 will be installed</span><br><span class=\"line\">---&gt; Package perl-Pod-Perldoc.noarch 0:3.20<span class=\"string\">-4</span>.el7 will be installed</span><br><span class=\"line\">--&gt; Processing Dependency: perl(parent) for package: perl-Pod-Perldoc<span class=\"string\">-3</span>.20<span class=\"string\">-4</span>.el7.noarch</span><br><span class=\"line\">--&gt; Processing Dependency: perl(HTTP::Tiny) for package: perl-Pod-Perldoc<span class=\"string\">-3</span>.20<span class=\"string\">-4</span>.el7.noarch</span><br><span class=\"line\">---&gt; Package perl-podlators.noarch 0:2.5.1<span class=\"string\">-3</span>.el7 will be installed</span><br><span class=\"line\">--&gt; Running transaction check</span><br><span class=\"line\">---&gt; Package perl-HTTP-Tiny.noarch 0:0.033<span class=\"string\">-3</span>.el7 will be installed</span><br><span class=\"line\">---&gt; Package perl-parent.noarch 1:0.225<span class=\"string\">-244</span>.el7 will be installed</span><br><span class=\"line\">--&gt; Finished Dependency Resolution</span><br><span class=\"line\"></span><br><span class=\"line\">Dependencies Resolved</span><br><span class=\"line\"></span><br><span class=\"line\">============================================================================================</span><br><span class=\"line\"> Package                       Arch          Version                   Repository      Size</span><br><span class=\"line\">============================================================================================</span><br><span class=\"line\">Installing:</span><br><span class=\"line\"> git                           x86_64        1.8.3.1<span class=\"string\">-14</span>.el7_5          updates        4.4 M</span><br><span class=\"line\">Installing for dependencies:</span><br><span class=\"line\"> libgnome-keyring              x86_64        3.12.0<span class=\"string\">-1</span>.el7              base           109 k</span><br><span class=\"line\"> perl                          x86_64        4:5.16.3<span class=\"string\">-292</span>.el7          base           8.0 M</span><br><span class=\"line\"> perl-Carp                     noarch        1.26<span class=\"string\">-244</span>.el7              base            19 k</span><br><span class=\"line\"> perl-Encode                   x86_64        2.51<span class=\"string\">-7</span>.el7                base           1.5 M</span><br><span class=\"line\"> perl-Error                    noarch        1:0.17020<span class=\"string\">-2</span>.el7           base            32 k</span><br><span class=\"line\"> perl-Exporter                 noarch        5.68<span class=\"string\">-3</span>.el7                base            28 k</span><br><span class=\"line\"> perl-File-Path                noarch        2.09<span class=\"string\">-2</span>.el7                base            26 k</span><br><span class=\"line\"> perl-File-Temp                noarch        0.23.01<span class=\"string\">-3</span>.el7             base            56 k</span><br><span class=\"line\"> perl-Filter                   x86_64        1.49<span class=\"string\">-3</span>.el7                base            76 k</span><br><span class=\"line\"> perl-Getopt-Long              noarch        2.40<span class=\"string\">-3</span>.el7                base            56 k</span><br><span class=\"line\"> perl-Git                      noarch        1.8.3.1<span class=\"string\">-14</span>.el7_5          updates         54 k</span><br><span class=\"line\"> perl-HTTP-Tiny                noarch        0.033<span class=\"string\">-3</span>.el7               base            38 k</span><br><span class=\"line\"> perl-PathTools                x86_64        3.40<span class=\"string\">-5</span>.el7                base            82 k</span><br><span class=\"line\"> perl-Pod-Escapes              noarch        1:1.04<span class=\"string\">-292</span>.el7            base            51 k</span><br><span class=\"line\"> perl-Pod-Perldoc              noarch        3.20<span class=\"string\">-4</span>.el7                base            87 k</span><br><span class=\"line\"> perl-Pod-Simple               noarch        1:3.28<span class=\"string\">-4</span>.el7              base           216 k</span><br><span class=\"line\"> perl-Pod-Usage                noarch        1.63<span class=\"string\">-3</span>.el7                base            27 k</span><br><span class=\"line\"> perl-Scalar-List-Utils        x86_64        1.27<span class=\"string\">-248</span>.el7              base            36 k</span><br><span class=\"line\"> perl-Socket                   x86_64        2.010<span class=\"string\">-4</span>.el7               base            49 k</span><br><span class=\"line\"> perl-Storable                 x86_64        2.45<span class=\"string\">-3</span>.el7                base            77 k</span><br><span class=\"line\"> perl-TermReadKey              x86_64        2.30<span class=\"string\">-20</span>.el7               base            31 k</span><br><span class=\"line\"> perl-Text-ParseWords          noarch        3.29<span class=\"string\">-4</span>.el7                base            14 k</span><br><span class=\"line\"> perl-Time-HiRes               x86_64        4:1.9725<span class=\"string\">-3</span>.el7            base            45 k</span><br><span class=\"line\"> perl-Time-Local               noarch        1.2300<span class=\"string\">-2</span>.el7              base            24 k</span><br><span class=\"line\"> perl-constant                 noarch        1.27<span class=\"string\">-2</span>.el7                base            19 k</span><br><span class=\"line\"> perl-libs                     x86_64        4:5.16.3<span class=\"string\">-292</span>.el7          base           688 k</span><br><span class=\"line\"> perl-macros                   x86_64        4:5.16.3<span class=\"string\">-292</span>.el7          base            43 k</span><br><span class=\"line\"> perl-parent                   noarch        1:0.225<span class=\"string\">-244</span>.el7           base            12 k</span><br><span class=\"line\"> perl-podlators                noarch        2.5.1<span class=\"string\">-3</span>.el7               base           112 k</span><br><span class=\"line\"> perl-threads                  x86_64        1.87<span class=\"string\">-4</span>.el7                base            49 k</span><br><span class=\"line\"> perl-threads-shared           x86_64        1.43<span class=\"string\">-6</span>.el7                base            39 k</span><br><span class=\"line\"> rsync                         x86_64        3.1.2<span class=\"string\">-4</span>.el7               base           403 k</span><br><span class=\"line\"></span><br><span class=\"line\">Transaction Summary</span><br><span class=\"line\">============================================================================================</span><br><span class=\"line\">Install  1 Package (<span class=\"string\">+32</span> Dependent packages)</span><br><span class=\"line\"></span><br><span class=\"line\">Total download size: 16 M</span><br><span class=\"line\">Installed size: 60 M</span><br><span class=\"line\">Is this ok [y/d/N]: y</span><br><span class=\"line\">Downloading packages:</span><br><span class=\"line\">(1/33): git<span class=\"string\">-1</span>.8.3.1<span class=\"string\">-14</span>.el7_5.x86_64.rpm                              | 4.4 MB  00:00:00</span><br><span class=\"line\">(2/33): libgnome-keyring<span class=\"string\">-3</span>.12.0<span class=\"string\">-1</span>.el7.x86_64.rpm                     | 109 kB  00:00:00</span><br><span class=\"line\">(3/33): perl-Carp<span class=\"string\">-1</span>.26<span class=\"string\">-244</span>.el7.noarch.rpm                            |  19 kB  00:00:00</span><br><span class=\"line\">(4/33): perl-Encode<span class=\"string\">-2</span>.51<span class=\"string\">-7</span>.el7.x86_64.rpm                            | 1.5 MB  00:00:00</span><br><span class=\"line\">(5/33): perl-Error<span class=\"string\">-0</span>.17020<span class=\"string\">-2</span>.el7.noarch.rpm                          |  32 kB  00:00:00</span><br><span class=\"line\">(6/33): perl-Exporter<span class=\"string\">-5</span>.68<span class=\"string\">-3</span>.el7.noarch.rpm                          |  28 kB  00:00:00</span><br><span class=\"line\">(7/33): perl-File-Path<span class=\"string\">-2</span>.09<span class=\"string\">-2</span>.el7.noarch.rpm                         |  26 kB  00:00:00</span><br><span class=\"line\">(8/33): perl-File-Temp<span class=\"string\">-0</span>.23.01<span class=\"string\">-3</span>.el7.noarch.rpm                      |  56 kB  00:00:00</span><br><span class=\"line\">(9/33): perl<span class=\"string\">-5</span>.16.3<span class=\"string\">-292</span>.el7.x86_64.rpm                               | 8.0 MB  00:00:01</span><br><span class=\"line\">(10/33): perl-Git<span class=\"string\">-1</span>.8.3.1<span class=\"string\">-14</span>.el7_5.noarch.rpm                        |  54 kB  00:00:00</span><br><span class=\"line\">(11/33): perl-Filter<span class=\"string\">-1</span>.49<span class=\"string\">-3</span>.el7.x86_64.rpm                           |  76 kB  00:00:00</span><br><span class=\"line\">(12/33): perl-Getopt-Long<span class=\"string\">-2</span>.40<span class=\"string\">-3</span>.el7.noarch.rpm                      |  56 kB  00:00:00</span><br><span class=\"line\">(13/33): perl-HTTP-Tiny<span class=\"string\">-0</span>.033<span class=\"string\">-3</span>.el7.noarch.rpm                       |  38 kB  00:00:00</span><br><span class=\"line\">(14/33): perl-Pod-Escapes<span class=\"string\">-1</span>.04<span class=\"string\">-292</span>.el7.noarch.rpm                    |  51 kB  00:00:00</span><br><span class=\"line\">(15/33): perl-PathTools<span class=\"string\">-3</span>.40<span class=\"string\">-5</span>.el7.x86_64.rpm                        |  82 kB  00:00:00</span><br><span class=\"line\">(16/33): perl-Pod-Perldoc<span class=\"string\">-3</span>.20<span class=\"string\">-4</span>.el7.noarch.rpm                      |  87 kB  00:00:00</span><br><span class=\"line\">(17/33): perl-Pod-Usage<span class=\"string\">-1</span>.63<span class=\"string\">-3</span>.el7.noarch.rpm                        |  27 kB  00:00:00</span><br><span class=\"line\">(18/33): perl-Pod-Simple<span class=\"string\">-3</span>.28<span class=\"string\">-4</span>.el7.noarch.rpm                       | 216 kB  00:00:00</span><br><span class=\"line\">(19/33): perl-Scalar-List-Utils<span class=\"string\">-1</span>.27<span class=\"string\">-248</span>.el7.x86_64.rpm              |  36 kB  00:00:00</span><br><span class=\"line\">(20/33): perl-Socket<span class=\"string\">-2</span>.010<span class=\"string\">-4</span>.el7.x86_64.rpm                          |  49 kB  00:00:00</span><br><span class=\"line\">(21/33): perl-TermReadKey<span class=\"string\">-2</span>.30<span class=\"string\">-20</span>.el7.x86_64.rpm                     |  31 kB  00:00:00</span><br><span class=\"line\">(22/33): perl-Storable<span class=\"string\">-2</span>.45<span class=\"string\">-3</span>.el7.x86_64.rpm                         |  77 kB  00:00:00</span><br><span class=\"line\">(23/33): perl-Text-ParseWords<span class=\"string\">-3</span>.29<span class=\"string\">-4</span>.el7.noarch.rpm                  |  14 kB  00:00:00</span><br><span class=\"line\">(24/33): perl-Time-HiRes<span class=\"string\">-1</span>.9725<span class=\"string\">-3</span>.el7.x86_64.rpm                     |  45 kB  00:00:00</span><br><span class=\"line\">(25/33): perl-Time-Local<span class=\"string\">-1</span>.2300<span class=\"string\">-2</span>.el7.noarch.rpm                     |  24 kB  00:00:00</span><br><span class=\"line\">(26/33): perl-constant<span class=\"string\">-1</span>.27<span class=\"string\">-2</span>.el7.noarch.rpm                         |  19 kB  00:00:00</span><br><span class=\"line\">(27/33): perl-macros<span class=\"string\">-5</span>.16.3<span class=\"string\">-292</span>.el7.x86_64.rpm                       |  43 kB  00:00:00</span><br><span class=\"line\">(28/33): perl-parent<span class=\"string\">-0</span>.225<span class=\"string\">-244</span>.el7.noarch.rpm                        |  12 kB  00:00:00</span><br><span class=\"line\">(29/33): perl-libs<span class=\"string\">-5</span>.16.3<span class=\"string\">-292</span>.el7.x86_64.rpm                         | 688 kB  00:00:00</span><br><span class=\"line\">(30/33): perl-podlators<span class=\"string\">-2</span>.5.1<span class=\"string\">-3</span>.el7.noarch.rpm                       | 112 kB  00:00:00</span><br><span class=\"line\">(31/33): perl-threads<span class=\"string\">-1</span>.87<span class=\"string\">-4</span>.el7.x86_64.rpm                          |  49 kB  00:00:00</span><br><span class=\"line\">(32/33): perl-threads-shared<span class=\"string\">-1</span>.43<span class=\"string\">-6</span>.el7.x86_64.rpm                   |  39 kB  00:00:00</span><br><span class=\"line\">(33/33): rsync<span class=\"string\">-3</span>.1.2<span class=\"string\">-4</span>.el7.x86_64.rpm                                | 403 kB  00:00:00</span><br><span class=\"line\">--------------------------------------------------------------------------------------------</span><br><span class=\"line\">Total                                                       4.9 MB/s |  16 MB  00:00:03</span><br><span class=\"line\">Running transaction check</span><br><span class=\"line\">Running transaction test</span><br><span class=\"line\">Transaction test succeeded</span><br><span class=\"line\">Running transaction</span><br><span class=\"line\">  Installing : 1:perl-parent<span class=\"string\">-0</span>.225<span class=\"string\">-244</span>.el7.noarch                                      1/33</span><br><span class=\"line\">  Installing : perl-HTTP-Tiny<span class=\"string\">-0</span>.033<span class=\"string\">-3</span>.el7.noarch                                       2/33</span><br><span class=\"line\">  Installing : perl-podlators<span class=\"string\">-2</span>.5.1<span class=\"string\">-3</span>.el7.noarch                                       3/33</span><br><span class=\"line\">  Installing : perl-Pod-Perldoc<span class=\"string\">-3</span>.20<span class=\"string\">-4</span>.el7.noarch                                      4/33</span><br><span class=\"line\">  Installing : 1:perl-Pod-Escapes<span class=\"string\">-1</span>.04<span class=\"string\">-292</span>.el7.noarch                                  5/33</span><br><span class=\"line\">  Installing : perl-Text-ParseWords<span class=\"string\">-3</span>.29<span class=\"string\">-4</span>.el7.noarch                                  6/33</span><br><span class=\"line\">  Installing : perl-Encode<span class=\"string\">-2</span>.51<span class=\"string\">-7</span>.el7.x86_64                                           7/33</span><br><span class=\"line\">  Installing : perl-Pod-Usage<span class=\"string\">-1</span>.63<span class=\"string\">-3</span>.el7.noarch                                        8/33</span><br><span class=\"line\">  Installing : 4:perl-macros<span class=\"string\">-5</span>.16.3<span class=\"string\">-292</span>.el7.x86_64                                     9/33</span><br><span class=\"line\">  Installing : 4:perl-libs<span class=\"string\">-5</span>.16.3<span class=\"string\">-292</span>.el7.x86_64                                      10/33</span><br><span class=\"line\">  Installing : 4:perl-Time-HiRes<span class=\"string\">-1</span>.9725<span class=\"string\">-3</span>.el7.x86_64                                  11/33</span><br><span class=\"line\">  Installing : perl-Exporter<span class=\"string\">-5</span>.68<span class=\"string\">-3</span>.el7.noarch                                        12/33</span><br><span class=\"line\">  Installing : perl-constant<span class=\"string\">-1</span>.27<span class=\"string\">-2</span>.el7.noarch                                        13/33</span><br><span class=\"line\">  Installing : perl-Time-Local<span class=\"string\">-1</span>.2300<span class=\"string\">-2</span>.el7.noarch                                    14/33</span><br><span class=\"line\">  Installing : perl-Socket<span class=\"string\">-2</span>.010<span class=\"string\">-4</span>.el7.x86_64                                         15/33</span><br><span class=\"line\">  Installing : perl-Carp<span class=\"string\">-1</span>.26<span class=\"string\">-244</span>.el7.noarch                                          16/33</span><br><span class=\"line\">  Installing : perl-Storable<span class=\"string\">-2</span>.45<span class=\"string\">-3</span>.el7.x86_64                                        17/33</span><br><span class=\"line\">  Installing : perl-PathTools<span class=\"string\">-3</span>.40<span class=\"string\">-5</span>.el7.x86_64                                       18/33</span><br><span class=\"line\">  Installing : perl-Scalar-List-Utils<span class=\"string\">-1</span>.27<span class=\"string\">-248</span>.el7.x86_64                             19/33</span><br><span class=\"line\">  Installing : perl-File-Temp<span class=\"string\">-0</span>.23.01<span class=\"string\">-3</span>.el7.noarch                                    20/33</span><br><span class=\"line\">  Installing : perl-File-Path<span class=\"string\">-2</span>.09<span class=\"string\">-2</span>.el7.noarch                                       21/33</span><br><span class=\"line\">  Installing : perl-threads-shared<span class=\"string\">-1</span>.43<span class=\"string\">-6</span>.el7.x86_64                                  22/33</span><br><span class=\"line\">  Installing : perl-threads<span class=\"string\">-1</span>.87<span class=\"string\">-4</span>.el7.x86_64                                         23/33</span><br><span class=\"line\">  Installing : perl-Filter<span class=\"string\">-1</span>.49<span class=\"string\">-3</span>.el7.x86_64                                          24/33</span><br><span class=\"line\">  Installing : 1:perl-Pod-Simple<span class=\"string\">-3</span>.28<span class=\"string\">-4</span>.el7.noarch                                    25/33</span><br><span class=\"line\">  Installing : perl-Getopt-Long<span class=\"string\">-2</span>.40<span class=\"string\">-3</span>.el7.noarch                                     26/33</span><br><span class=\"line\">  Installing : 4:perl<span class=\"string\">-5</span>.16.3<span class=\"string\">-292</span>.el7.x86_64                                           27/33</span><br><span class=\"line\">  Installing : 1:perl-Error<span class=\"string\">-0</span>.17020<span class=\"string\">-2</span>.el7.noarch                                      28/33</span><br><span class=\"line\">  Installing : perl-TermReadKey<span class=\"string\">-2</span>.30<span class=\"string\">-20</span>.el7.x86_64                                    29/33</span><br><span class=\"line\">  Installing : rsync<span class=\"string\">-3</span>.1.2<span class=\"string\">-4</span>.el7.x86_64                                               30/33</span><br><span class=\"line\">  Installing : libgnome-keyring<span class=\"string\">-3</span>.12.0<span class=\"string\">-1</span>.el7.x86_64                                   31/33</span><br><span class=\"line\">  Installing : perl-Git<span class=\"string\">-1</span>.8.3.1<span class=\"string\">-14</span>.el7_5.noarch                                       32/33</span><br><span class=\"line\">  Installing : git<span class=\"string\">-1</span>.8.3.1<span class=\"string\">-14</span>.el7_5.x86_64                                            33/33</span><br><span class=\"line\">  Verifying  : perl-HTTP-Tiny<span class=\"string\">-0</span>.033<span class=\"string\">-3</span>.el7.noarch                                       1/33</span><br><span class=\"line\">  Verifying  : libgnome-keyring<span class=\"string\">-3</span>.12.0<span class=\"string\">-1</span>.el7.x86_64                                    2/33</span><br><span class=\"line\">  Verifying  : perl-threads-shared<span class=\"string\">-1</span>.43<span class=\"string\">-6</span>.el7.x86_64                                   3/33</span><br><span class=\"line\">  Verifying  : 4:perl-Time-HiRes<span class=\"string\">-1</span>.9725<span class=\"string\">-3</span>.el7.x86_64                                   4/33</span><br><span class=\"line\">  Verifying  : perl-Exporter<span class=\"string\">-5</span>.68<span class=\"string\">-3</span>.el7.noarch                                         5/33</span><br><span class=\"line\">  Verifying  : perl-constant<span class=\"string\">-1</span>.27<span class=\"string\">-2</span>.el7.noarch                                         6/33</span><br><span class=\"line\">  Verifying  : perl-PathTools<span class=\"string\">-3</span>.40<span class=\"string\">-5</span>.el7.x86_64                                        7/33</span><br><span class=\"line\">  Verifying  : 4:perl-macros<span class=\"string\">-5</span>.16.3<span class=\"string\">-292</span>.el7.x86_64                                     8/33</span><br><span class=\"line\">  Verifying  : 1:perl-parent<span class=\"string\">-0</span>.225<span class=\"string\">-244</span>.el7.noarch                                      9/33</span><br><span class=\"line\">  Verifying  : 4:perl<span class=\"string\">-5</span>.16.3<span class=\"string\">-292</span>.el7.x86_64                                           10/33</span><br><span class=\"line\">  Verifying  : perl-TermReadKey<span class=\"string\">-2</span>.30<span class=\"string\">-20</span>.el7.x86_64                                    11/33</span><br><span class=\"line\">  Verifying  : perl-File-Temp<span class=\"string\">-0</span>.23.01<span class=\"string\">-3</span>.el7.noarch                                    12/33</span><br><span class=\"line\">  Verifying  : 1:perl-Pod-Simple<span class=\"string\">-3</span>.28<span class=\"string\">-4</span>.el7.noarch                                    13/33</span><br><span class=\"line\">  Verifying  : perl-Time-Local<span class=\"string\">-1</span>.2300<span class=\"string\">-2</span>.el7.noarch                                    14/33</span><br><span class=\"line\">  Verifying  : 4:perl-libs<span class=\"string\">-5</span>.16.3<span class=\"string\">-292</span>.el7.x86_64                                      15/33</span><br><span class=\"line\">  Verifying  : perl-Socket<span class=\"string\">-2</span>.010<span class=\"string\">-4</span>.el7.x86_64                                         16/33</span><br><span class=\"line\">  Verifying  : git<span class=\"string\">-1</span>.8.3.1<span class=\"string\">-14</span>.el7_5.x86_64                                            17/33</span><br><span class=\"line\">  Verifying  : perl-Carp<span class=\"string\">-1</span>.26<span class=\"string\">-244</span>.el7.noarch                                          18/33</span><br><span class=\"line\">  Verifying  : 1:perl-Error<span class=\"string\">-0</span>.17020<span class=\"string\">-2</span>.el7.noarch                                      19/33</span><br><span class=\"line\">  Verifying  : perl-Storable<span class=\"string\">-2</span>.45<span class=\"string\">-3</span>.el7.x86_64                                        20/33</span><br><span class=\"line\">  Verifying  : perl-Scalar-List-Utils<span class=\"string\">-1</span>.27<span class=\"string\">-248</span>.el7.x86_64                             21/33</span><br><span class=\"line\">  Verifying  : 1:perl-Pod-Escapes<span class=\"string\">-1</span>.04<span class=\"string\">-292</span>.el7.noarch                                 22/33</span><br><span class=\"line\">  Verifying  : rsync<span class=\"string\">-3</span>.1.2<span class=\"string\">-4</span>.el7.x86_64                                               23/33</span><br><span class=\"line\">  Verifying  : perl-Pod-Usage<span class=\"string\">-1</span>.63<span class=\"string\">-3</span>.el7.noarch                                       24/33</span><br><span class=\"line\">  Verifying  : perl-Git<span class=\"string\">-1</span>.8.3.1<span class=\"string\">-14</span>.el7_5.noarch                                       25/33</span><br><span class=\"line\">  Verifying  : perl-Encode<span class=\"string\">-2</span>.51<span class=\"string\">-7</span>.el7.x86_64                                          26/33</span><br><span class=\"line\">  Verifying  : perl-Pod-Perldoc<span class=\"string\">-3</span>.20<span class=\"string\">-4</span>.el7.noarch                                     27/33</span><br><span class=\"line\">  Verifying  : perl-podlators<span class=\"string\">-2</span>.5.1<span class=\"string\">-3</span>.el7.noarch                                      28/33</span><br><span class=\"line\">  Verifying  : perl-File-Path<span class=\"string\">-2</span>.09<span class=\"string\">-2</span>.el7.noarch                                       29/33</span><br><span class=\"line\">  Verifying  : perl-threads<span class=\"string\">-1</span>.87<span class=\"string\">-4</span>.el7.x86_64                                         30/33</span><br><span class=\"line\">  Verifying  : perl-Filter<span class=\"string\">-1</span>.49<span class=\"string\">-3</span>.el7.x86_64                                          31/33</span><br><span class=\"line\">  Verifying  : perl-Getopt-Long<span class=\"string\">-2</span>.40<span class=\"string\">-3</span>.el7.noarch                                     32/33</span><br><span class=\"line\">  Verifying  : perl-Text-ParseWords<span class=\"string\">-3</span>.29<span class=\"string\">-4</span>.el7.noarch                                 33/33</span><br><span class=\"line\"></span><br><span class=\"line\">Installed:</span><br><span class=\"line\">  git.x86_64 0:1.8.3.1<span class=\"string\">-14</span>.el7_5</span><br><span class=\"line\"></span><br><span class=\"line\">Dependency Installed:</span><br><span class=\"line\">  libgnome-keyring.x86_64 0:3.12.0<span class=\"string\">-1</span>.el7     perl.x86_64 4:5.16.3<span class=\"string\">-292</span>.el7</span><br><span class=\"line\">  perl-Carp.noarch 0:1.26<span class=\"string\">-244</span>.el7            perl-Encode.x86_64 0:2.51<span class=\"string\">-7</span>.el7</span><br><span class=\"line\">  perl-Error.noarch 1:0.17020<span class=\"string\">-2</span>.el7          perl-Exporter.noarch 0:5.68<span class=\"string\">-3</span>.el7</span><br><span class=\"line\">  perl-File-Path.noarch 0:2.09<span class=\"string\">-2</span>.el7         perl-File-Temp.noarch 0:0.23.01<span class=\"string\">-3</span>.el7</span><br><span class=\"line\">  perl-Filter.x86_64 0:1.49<span class=\"string\">-3</span>.el7            perl-Getopt-Long.noarch 0:2.40<span class=\"string\">-3</span>.el7</span><br><span class=\"line\">  perl-Git.noarch 0:1.8.3.1<span class=\"string\">-14</span>.el7_5         perl-HTTP-Tiny.noarch 0:0.033<span class=\"string\">-3</span>.el7</span><br><span class=\"line\">  perl-PathTools.x86_64 0:3.40<span class=\"string\">-5</span>.el7         perl-Pod-Escapes.noarch 1:1.04<span class=\"string\">-292</span>.el7</span><br><span class=\"line\">  perl-Pod-Perldoc.noarch 0:3.20<span class=\"string\">-4</span>.el7       perl-Pod-Simple.noarch 1:3.28<span class=\"string\">-4</span>.el7</span><br><span class=\"line\">  perl-Pod-Usage.noarch 0:1.63<span class=\"string\">-3</span>.el7         perl-Scalar-List-Utils.x86_64 0:1.27<span class=\"string\">-248</span>.el7</span><br><span class=\"line\">  perl-Socket.x86_64 0:2.010<span class=\"string\">-4</span>.el7           perl-Storable.x86_64 0:2.45<span class=\"string\">-3</span>.el7</span><br><span class=\"line\">  perl-TermReadKey.x86_64 0:2.30<span class=\"string\">-20</span>.el7      perl-Text-ParseWords.noarch 0:3.29<span class=\"string\">-4</span>.el7</span><br><span class=\"line\">  perl-Time-HiRes.x86_64 4:1.9725<span class=\"string\">-3</span>.el7      perl-Time-Local.noarch 0:1.2300<span class=\"string\">-2</span>.el7</span><br><span class=\"line\">  perl-constant.noarch 0:1.27<span class=\"string\">-2</span>.el7          perl-libs.x86_64 4:5.16.3<span class=\"string\">-292</span>.el7</span><br><span class=\"line\">  perl-macros.x86_64 4:5.16.3<span class=\"string\">-292</span>.el7        perl-parent.noarch 1:0.225<span class=\"string\">-244</span>.el7</span><br><span class=\"line\">  perl-podlators.noarch 0:2.5.1<span class=\"string\">-3</span>.el7        perl-threads.x86_64 0:1.87<span class=\"string\">-4</span>.el7</span><br><span class=\"line\">  perl-threads-shared.x86_64 0:1.43<span class=\"string\">-6</span>.el7    rsync.x86_64 0:3.1.2<span class=\"string\">-4</span>.el7</span><br><span class=\"line\"></span><br><span class=\"line\">Complete!</span><br></pre></td></tr></table></figure>\n<h2 id=\"安装shadowsocks\"><a href=\"#安装shadowsocks\" class=\"headerlink\" title=\"安装shadowsocks\"></a>安装shadowsocks</h2><figure class=\"highlight autoit\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root<span class=\"symbol\">@colinvps</span> ~]<span class=\"meta\"># go get github.com/shadowsocks/shadowsocks-go/cmd/shadowsocks-server</span></span><br><span class=\"line\"></span><br><span class=\"line\">[root<span class=\"symbol\">@colinvps</span> ~]<span class=\"meta\"># cd shadowsocks</span></span><br><span class=\"line\">[root<span class=\"symbol\">@colinvps</span> shadowsocks]<span class=\"meta\"># ls</span></span><br><span class=\"line\">bin  pkg  src</span><br></pre></td></tr></table></figure>\n<p>切换到bin目录下，使shadowsocks-server有可执行权限\n<figure class=\"highlight autoit\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root<span class=\"symbol\">@colinvps</span> shadowsocks]<span class=\"meta\"># cd bin</span></span><br><span class=\"line\">./shadowsocks-server -h</span><br><span class=\"line\"></span><br><span class=\"line\">[root<span class=\"symbol\">@colinvps</span> bin]<span class=\"meta\"># chmod +x shadowsocks-server</span></span><br></pre></td></tr></table></figure></p>\n<h2 id=\"配置config-json文件\"><a href=\"#配置config-json文件\" class=\"headerlink\" title=\"配置config.json文件\"></a>配置config.json文件</h2><p>在bin目录下\n<figure class=\"highlight autoit\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root<span class=\"symbol\">@colinvps</span> bin]<span class=\"meta\"># vi config.json</span></span><br><span class=\"line\"></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"string\">\"server\"</span>:<span class=\"string\">\"127.0.0.1\"</span>,</span><br><span class=\"line\">    <span class=\"string\">\"port_password\"</span>:&#123;</span><br><span class=\"line\">         <span class=\"string\">\"7973\"</span>:<span class=\"string\">\"123456\"</span>,</span><br><span class=\"line\">         <span class=\"string\">\"7884\"</span>:<span class=\"string\">\"abcdef\"</span>,</span><br><span class=\"line\">         <span class=\"string\">\"7987\"</span>:<span class=\"string\">\"1212112\"</span>,</span><br><span class=\"line\">         <span class=\"string\">\"7938\"</span>:<span class=\"string\">\"1445566\"</span>,</span><br><span class=\"line\">        <span class=\"string\">\"7999\"</span>:<span class=\"string\">\"345123\"</span></span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"string\">\"local_address\"</span>: <span class=\"string\">\"127.0.0.1\"</span>,</span><br><span class=\"line\">    <span class=\"string\">\"local_port\"</span>:<span class=\"number\">1080</span>,</span><br><span class=\"line\">    <span class=\"string\">\"timeout\"</span>:<span class=\"number\">600</span>,</span><br><span class=\"line\">    <span class=\"string\">\"method\"</span>:<span class=\"string\">\"aes-128-cfb\"</span>,</span><br><span class=\"line\">    <span class=\"string\">\"fast_open\"</span>:<span class=\"literal\">false</span>,</span><br><span class=\"line\">    <span class=\"string\">\"workers\"</span>:<span class=\"number\">1</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>config文件参数配置：</p>\n<h2 id=\"开放端口\"><a href=\"#开放端口\" class=\"headerlink\" title=\"开放端口\"></a>开放端口</h2><p>将以上config文件的端口添加到防火墙<br>这里使用firewall命令  </p>\n<p>查看所有打开的端口： \n<figure class=\"highlight lsl\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@colinvps /]# firewall-cmd --zone=public --<span class=\"type\">list</span>-ports</span><br><span class=\"line\"><span class=\"number\">7884</span>/tcp <span class=\"number\">7987</span>/tcp <span class=\"number\">7999</span>/tcp <span class=\"number\">7938</span>/tcp <span class=\"number\">7973</span>/tcp</span><br></pre></td></tr></table></figure></p>\n<p>添加端口\n<figure class=\"highlight subunit\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@colinvps /]# firewall-cmd --zone=public --add-port=80/tcp --permanent </span><br><span class=\"line\">success</span><br><span class=\"line\"></span><br><span class=\"line\">[root@colinvps /]# firewall-cmd --zone=public --list-ports</span><br><span class=\"line\">7884/tcp 7987/tcp 7999/tcp 7938/tcp 7973/tcp  80/tcp</span><br></pre></td></tr></table></figure></p>\n<p>载入生效\n<figure class=\"highlight autoit\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root<span class=\"symbol\">@colinvps</span> /]<span class=\"meta\"># firewall-cmd --reload</span></span><br></pre></td></tr></table></figure></p>\n<h2 id=\"开启shadowsocks服务\"><a href=\"#开启shadowsocks服务\" class=\"headerlink\" title=\"开启shadowsocks服务\"></a>开启shadowsocks服务</h2><figure class=\"highlight cs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[<span class=\"meta\">root@colinvps /</span>]<span class=\"meta\"># ./shadowsocks-server &gt; log &amp;</span></span><br><span class=\"line\">[<span class=\"meta\">1</span>] <span class=\"number\">1642</span></span><br></pre></td></tr></table></figure>\n<p>已成功开启<br>关闭服务\n<figure class=\"highlight tap\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@colinvps ~]<span class=\"comment\"># ps aux|grep shadowsocks-server</span></span><br><span class=\"line\">root     <span class=\"number\"> 1642 </span> 0.1  1.0<span class=\"number\"> 187916 </span><span class=\"number\"> 5124 </span>pts/0    Sl   02:11   0:08 ./shadowsocks-server</span><br><span class=\"line\">root     <span class=\"number\"> 4749 </span> 0.0  0.4<span class=\"number\"> 112716 </span><span class=\"number\"> 2380 </span>pts/0    S+   04:31   0:00 grep --color=auto shadowsocks-server</span><br><span class=\"line\"></span><br><span class=\"line\">[root@colinvps ~]<span class=\"comment\"># kill -9 4749</span></span><br></pre></td></tr></table></figure></p>\n<h2 id=\"使用客户端测试链接\"><a href=\"#使用客户端测试链接\" class=\"headerlink\" title=\"使用客户端测试链接\"></a>使用客户端测试链接</h2><p>在<a href=\"https://github.com/shadowsocks/shadowsocks-windows/releases\" target=\"_blank\" rel=\"noopener\">shadowsocks-windows</a>中下载客户端\nshadowsocks-windows客户端配置同服务器config.json文件一致就好，可根据不同端口配置不同密码<br>配置好相关的内容进行测试，启用系统代理，右键点开帮助-&gt;显示日志\n查看链接情况<br>点击<a href=\"https://www.google.com/\" target=\"_blank\" rel=\"noopener\">谷歌</a>测试   </p>\n<p>##备注</p>\n<p>###重置密码\nVPS重启镜像后重置密码<br><figure class=\"highlight ada\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@colinvps ~]# passwd root</span><br><span class=\"line\"><span class=\"keyword\">New</span> password:</span><br><span class=\"line\">Retype <span class=\"keyword\">new</span> password:</span><br><span class=\"line\">passwd: <span class=\"keyword\">all</span> authentication tokens updated successfully.</span><br></pre></td></tr></table></figure></p>\n","site":{"data":{}},"excerpt":"<p>&emsp;&emsp;因被喝茶，shadowsocks 作者被迫停更了shadowsocks的python服务器版本，\ngo语言版本开始被很多人使用。但python版本停更并非go版本使用频次增多的主要原因,\n除了语言切换的限制，更多的是因为go语言中自带高并发的特性，使得其体验较好，\n于是越来越多的同事都自行搭建go版本自用。<br>本文尽可能详细说明shadowsocks的搭建使用细节。","more":"</p>\n<h2 id=\"目录\"><a href=\"#目录\" class=\"headerlink\" title=\"目录\"></a>目录</h2><!-- TOC -->\n<ul>\n<li><a href=\"#目录\">目录</a></li>\n<li><a href=\"#说明\">说明</a></li>\n<li><a href=\"#服务器选择\">服务器选择</a></li>\n<li><a href=\"#关于云服务\">关于云服务</a></li>\n<li><a href=\"#开始\">开始</a></li>\n<li><a href=\"#linux内核升级--linux4\">Linux内核升级-&gt; linux4</a><ul>\n<li><a href=\"#检查当前系统内核版本\">检查当前系统内核版本：</a></li>\n<li><a href=\"#检查当前tcp算法\">检查当前tcp算法</a></li>\n<li><a href=\"#注意\">注意</a></li>\n<li><a href=\"#使用elrepo仓库\">使用ELRepo仓库：</a></li>\n<li><a href=\"#列出目前可用的linux内核包\">列出目前可用的Linux内核包：</a></li>\n<li><a href=\"#安装最新主线稳定内核\">安装最新主线稳定内核</a></li>\n<li><a href=\"#修改默认启动内核\">修改默认启动内核</a><ul>\n<li><a href=\"#cnetos6\">cnetos6</a></li>\n<li><a href=\"#centos7\">centos7</a></li>\n</ul>\n</li>\n<li><a href=\"#重启\">重启</a></li>\n<li><a href=\"#检测\">检测</a></li>\n</ul>\n</li>\n<li><a href=\"#tcp算法改为bbr\">tcp算法改为BBR</a><ul>\n<li><a href=\"#配置生效\">配置生效</a></li>\n<li><a href=\"#检查\">检查</a></li>\n</ul>\n</li>\n<li><a href=\"#安装go\">安装go</a></li>\n<li><a href=\"#安装git\">安装git</a></li>\n<li><a href=\"#安装shadowsocks\">安装shadowsocks</a></li>\n<li><a href=\"#配置configjson文件\">配置config.json文件</a></li>\n<li><a href=\"#开放端口\">开放端口</a></li>\n<li><a href=\"#开启shadowsocks服务\">开启shadowsocks服务</a></li>\n<li><a href=\"#使用客户端测试链接\">使用客户端测试链接</a></li>\n<li><a href=\"#备注\">备注</a><ul>\n<li><a href=\"#重置密码\">重置密码</a></li>\n</ul>\n</li>\n</ul>\n<!-- /TOC -->\n<h2 id=\"说明\"><a href=\"#说明\" class=\"headerlink\" title=\"说明\"></a>说明</h2><p>&emsp;&emsp;使用shadowsocks的前置条件。<br>&emsp;&emsp;首先，必须拥有一台境外服务器，如果不是自己的物理所有，则需租赁VPS服务器。<br>&emsp;&emsp;所谓VPS服务器，即Virtual Private Server -私有虚拟服务器。<br>&emsp;&emsp;关于租赁服务器，博主常用服务商为vultr、搬瓦工、cloudcone等，\n这也是目前广告和稳定性同时做的比较好的几家。<br>&emsp;&emsp;另随互联网产业不断增长，相关服务需求缺口逐渐呈现，越来越多的云服务商参与其中竞争，相对前面几家，有很多的小服务商也推出了性价比更高的vps服务，主要集中在俄国区，各位可以自由选择。\n大厂还有谷歌的云服务器、亚马逊的AWS,微软的Azure，各位均可一试。<br>&emsp;&emsp;本文搭建环境时VPS系统为centos。  </p>\n<h2 id=\"服务器选择\"><a href=\"#服务器选择\" class=\"headerlink\" title=\"服务器选择\"></a>服务器选择</h2><p>&ensp;&ensp;选择VPS服务商时需注意地理位置远近，测速工具检测结果，及其服务器架构，\n其中注意服务器最好选择Kvm,Xen等宽容度较高的架构方便网络层级的扩展，避免OpenVZ,\n另外也会有服务器厂家会挂Xen卖OpenVZ,在购买之后也要记得及时检测。<br>&ensp;&ensp;购买服务器之后还有及时ping 服务器ID，若ping不通则马上发工单换ip,\n不同服务商换IP的价格不同。<br>&ensp;&ensp;国内云服务器所售的境外机型不推荐选择，性价比太低。  </p>\n<h2 id=\"关于云服务\"><a href=\"#关于云服务\" class=\"headerlink\" title=\"关于云服务\"></a>关于云服务</h2><p>&ensp;&ensp;关于云服务厂商所提供的VPS服务，大多为基于OpenStack的云计算平台开源实现，\n国内的两大云服务厂商也是基于此，不久前滴滴和腾讯云业务分开后，也自行组建了滴滴云服务平台，也是基于OpenStack,但其刚起步不推荐。<br>OpenStack相关的云计算实现，国内学习资源不多，各位可自行搜索，主栈语言为Python。<br>此处提供OpenStack官方地址：<br>&ensp;&ensp;<a href=\"https://www.openstack.org/\" target=\"_blank\" rel=\"noopener\">OpenStack 官网</a><br>&ensp;&ensp;<a href=\"https://github.com/openstack\" target=\"_blank\" rel=\"noopener\">OpenStack github主页</a>  </p>\n<h2 id=\"开始\"><a href=\"#开始\" class=\"headerlink\" title=\"开始\"></a>开始</h2><p>现在你已拥有了基于Xen架构的虚拟机(可ping通)，并已使用root账户登陆拥有管理员权限，接下来的步骤为：</p>\n<pre><code>* 升级Linux系统内核  \n* 更改Linux底层TCP协议算法[BBR 加速]  \n* 安装go  \n* 安装git  \n* 安装shadowsocks  \n* 配置config.json文件  \n* 防火墙开放端口  \n* 使用客户端测试链接  \n</code></pre><p>配置前两项后可使用谷歌Tcp bbr算法加速，bbr算法可基于ai智能控制数据包上下行数量，\n减少国际带宽拥堵。<br>前两步为提升网络性能，可直接从第三步开始。</p>\n<h2 id=\"Linux内核升级-gt-linux4\"><a href=\"#Linux内核升级-gt-linux4\" class=\"headerlink\" title=\"Linux内核升级-&gt; linux4\"></a>Linux内核升级-&gt; linux4</h2><p>###检查当前系统内核版本：\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-attr\">[root@vultr_host /]</span># <span class=\"selector-tag\">uname</span> <span class=\"selector-tag\">-sr</span></span><br><span class=\"line\"><span class=\"selector-tag\">Linux</span> 3<span class=\"selector-class\">.10</span><span class=\"selector-class\">.0-693</span><span class=\"selector-class\">.21</span><span class=\"selector-class\">.1</span><span class=\"selector-class\">.el7</span><span class=\"selector-class\">.x86_64</span></span><br></pre></td></tr></table></figure></p>\n<p>###检查当前tcp算法\n<figure class=\"highlight autoit\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root<span class=\"symbol\">@vultr_host</span> /]<span class=\"meta\"># sysctl net.ipv4.tcp_available_congestion_control</span></span><br><span class=\"line\">net.ipv4.tcp_available_congestion_control = cubic reno</span><br></pre></td></tr></table></figure></p>\n<p>此时系统内核使用的tcp算法内核为cubic/reno</p>\n<h3 id=\"注意\"><a href=\"#注意\" class=\"headerlink\" title=\"注意\"></a>注意</h3><p>在centos中升级内核需要注意：\n多数linux发行版提供了使用 yum 的包管理系统以及官方支持的内核升级方法，但这所有的仅仅为其仓库下最新可用内核，非\n<a href=\"https://www.kernel.org\" target=\"_blank\" rel=\"noopener\">linux 最新版本</a>。\n而且，在centos中也无法使用red hat。</p>\n<p>但是，CentOS可以使用ELRepo!\nELRepo是一个第三方仓库，可以将内核升级到最新版本。</p>\n<p>###使用ELRepo仓库：\n<figure class=\"highlight clean\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@vultr_host /]# rpm --<span class=\"keyword\">import</span> http:<span class=\"comment\">//www.elrepo.org/RPM-GPG-KEY-elrepo.org</span></span><br><span class=\"line\">[root@vultr_host /]# rpm -Uvh http:<span class=\"comment\">//www.elrepo.org/elrepo-release-7.0-2.el7.elrepo.noarch.rpm</span></span><br><span class=\"line\">Retrieving http:<span class=\"comment\">//www.elrepo.org/elrepo-release-7.0-2.el7.elrepo.noarch.rpm</span></span><br><span class=\"line\">Retrieving http:<span class=\"comment\">//elrepo.org/elrepo-release-7.0-3.el7.elrepo.noarch.rpm</span></span><br><span class=\"line\">Preparing...                          ################################# [<span class=\"number\">100</span>%]</span><br><span class=\"line\">Updating / installing...</span><br><span class=\"line\">   <span class=\"number\">1</span>:elrepo-release<span class=\"number\">-7.0</span><span class=\"number\">-3.</span>el7.elrepo  ################################# [<span class=\"number\">100</span>%]</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"列出目前可用的Linux内核包：\"><a href=\"#列出目前可用的Linux内核包：\" class=\"headerlink\" title=\"列出目前可用的Linux内核包：\"></a>列出目前可用的Linux内核包：</h3><figure class=\"highlight x86asm\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@vultr_host /]# yum --disablerepo=<span class=\"string\">\"*\"</span> --enablerepo=<span class=\"string\">\"elrepo-kernel\"</span> list available</span><br><span class=\"line\"></span><br><span class=\"line\">Loaded plugins: fastestmirror</span><br><span class=\"line\">elrepo-kernel                                                                                  | <span class=\"number\">2.9</span> kB  <span class=\"number\">00</span>:<span class=\"number\">00</span>:<span class=\"number\">00</span></span><br><span class=\"line\">elrepo-kernel/primary_db                                                                       | <span class=\"number\">1.7</span> MB  <span class=\"number\">00</span>:<span class=\"number\">00</span>:<span class=\"number\">01</span></span><br><span class=\"line\">Determining fastest mirrors</span><br><span class=\"line\"> * elrepo-kernel: mirrors.thzhost.com</span><br><span class=\"line\">Available Packages</span><br><span class=\"line\">kernel-lt.x86_64                                           <span class=\"number\">4.4</span><span class=\"meta\">.138</span>-<span class=\"number\">1.</span>el7.elrepo                          elrepo-kernel</span><br><span class=\"line\">kernel-lt-devel.x86_64                                     <span class=\"number\">4.4</span><span class=\"meta\">.138</span>-<span class=\"number\">1.</span>el7.elrepo                          elrepo-kernel</span><br><span class=\"line\">kernel-lt-doc.noarch                                       <span class=\"number\">4.4</span><span class=\"meta\">.138</span>-<span class=\"number\">1.</span>el7.elrepo                          elrepo-kernel</span><br><span class=\"line\">kernel-lt-headers.x86_64                                   <span class=\"number\">4.4</span><span class=\"meta\">.138</span>-<span class=\"number\">1.</span>el7.elrepo                          elrepo-kernel</span><br><span class=\"line\">kernel-lt-tools.x86_64                                     <span class=\"number\">4.4</span><span class=\"meta\">.138</span>-<span class=\"number\">1.</span>el7.elrepo                          elrepo-kernel</span><br><span class=\"line\">kernel-lt-tools-libs.x86_64                                <span class=\"number\">4.4</span><span class=\"meta\">.138</span>-<span class=\"number\">1.</span>el7.elrepo                          elrepo-kernel</span><br><span class=\"line\">kernel-lt-tools-libs-devel.x86_64                          <span class=\"number\">4.4</span><span class=\"meta\">.138</span>-<span class=\"number\">1.</span>el7.elrepo                          elrepo-kernel</span><br><span class=\"line\">kernel-ml.x86_64                                           <span class=\"number\">4.17</span><span class=\"meta\">.2</span>-<span class=\"number\">1.</span>el7.elrepo                           elrepo-kernel</span><br><span class=\"line\">kernel-ml-devel.x86_64                                     <span class=\"number\">4.17</span><span class=\"meta\">.2</span>-<span class=\"number\">1.</span>el7.elrepo                           elrepo-kernel</span><br><span class=\"line\">kernel-ml-doc.noarch                                       <span class=\"number\">4.17</span><span class=\"meta\">.2</span>-<span class=\"number\">1.</span>el7.elrepo                           elrepo-kernel</span><br><span class=\"line\">kernel-ml-headers.x86_64                                   <span class=\"number\">4.17</span><span class=\"meta\">.2</span>-<span class=\"number\">1.</span>el7.elrepo                           elrepo-kernel</span><br><span class=\"line\">kernel-ml-tools.x86_64                                     <span class=\"number\">4.17</span><span class=\"meta\">.2</span>-<span class=\"number\">1.</span>el7.elrepo                           elrepo-kernel</span><br><span class=\"line\">kernel-ml-tools-libs.x86_64                                <span class=\"number\">4.17</span><span class=\"meta\">.2</span>-<span class=\"number\">1.</span>el7.elrepo                           elrepo-kernel</span><br><span class=\"line\">kernel-ml-tools-libs-devel.x86_64                          <span class=\"number\">4.17</span><span class=\"meta\">.2</span>-<span class=\"number\">1.</span>el7.elrepo                           elrepo-kernel</span><br><span class=\"line\">perf.x86_64                                                <span class=\"number\">4.17</span><span class=\"meta\">.2</span>-<span class=\"number\">1.</span>el7.elrepo                           elrepo-kernel</span><br><span class=\"line\">python-perf.x86_64                                         <span class=\"number\">4.17</span><span class=\"meta\">.2</span>-<span class=\"number\">1.</span>el7.elrepo                           elrepo-kernel</span><br></pre></td></tr></table></figure>\n<h3 id=\"安装最新主线稳定内核\"><a href=\"#安装最新主线稳定内核\" class=\"headerlink\" title=\"安装最新主线稳定内核\"></a>安装最新主线稳定内核</h3><figure class=\"highlight stata\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@vultr_host /]# yum --enablerepo=elrepo-kernel install kernel-<span class=\"keyword\">ml</span></span><br><span class=\"line\"></span><br><span class=\"line\">Loaded plugins: fastestmirror</span><br><span class=\"line\">base                                                                                           | 3.6 kB  00:00:00</span><br><span class=\"line\">elrepo                                                                                         | 2.9 kB  00:00:00</span><br><span class=\"line\">epel/x86_64/metalink                                                                           |  19 kB  00:00:00</span><br><span class=\"line\">epel                                                                                           | 3.2 kB  00:00:00</span><br><span class=\"line\">https:<span class=\"comment\">//epel.mirror.constant.com/7/x86_64/repodata/repomd.xml: [Errno -1] repomd.xml does not match metalink for epel</span></span><br><span class=\"line\">Trying other mirror.</span><br><span class=\"line\">epel                                                                                           | 3.2 kB  00:00:00</span><br><span class=\"line\">extras                                                                                         | 3.4 kB  00:00:00</span><br><span class=\"line\">updates                                                                                        | 3.4 kB  00:00:00</span><br><span class=\"line\">(1/8): base/7/x86_64/group_gz                                                                  | 166 kB  00:00:01</span><br><span class=\"line\">(2/8): epel/x86_64/group_gz                                                                    |  88 kB  00:00:01</span><br><span class=\"line\">(3/8): elrepo/primary_db                                                                       | 592 kB  00:00:01</span><br><span class=\"line\">(4/8): extras/7/x86_64/primary_db                                                              | 149 kB  00:00:00</span><br><span class=\"line\">epel/x86_64/primary            FAILED</span><br><span class=\"line\">https:<span class=\"comment\">//sjc.edge.kernel.org/fedora-buffet/epel/7/x86_64/repodata/e8475f9ad0cd11429e1cf75752a6dd6fe2b5357a523232eff56af83454c9a3cd-primary.xml.gz: [Errno 14] HTTPS Error 404 - Not Found</span></span><br><span class=\"line\">Trying other mirror.</span><br><span class=\"line\">To address this issue please refer to the below wiki article</span><br><span class=\"line\"></span><br><span class=\"line\">https:<span class=\"comment\">//wiki.centos.org/yum-errors</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">If</span> above article doesn't <span class=\"keyword\">help</span> to resolve this issue please <span class=\"keyword\">use</span> https:<span class=\"comment\">//bugs.centos.org/.</span></span><br><span class=\"line\"></span><br><span class=\"line\">(5/8): epel/x86_64/updateinfo                                                                  | 933 kB  00:00:02</span><br><span class=\"line\">(6/8): updates/7/x86_64/primary_db                                                             | 2.7 MB  00:00:02</span><br><span class=\"line\">(7/8): epel/x86_64/primary                                                                     | 3.5 MB  00:00:05</span><br><span class=\"line\">(8/8): base/7/x86_64/primary_db                                                                | 5.9 MB  00:02:04</span><br><span class=\"line\">Loading mirror speeds from cached hostfile</span><br><span class=\"line\"><span class=\"comment\"> * base: mirror.fileplanet.com</span></span><br><span class=\"line\"><span class=\"comment\"> * elrepo: mirrors.thzhost.com</span></span><br><span class=\"line\"><span class=\"comment\"> * elrepo-kernel: mirrors.thzhost.com</span></span><br><span class=\"line\"><span class=\"comment\"> * epel: mirror.sjc02.svwh.net</span></span><br><span class=\"line\"><span class=\"comment\"> * extras: mirror.fileplanet.com</span></span><br><span class=\"line\"><span class=\"comment\"> * updates: mirror.fileplanet.com</span></span><br><span class=\"line\">epel                                                                                                      12585/12585</span><br><span class=\"line\">Resolving Dependencies</span><br><span class=\"line\">--&gt; Running transaction check</span><br><span class=\"line\">---&gt; Package kernel-<span class=\"keyword\">ml</span>.x86_64 0:4.17.2-1.el7.elrepo will be installed</span><br><span class=\"line\">--&gt; Finished Dependency Resolution</span><br><span class=\"line\"></span><br><span class=\"line\">Dependencies Resolved</span><br><span class=\"line\"></span><br><span class=\"line\">======================================================================================================================</span><br><span class=\"line\"> Package                  <span class=\"keyword\">Arch</span>                  <span class=\"keyword\">Version</span>                            Repository                    Size</span><br><span class=\"line\">======================================================================================================================</span><br><span class=\"line\">Installing:</span><br><span class=\"line\"> kernel-<span class=\"keyword\">ml</span>                x86_64                4.17.2-1.el7.elrepo                elrepo-kernel                 45 <span class=\"built_in\">M</span></span><br><span class=\"line\"></span><br><span class=\"line\">Transaction Summary</span><br><span class=\"line\">======================================================================================================================</span><br><span class=\"line\">Install  1 Package</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">Total</span> download size: 45 <span class=\"built_in\">M</span></span><br><span class=\"line\">Installed size: 201 <span class=\"built_in\">M</span></span><br><span class=\"line\">Is this ok [y/<span class=\"keyword\">d</span>/<span class=\"keyword\">N</span>]: y                       <span class=\"comment\">// Yes</span></span><br><span class=\"line\"></span><br><span class=\"line\">Downloading packages:</span><br><span class=\"line\">kernel-<span class=\"keyword\">ml</span>-4.17.2-1.el7.elrepo.x86_64.rpm                                                       |  45 MB  00:00:06</span><br><span class=\"line\">Running transaction check</span><br><span class=\"line\">Running transaction <span class=\"keyword\">test</span></span><br><span class=\"line\">Transaction <span class=\"keyword\">test</span> succeeded</span><br><span class=\"line\">Running transaction</span><br><span class=\"line\">Warning: RPMDB altered outside of yum.</span><br><span class=\"line\">  Installing : kernel-<span class=\"keyword\">ml</span>-4.17.2-1.el7.elrepo.x86_64                                                               1/1</span><br><span class=\"line\">  Verifying  : kernel-<span class=\"keyword\">ml</span>-4.17.2-1.el7.elrepo.x86_64                                                               1/1</span><br><span class=\"line\"></span><br><span class=\"line\">Installed:</span><br><span class=\"line\">  kernel-<span class=\"keyword\">ml</span>.x86_64 0:4.17.2-1.el7.elrepo</span><br><span class=\"line\"></span><br><span class=\"line\">Complete!</span><br></pre></td></tr></table></figure>\n<h3 id=\"修改默认启动内核\"><a href=\"#修改默认启动内核\" class=\"headerlink\" title=\"修改默认启动内核\"></a>修改默认启动内核</h3><h4 id=\"cnetos6\"><a href=\"#cnetos6\" class=\"headerlink\" title=\"cnetos6\"></a>cnetos6</h4><p>如果是centos6,直接通过/etc/grub.conf文件修改启动顺序<br>使用vi 或者vim命令修改<br><figure class=\"highlight routeros\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vi /boot/grub/grub.conf</span><br><span class=\"line\"></span><br><span class=\"line\">-----------------</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#boot=/dev/sda</span></span><br><span class=\"line\"><span class=\"attribute\">default</span>=1</span><br><span class=\"line\"><span class=\"attribute\">timeout</span>=5</span><br><span class=\"line\"><span class=\"built_in\">..</span>.</span><br></pre></td></tr></table></figure></p>\n<p>其中default默认为0，将其修改为1即可  </p>\n<h4 id=\"centos7\"><a href=\"#centos7\" class=\"headerlink\" title=\"centos7\"></a>centos7</h4><p>centos 7中是通过grub2引导启动顺序。需要执行相关命令。<br>1.查看当前系统所有内核\n<figure class=\"highlight lsl\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@colinvps /]# cat boot/grub2/grub.cfg |grep menuentry</span><br><span class=\"line\">if [ x<span class=\"string\">\"$&#123;feature_menuentry_id&#125;\"</span> = xy ]; then</span><br><span class=\"line\">  menuentry_id_option=<span class=\"string\">\"--id\"</span></span><br><span class=\"line\">  menuentry_id_option=<span class=\"string\">\"\"</span></span><br><span class=\"line\">export menuentry_id_option</span><br><span class=\"line\">menuentry 'CentOS Linux <span class=\"number\">7</span> Rescue cf9fbca3fb7842b4915d9cd81c418fb1 (<span class=\"number\">4.17</span><span class=\"number\">.3</span><span class=\"number\">-1.</span>el7.elrepo.x86_64)' --class centos --class gnu-linux --class gnu --class os --unrestricted $menuentry_id_option 'gnulinux<span class=\"number\">-3.10</span><span class=\"number\">.0</span><span class=\"number\">-123.</span>el7.x86_64-advanced-fe0109f2<span class=\"number\">-6</span>f34<span class=\"number\">-48</span>ae-b51e<span class=\"number\">-1</span>f5fa78305b5' &#123;</span><br><span class=\"line\">menuentry 'CentOS Linux (<span class=\"number\">4.17</span><span class=\"number\">.3</span><span class=\"number\">-1.</span>el7.elrepo.x86_64) <span class=\"number\">7</span> (Core)' --class centos --class gnu-linux --class gnu --class os --unrestricted $menuentry_id_option 'gnulinux<span class=\"number\">-3.10</span><span class=\"number\">.0</span><span class=\"number\">-123.</span>el7.x86_64-advanced-fe0109f2<span class=\"number\">-6</span>f34<span class=\"number\">-48</span>ae-b51e<span class=\"number\">-1</span>f5fa78305b5' &#123;</span><br><span class=\"line\">menuentry 'CentOS Linux <span class=\"number\">7</span> Rescue <span class=\"number\">5491904015</span>ae6a4d828c6acbbfc755b1 (<span class=\"number\">3.10</span><span class=\"number\">.0</span><span class=\"number\">-862.3</span><span class=\"number\">.3</span>.el7.x86_64)' --class centos --class gnu-linux --class gnu --class os --unrestricted $menuentry_id_option 'gnulinux<span class=\"number\">-3.10</span><span class=\"number\">.0</span><span class=\"number\">-123.</span>el7.x86_64-advanced-fe0109f2<span class=\"number\">-6</span>f34<span class=\"number\">-48</span>ae-b51e<span class=\"number\">-1</span>f5fa78305b5' &#123;</span><br><span class=\"line\">menuentry 'CentOS Linux (<span class=\"number\">3.10</span><span class=\"number\">.0</span><span class=\"number\">-862.3</span><span class=\"number\">.3</span>.el7.x86_64) <span class=\"number\">7</span> (Core)' --class centos --class gnu-linux --class gnu --class os --unrestricted $menuentry_id_option 'gnulinux<span class=\"number\">-3.10</span><span class=\"number\">.0</span><span class=\"number\">-123.</span>el7.x86_64-advanced-fe0109f2<span class=\"number\">-6</span>f34<span class=\"number\">-48</span>ae-b51e<span class=\"number\">-1</span>f5fa78305b5' &#123;</span><br><span class=\"line\">menuentry 'CentOS Linux (<span class=\"number\">3.10</span><span class=\"number\">.0</span><span class=\"number\">-123.4</span><span class=\"number\">.2</span>.el7.x86_64) <span class=\"number\">7</span> (Core)' --class centos --class gnu-linux --class gnu --class os --unrestricted $menuentry_id_option 'gnulinux<span class=\"number\">-3.10</span><span class=\"number\">.0</span><span class=\"number\">-123.</span>el7.x86_64-advanced-fe0109f2<span class=\"number\">-6</span>f34<span class=\"number\">-48</span>ae-b51e<span class=\"number\">-1</span>f5fa78305b5' &#123;</span><br><span class=\"line\">menuentry 'CentOS Linux, with Linux <span class=\"number\">3.10</span><span class=\"number\">.0</span><span class=\"number\">-123.</span>el7.x86_64' --class centos --class gnu-linux --class gnu --class os --unrestricted $menuentry_id_option 'gnulinux<span class=\"number\">-3.10</span><span class=\"number\">.0</span><span class=\"number\">-123.</span>el7.x86_64-advanced-fe0109f2<span class=\"number\">-6</span>f34<span class=\"number\">-48</span>ae-b51e<span class=\"number\">-1</span>f5fa78305b5' &#123;</span><br><span class=\"line\">menuentry 'CentOS Linux, with Linux <span class=\"number\">0</span>-rescue<span class=\"number\">-11264912</span>be38456483e63dfd21d402f4' --class centos --class gnu-linux --class gnu --class os --unrestricted $menuentry_id_option 'gnulinux<span class=\"number\">-0</span>-rescue<span class=\"number\">-11264912</span>be38456483e63dfd21d402f4-advanced-fe0109f2<span class=\"number\">-6</span>f34<span class=\"number\">-48</span>ae-b51e<span class=\"number\">-1</span>f5fa78305b5' &#123;</span><br><span class=\"line\">[root@colinvps /]#</span><br></pre></td></tr></table></figure></p>\n<p>2.设置默认启动内核\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-tag\">grub2-set-default</span> \"<span class=\"selector-tag\">CentOS</span> <span class=\"selector-tag\">Linux</span> (4<span class=\"selector-class\">.17</span><span class=\"selector-class\">.3-1</span><span class=\"selector-class\">.el7</span><span class=\"selector-class\">.elrepo</span><span class=\"selector-class\">.x86_64</span>) 7 (<span class=\"selector-tag\">Core</span>)\"</span><br></pre></td></tr></table></figure></p>\n<p>3.检查结果\n<figure class=\"highlight ini\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"section\">[root@colinvps /]</span><span class=\"comment\"># grub2-editenv list</span></span><br><span class=\"line\"><span class=\"attr\">saved_entry</span>=CentOS Linux (<span class=\"number\">4.17</span>.<span class=\"number\">3</span>-<span class=\"number\">1</span>.el7.elrepo.x<span class=\"number\">86_64</span>) <span class=\"number\">7</span> (Core)</span><br></pre></td></tr></table></figure></p>\n<p>设置成功</p>\n<h3 id=\"重启\"><a href=\"#重启\" class=\"headerlink\" title=\"重启\"></a>重启</h3><figure class=\"highlight ebnf\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">reboot</span></span><br></pre></td></tr></table></figure>\n<p>如果在之上修改默认启动内核没有成功，可在VPS服务提供的网页console 界面下使用reboot命令重启<br>在网页端口重启可通过方向键选择将进入的系统内核，类似PC下的bios选择系统<br>一般选择第二个，主要选择对应安装号码的内核就好，“(4.17.3-1.el7.elrepo.x86_64) 7 (Core)”  </p>\n<h3 id=\"检测\"><a href=\"#检测\" class=\"headerlink\" title=\"检测\"></a>检测</h3><p>登陆后查看系统内核：<br><figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-attr\">[root@vultr_host /]</span># <span class=\"selector-tag\">uname</span> <span class=\"selector-tag\">-sr</span></span><br><span class=\"line\"><span class=\"selector-tag\">Linux</span> 4<span class=\"selector-class\">.17</span><span class=\"selector-class\">.2-693</span><span class=\"selector-class\">.21</span><span class=\"selector-class\">.1</span><span class=\"selector-class\">.el7</span><span class=\"selector-class\">.x86_64</span></span><br></pre></td></tr></table></figure></p>\n<p>系统内核升级成功</p>\n<h2 id=\"tcp算法改为BBR\"><a href=\"#tcp算法改为BBR\" class=\"headerlink\" title=\"tcp算法改为BBR\"></a>tcp算法改为BBR</h2><p>编辑系统文件\n<figure class=\"highlight vim\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">vi</span> /etc/sysctl.<span class=\"keyword\">conf</span></span><br></pre></td></tr></table></figure></p>\n<p>在该文件中加入以下两句\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">net<span class=\"selector-class\">.core</span><span class=\"selector-class\">.default_qdisc</span> = fq</span><br><span class=\"line\">net<span class=\"selector-class\">.ipv4</span><span class=\"selector-class\">.tcp_congestion_control</span> = bbr</span><br></pre></td></tr></table></figure></p>\n<p>添加结果\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@vultr_host /]# cat /etc/sysctl.conf</span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> sysctl settings are defined through files <span class=\"keyword\">in</span></span></span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> /usr/lib/sysctl.d/, /run/sysctl.d/, and /etc/sysctl.d/.</span></span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"></span></span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> Vendors settings live <span class=\"keyword\">in</span> /usr/lib/sysctl.d/.</span></span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> To override a whole file, create a new file with the same <span class=\"keyword\">in</span></span></span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> /etc/sysctl.d/ and put new settings there. To override</span></span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> only specific settings, add a file with a lexically later</span></span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> name <span class=\"keyword\">in</span> /etc/sysctl.d/ and put new settings there.</span></span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"></span></span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> For more information, see sysctl.conf(5) and sysctl.d(5).</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> Accept IPv6 advertisements when forwarding is enabled</span></span><br><span class=\"line\">net.ipv6.conf.all.accept_ra = 2</span><br><span class=\"line\">net.ipv6.conf.eth0.accept_ra = 2</span><br><span class=\"line\">net.core.default_qdisc = fq</span><br><span class=\"line\">net.ipv4.tcp_congestion_control = bbr</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"配置生效\"><a href=\"#配置生效\" class=\"headerlink\" title=\"配置生效\"></a>配置生效</h3><figure class=\"highlight stata\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@vultr_host /]# sysctl -p</span><br><span class=\"line\"><span class=\"keyword\">net</span>.ipv6.<span class=\"keyword\">conf</span>.all.accept_ra = 2</span><br><span class=\"line\"><span class=\"keyword\">net</span>.ipv6.<span class=\"keyword\">conf</span>.eth0.accept_ra = 2</span><br><span class=\"line\"><span class=\"keyword\">net</span>.core.default_qdisc = fq</span><br><span class=\"line\"><span class=\"keyword\">net</span>.ipv4.tcp_congestion_control = bbr</span><br></pre></td></tr></table></figure>\n<h3 id=\"检查\"><a href=\"#检查\" class=\"headerlink\" title=\"检查\"></a>检查</h3><figure class=\"highlight autoit\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root<span class=\"symbol\">@vultr_host</span> /]<span class=\"meta\"># sysctl net.ipv4.tcp_available_congestion_control</span></span><br><span class=\"line\">net.ipv4.tcp_available_congestion_control = reno cubic bbr</span><br></pre></td></tr></table></figure>\n<p>结果带有bbr  </p>\n<p>成功使用BBR算法\n<figure class=\"highlight autoit\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root<span class=\"symbol\">@vultr_host</span> /]<span class=\"meta\"># lsmod|grep bbr</span></span><br><span class=\"line\">tcp_bbr                <span class=\"number\">20480</span>  <span class=\"number\">1</span></span><br></pre></td></tr></table></figure></p>\n<h2 id=\"安装go\"><a href=\"#安装go\" class=\"headerlink\" title=\"安装go\"></a>安装go</h2><p>下载\n<figure class=\"highlight less\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-attr\">[root@colinvps /]</span># <span class=\"selector-tag\">cd</span> /<span class=\"selector-tag\">usr</span>/<span class=\"selector-tag\">local</span></span><br><span class=\"line\"><span class=\"selector-attr\">[root@colinvps local]</span># <span class=\"selector-tag\">ls</span></span><br><span class=\"line\"><span class=\"selector-tag\">bin</span>  <span class=\"selector-tag\">etc</span>  <span class=\"selector-tag\">games</span>  <span class=\"selector-tag\">include</span>  <span class=\"selector-tag\">lib</span>  <span class=\"selector-tag\">lib64</span>  <span class=\"selector-tag\">libexec</span>  <span class=\"selector-tag\">sbin</span>  <span class=\"selector-tag\">share</span>  <span class=\"selector-tag\">src</span></span><br><span class=\"line\"><span class=\"selector-attr\">[root@colinvps local]</span># <span class=\"selector-tag\">wget</span> <span class=\"selector-tag\">https</span>:<span class=\"comment\">//storage.googleapis.com/golang/go1.6.3.linux-amd64.tar.gz</span></span><br><span class=\"line\"><span class=\"selector-tag\">--2018-07-03</span> <span class=\"selector-tag\">00</span><span class=\"selector-pseudo\">:06</span><span class=\"selector-pseudo\">:49--</span>  <span class=\"selector-tag\">https</span>:<span class=\"comment\">//storage.googleapis.com/golang/go1.6.3.linux-amd64.tar.gz</span></span><br><span class=\"line\"><span class=\"selector-tag\">Resolving</span> <span class=\"selector-tag\">storage</span><span class=\"selector-class\">.googleapis</span><span class=\"selector-class\">.com</span> (storage.googleapis.com)... <span class=\"selector-tag\">172</span><span class=\"selector-class\">.217</span><span class=\"selector-class\">.14</span><span class=\"selector-class\">.112</span>, <span class=\"selector-tag\">2607</span><span class=\"selector-pseudo\">:f8b0</span><span class=\"selector-pseudo\">:4007</span><span class=\"selector-pseudo\">:80e</span><span class=\"selector-pseudo\">::2010</span></span><br><span class=\"line\"><span class=\"selector-tag\">Connecting</span> <span class=\"selector-tag\">to</span> <span class=\"selector-tag\">storage</span><span class=\"selector-class\">.googleapis</span><span class=\"selector-class\">.com</span> (storage.googleapis.com)|<span class=\"selector-tag\">172</span><span class=\"selector-class\">.217</span><span class=\"selector-class\">.14</span><span class=\"selector-class\">.112</span>|<span class=\"selector-pseudo\">:443...</span> <span class=\"selector-tag\">connected</span>.</span><br><span class=\"line\"><span class=\"selector-tag\">HTTP</span> <span class=\"selector-tag\">request</span> <span class=\"selector-tag\">sent</span>, <span class=\"selector-tag\">awaiting</span> <span class=\"selector-tag\">response</span>... <span class=\"selector-tag\">200</span> <span class=\"selector-tag\">OK</span></span><br><span class=\"line\"><span class=\"selector-tag\">Length</span>: <span class=\"selector-tag\">84856920</span> (<span class=\"number\">81</span>M) <span class=\"selector-attr\">[application/x-gzip]</span></span><br><span class=\"line\"><span class=\"selector-tag\">Saving</span> <span class=\"selector-tag\">to</span>: ‘<span class=\"selector-tag\">go1</span><span class=\"selector-class\">.6</span><span class=\"selector-class\">.3</span><span class=\"selector-class\">.linux-amd64</span><span class=\"selector-class\">.tar</span><span class=\"selector-class\">.gz</span>’</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-tag\">100%</span><span class=\"selector-attr\">[===============================================================================================&gt;]</span> <span class=\"selector-tag\">84</span>,<span class=\"selector-tag\">856</span>,<span class=\"selector-tag\">920</span>  <span class=\"selector-tag\">52</span><span class=\"selector-class\">.5MB</span>/<span class=\"selector-tag\">s</span>   <span class=\"selector-tag\">in</span> <span class=\"selector-tag\">1</span><span class=\"selector-class\">.5s</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-tag\">2018-07-03</span> <span class=\"selector-tag\">00</span><span class=\"selector-pseudo\">:06</span><span class=\"selector-pseudo\">:51</span> (<span class=\"number\">52.5</span> MB/s) <span class=\"selector-tag\">-</span> ‘<span class=\"selector-tag\">go1</span><span class=\"selector-class\">.6</span><span class=\"selector-class\">.3</span><span class=\"selector-class\">.linux-amd64</span><span class=\"selector-class\">.tar</span><span class=\"selector-class\">.gz</span>’ <span class=\"selector-tag\">saved</span> <span class=\"selector-attr\">[84856920/84856920]</span></span><br></pre></td></tr></table></figure></p>\n<p>解压，这里日志比较长，只给命令\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-attr\">[root@colinvps /]</span># <span class=\"selector-tag\">tar</span> <span class=\"selector-tag\">-xvf</span> <span class=\"selector-tag\">go1</span><span class=\"selector-class\">.6</span><span class=\"selector-class\">.3linux-amd64</span><span class=\"selector-class\">.tar</span><span class=\"selector-class\">.gz</span></span><br></pre></td></tr></table></figure></p>\n<p>添加环境变量，加入以下两行\n<figure class=\"highlight routeros\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">[root@colinvps /]# vi /etc/profile</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"builtin-name\">export</span> <span class=\"attribute\">GOROOT</span>=/usr/local/go</span><br><span class=\"line\"><span class=\"builtin-name\">export</span> <span class=\"attribute\">PATH</span>=<span class=\"variable\">$PATH</span>:$GOROOT/bin</span><br></pre></td></tr></table></figure></p>\n<p>重载\n<figure class=\"highlight autoit\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root<span class=\"symbol\">@colinvps</span> /]<span class=\"meta\"># source /etc/profile</span></span><br></pre></td></tr></table></figure></p>\n<p>在 ~ 目录设置自己的GOPATH\n<figure class=\"highlight routeros\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@colinvps ~]# vi .bash_profile</span><br><span class=\"line\"><span class=\"builtin-name\">export</span> <span class=\"attribute\">GOPATH</span>=<span class=\"variable\">$HOME</span>/shadowsocks</span><br></pre></td></tr></table></figure></p>\n<p>重载\n<figure class=\"highlight autoit\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root<span class=\"symbol\">@colinvps</span> ~]<span class=\"meta\"># source .bash_profile</span></span><br></pre></td></tr></table></figure></p>\n<h2 id=\"安装git\"><a href=\"#安装git\" class=\"headerlink\" title=\"安装git\"></a>安装git</h2><figure class=\"highlight subunit\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br><span class=\"line\">164</span><br><span class=\"line\">165</span><br><span class=\"line\">166</span><br><span class=\"line\">167</span><br><span class=\"line\">168</span><br><span class=\"line\">169</span><br><span class=\"line\">170</span><br><span class=\"line\">171</span><br><span class=\"line\">172</span><br><span class=\"line\">173</span><br><span class=\"line\">174</span><br><span class=\"line\">175</span><br><span class=\"line\">176</span><br><span class=\"line\">177</span><br><span class=\"line\">178</span><br><span class=\"line\">179</span><br><span class=\"line\">180</span><br><span class=\"line\">181</span><br><span class=\"line\">182</span><br><span class=\"line\">183</span><br><span class=\"line\">184</span><br><span class=\"line\">185</span><br><span class=\"line\">186</span><br><span class=\"line\">187</span><br><span class=\"line\">188</span><br><span class=\"line\">189</span><br><span class=\"line\">190</span><br><span class=\"line\">191</span><br><span class=\"line\">192</span><br><span class=\"line\">193</span><br><span class=\"line\">194</span><br><span class=\"line\">195</span><br><span class=\"line\">196</span><br><span class=\"line\">197</span><br><span class=\"line\">198</span><br><span class=\"line\">199</span><br><span class=\"line\">200</span><br><span class=\"line\">201</span><br><span class=\"line\">202</span><br><span class=\"line\">203</span><br><span class=\"line\">204</span><br><span class=\"line\">205</span><br><span class=\"line\">206</span><br><span class=\"line\">207</span><br><span class=\"line\">208</span><br><span class=\"line\">209</span><br><span class=\"line\">210</span><br><span class=\"line\">211</span><br><span class=\"line\">212</span><br><span class=\"line\">213</span><br><span class=\"line\">214</span><br><span class=\"line\">215</span><br><span class=\"line\">216</span><br><span class=\"line\">217</span><br><span class=\"line\">218</span><br><span class=\"line\">219</span><br><span class=\"line\">220</span><br><span class=\"line\">221</span><br><span class=\"line\">222</span><br><span class=\"line\">223</span><br><span class=\"line\">224</span><br><span class=\"line\">225</span><br><span class=\"line\">226</span><br><span class=\"line\">227</span><br><span class=\"line\">228</span><br><span class=\"line\">229</span><br><span class=\"line\">230</span><br><span class=\"line\">231</span><br><span class=\"line\">232</span><br><span class=\"line\">233</span><br><span class=\"line\">234</span><br><span class=\"line\">235</span><br><span class=\"line\">236</span><br><span class=\"line\">237</span><br><span class=\"line\">238</span><br><span class=\"line\">239</span><br><span class=\"line\">240</span><br><span class=\"line\">241</span><br><span class=\"line\">242</span><br><span class=\"line\">243</span><br><span class=\"line\">244</span><br><span class=\"line\">245</span><br><span class=\"line\">246</span><br><span class=\"line\">247</span><br><span class=\"line\">248</span><br><span class=\"line\">249</span><br><span class=\"line\">250</span><br><span class=\"line\">251</span><br><span class=\"line\">252</span><br><span class=\"line\">253</span><br><span class=\"line\">254</span><br><span class=\"line\">255</span><br><span class=\"line\">256</span><br><span class=\"line\">257</span><br><span class=\"line\">258</span><br><span class=\"line\">259</span><br><span class=\"line\">260</span><br><span class=\"line\">261</span><br><span class=\"line\">262</span><br><span class=\"line\">263</span><br><span class=\"line\">264</span><br><span class=\"line\">265</span><br><span class=\"line\">266</span><br><span class=\"line\">267</span><br><span class=\"line\">268</span><br><span class=\"line\">269</span><br><span class=\"line\">270</span><br><span class=\"line\">271</span><br><span class=\"line\">272</span><br><span class=\"line\">273</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@colinvps ~]#  yum install git</span><br><span class=\"line\">        </span><br><span class=\"line\">Loaded plugins: fastestmirror</span><br><span class=\"line\">Loading mirror speeds from cached hostfile</span><br><span class=\"line\"> * base: mirror.san.fastserv.com</span><br><span class=\"line\"> * elrepo: repos.lax-noc.com</span><br><span class=\"line\"> * extras: mirrors.xmission.com</span><br><span class=\"line\"> * updates: mirror.scalabledns.com</span><br><span class=\"line\">Resolving Dependencies</span><br><span class=\"line\">--&gt; Running transaction check</span><br><span class=\"line\">---&gt; Package git.x86_64 0:1.8.3.1<span class=\"string\">-14</span>.el7_5 will be installed</span><br><span class=\"line\">--&gt; Processing Dependency: perl-Git = 1.8.3.1<span class=\"string\">-14</span>.el7_5 for package: git<span class=\"string\">-1</span>.8.3.1<span class=\"string\">-14</span>.el7_5.x86_64</span><br><span class=\"line\">--&gt; Processing Dependency: perl &gt;= 5.008 for package: git<span class=\"string\">-1</span>.8.3.1<span class=\"string\">-14</span>.el7_5.x86_64</span><br><span class=\"line\">--&gt; Processing Dependency: rsync for package: git<span class=\"string\">-1</span>.8.3.1<span class=\"string\">-14</span>.el7_5.x86_64</span><br><span class=\"line\">--&gt; Processing Dependency: perl(warnings) for package: git<span class=\"string\">-1</span>.8.3.1<span class=\"string\">-14</span>.el7_5.x86_64</span><br><span class=\"line\">--&gt; Processing Dependency: perl(vars) for package: git<span class=\"string\">-1</span>.8.3.1<span class=\"string\">-14</span>.el7_5.x86_64</span><br><span class=\"line\">--&gt; Processing Dependency: perl(strict) for package: git<span class=\"string\">-1</span>.8.3.1<span class=\"string\">-14</span>.el7_5.x86_64</span><br><span class=\"line\">--&gt; Processing Dependency: perl(lib) for package: git<span class=\"string\">-1</span>.8.3.1<span class=\"string\">-14</span>.el7_5.x86_64</span><br><span class=\"line\">--&gt; Processing Dependency: perl(Term::ReadKey) for package: git<span class=\"string\">-1</span>.8.3.1<span class=\"string\">-14</span>.el7_5.x86_64</span><br><span class=\"line\">--&gt; Processing Dependency: perl(Git) for package: git<span class=\"string\">-1</span>.8.3.1<span class=\"string\">-14</span>.el7_5.x86_64</span><br><span class=\"line\">--&gt; Processing Dependency: perl(Getopt::Long) for package: git<span class=\"string\">-1</span>.8.3.1<span class=\"string\">-14</span>.el7_5.x86_64</span><br><span class=\"line\">--&gt; Processing Dependency: perl(File::stat) for package: git<span class=\"string\">-1</span>.8.3.1<span class=\"string\">-14</span>.el7_5.x86_64</span><br><span class=\"line\">--&gt; Processing Dependency: perl(File::Temp) for package: git<span class=\"string\">-1</span>.8.3.1<span class=\"string\">-14</span>.el7_5.x86_64</span><br><span class=\"line\">--&gt; Processing Dependency: perl(File::Spec) for package: git<span class=\"string\">-1</span>.8.3.1<span class=\"string\">-14</span>.el7_5.x86_64</span><br><span class=\"line\">--&gt; Processing Dependency: perl(File::Path) for package: git<span class=\"string\">-1</span>.8.3.1<span class=\"string\">-14</span>.el7_5.x86_64</span><br><span class=\"line\">--&gt; Processing Dependency: perl(File::Find) for package: git<span class=\"string\">-1</span>.8.3.1<span class=\"string\">-14</span>.el7_5.x86_64</span><br><span class=\"line\">--&gt; Processing Dependency: perl(File::Copy) for package: git<span class=\"string\">-1</span>.8.3.1<span class=\"string\">-14</span>.el7_5.x86_64</span><br><span class=\"line\">--&gt; Processing Dependency: perl(File::Basename) for package: git<span class=\"string\">-1</span>.8.3.1<span class=\"string\">-14</span>.el7_5.x86_64</span><br><span class=\"line\">--&gt; Processing Dependency: perl(Exporter) for package: git<span class=\"string\">-1</span>.8.3.1<span class=\"string\">-14</span>.el7_5.x86_64</span><br><span class=\"line\">--&gt; Processing Dependency: perl(Error) for package: git<span class=\"string\">-1</span>.8.3.1<span class=\"string\">-14</span>.el7_5.x86_64</span><br><span class=\"line\">--&gt; Processing Dependency: /usr/bin/perl for package: git<span class=\"string\">-1</span>.8.3.1<span class=\"string\">-14</span>.el7_5.x86_64</span><br><span class=\"line\">--&gt; Processing Dependency: libgnome-keyring.so.0()(64bit) for package: git<span class=\"string\">-1</span>.8.3.1<span class=\"string\">-14</span>.el7_5.x86_64</span><br><span class=\"line\">--&gt; Running transaction check</span><br><span class=\"line\">---&gt; Package libgnome-keyring.x86_64 0:3.12.0<span class=\"string\">-1</span>.el7 will be installed</span><br><span class=\"line\">---&gt; Package perl.x86_64 4:5.16.3<span class=\"string\">-292</span>.el7 will be installed</span><br><span class=\"line\">--&gt; Processing Dependency: perl-libs = 4:5.16.3<span class=\"string\">-292</span>.el7 for package: 4:perl<span class=\"string\">-5</span>.16.3<span class=\"string\">-292</span>.el7.x86_64</span><br><span class=\"line\">--&gt; Processing Dependency: perl(Socket) &gt;= 1.3 for package: 4:perl<span class=\"string\">-5</span>.16.3<span class=\"string\">-292</span>.el7.x86_64</span><br><span class=\"line\">--&gt; Processing Dependency: perl(Scalar::Util) &gt;= 1.10 for package: 4:perl<span class=\"string\">-5</span>.16.3<span class=\"string\">-292</span>.el7.x86_64</span><br><span class=\"line\">--&gt; Processing Dependency: perl-macros for package: 4:perl<span class=\"string\">-5</span>.16.3<span class=\"string\">-292</span>.el7.x86_64</span><br><span class=\"line\">--&gt; Processing Dependency: perl-libs for package: 4:perl<span class=\"string\">-5</span>.16.3<span class=\"string\">-292</span>.el7.x86_64</span><br><span class=\"line\">--&gt; Processing Dependency: perl(threads::shared) for package: 4:perl<span class=\"string\">-5</span>.16.3<span class=\"string\">-292</span>.el7.x86_64</span><br><span class=\"line\">--&gt; Processing Dependency: perl(threads) for package: 4:perl<span class=\"string\">-5</span>.16.3<span class=\"string\">-292</span>.el7.x86_64</span><br><span class=\"line\">--&gt; Processing Dependency: perl(constant) for package: 4:perl<span class=\"string\">-5</span>.16.3<span class=\"string\">-292</span>.el7.x86_64</span><br><span class=\"line\">--&gt; Processing Dependency: perl(Time::Local) for package: 4:perl<span class=\"string\">-5</span>.16.3<span class=\"string\">-292</span>.el7.x86_64</span><br><span class=\"line\">--&gt; Processing Dependency: perl(Time::HiRes) for package: 4:perl<span class=\"string\">-5</span>.16.3<span class=\"string\">-292</span>.el7.x86_64</span><br><span class=\"line\">--&gt; Processing Dependency: perl(Storable) for package: 4:perl<span class=\"string\">-5</span>.16.3<span class=\"string\">-292</span>.el7.x86_64</span><br><span class=\"line\">--&gt; Processing Dependency: perl(Socket) for package: 4:perl<span class=\"string\">-5</span>.16.3<span class=\"string\">-292</span>.el7.x86_64</span><br><span class=\"line\">--&gt; Processing Dependency: perl(Scalar::Util) for package: 4:perl<span class=\"string\">-5</span>.16.3<span class=\"string\">-292</span>.el7.x86_64</span><br><span class=\"line\">--&gt; Processing Dependency: perl(Pod::Simple::XHTML) for package: 4:perl<span class=\"string\">-5</span>.16.3<span class=\"string\">-292</span>.el7.x86_64</span><br><span class=\"line\">--&gt; Processing Dependency: perl(Pod::Simple::Search) for package: 4:perl<span class=\"string\">-5</span>.16.3<span class=\"string\">-292</span>.el7.x86_64</span><br><span class=\"line\">--&gt; Processing Dependency: perl(Filter::Util::Call) for package: 4:perl<span class=\"string\">-5</span>.16.3<span class=\"string\">-292</span>.el7.x86_64</span><br><span class=\"line\">--&gt; Processing Dependency: perl(Carp) for package: 4:perl<span class=\"string\">-5</span>.16.3<span class=\"string\">-292</span>.el7.x86_64</span><br><span class=\"line\">--&gt; Processing Dependency: libperl.so()(64bit) for package: 4:perl<span class=\"string\">-5</span>.16.3<span class=\"string\">-292</span>.el7.x86_64</span><br><span class=\"line\">---&gt; Package perl-Error.noarch 1:0.17020<span class=\"string\">-2</span>.el7 will be installed</span><br><span class=\"line\">---&gt; Package perl-Exporter.noarch 0:5.68<span class=\"string\">-3</span>.el7 will be installed</span><br><span class=\"line\">---&gt; Package perl-File-Path.noarch 0:2.09<span class=\"string\">-2</span>.el7 will be installed</span><br><span class=\"line\">---&gt; Package perl-File-Temp.noarch 0:0.23.01<span class=\"string\">-3</span>.el7 will be installed</span><br><span class=\"line\">---&gt; Package perl-Getopt-Long.noarch 0:2.40<span class=\"string\">-3</span>.el7 will be installed</span><br><span class=\"line\">--&gt; Processing Dependency: perl(Pod::Usage) &gt;= 1.14 for package: perl-Getopt-Long<span class=\"string\">-2</span>.40<span class=\"string\">-3</span>.el7.noarch</span><br><span class=\"line\">--&gt; Processing Dependency: perl(Text::ParseWords) for package: perl-Getopt-Long<span class=\"string\">-2</span>.40<span class=\"string\">-3</span>.el7.noarch</span><br><span class=\"line\">---&gt; Package perl-Git.noarch 0:1.8.3.1<span class=\"string\">-14</span>.el7_5 will be installed</span><br><span class=\"line\">---&gt; Package perl-PathTools.x86_64 0:3.40<span class=\"string\">-5</span>.el7 will be installed</span><br><span class=\"line\">---&gt; Package perl-TermReadKey.x86_64 0:2.30<span class=\"string\">-20</span>.el7 will be installed</span><br><span class=\"line\">---&gt; Package rsync.x86_64 0:3.1.2<span class=\"string\">-4</span>.el7 will be installed</span><br><span class=\"line\">--&gt; Running transaction check</span><br><span class=\"line\">---&gt; Package perl-Carp.noarch 0:1.26<span class=\"string\">-244</span>.el7 will be installed</span><br><span class=\"line\">---&gt; Package perl-Filter.x86_64 0:1.49<span class=\"string\">-3</span>.el7 will be installed</span><br><span class=\"line\">---&gt; Package perl-Pod-Simple.noarch 1:3.28<span class=\"string\">-4</span>.el7 will be installed</span><br><span class=\"line\">--&gt; Processing Dependency: perl(Pod::Escapes) &gt;= 1.04 for package: 1:perl-Pod-Simple<span class=\"string\">-3</span>.28<span class=\"string\">-4</span>.el7.noarch</span><br><span class=\"line\">--&gt; Processing Dependency: perl(Encode) for package: 1:perl-Pod-Simple<span class=\"string\">-3</span>.28<span class=\"string\">-4</span>.el7.noarch</span><br><span class=\"line\">---&gt; Package perl-Pod-Usage.noarch 0:1.63<span class=\"string\">-3</span>.el7 will be installed</span><br><span class=\"line\">--&gt; Processing Dependency: perl(Pod::Text) &gt;= 3.15 for package: perl-Pod-Usage<span class=\"string\">-1</span>.63<span class=\"string\">-3</span>.el7.noarch</span><br><span class=\"line\">--&gt; Processing Dependency: perl-Pod-Perldoc for package: perl-Pod-Usage<span class=\"string\">-1</span>.63<span class=\"string\">-3</span>.el7.noarch</span><br><span class=\"line\">---&gt; Package perl-Scalar-List-Utils.x86_64 0:1.27<span class=\"string\">-248</span>.el7 will be installed</span><br><span class=\"line\">---&gt; Package perl-Socket.x86_64 0:2.010<span class=\"string\">-4</span>.el7 will be installed</span><br><span class=\"line\">---&gt; Package perl-Storable.x86_64 0:2.45<span class=\"string\">-3</span>.el7 will be installed</span><br><span class=\"line\">---&gt; Package perl-Text-ParseWords.noarch 0:3.29<span class=\"string\">-4</span>.el7 will be installed</span><br><span class=\"line\">---&gt; Package perl-Time-HiRes.x86_64 4:1.9725<span class=\"string\">-3</span>.el7 will be installed</span><br><span class=\"line\">---&gt; Package perl-Time-Local.noarch 0:1.2300<span class=\"string\">-2</span>.el7 will be installed</span><br><span class=\"line\">---&gt; Package perl-constant.noarch 0:1.27<span class=\"string\">-2</span>.el7 will be installed</span><br><span class=\"line\">---&gt; Package perl-libs.x86_64 4:5.16.3<span class=\"string\">-292</span>.el7 will be installed</span><br><span class=\"line\">---&gt; Package perl-macros.x86_64 4:5.16.3<span class=\"string\">-292</span>.el7 will be installed</span><br><span class=\"line\">---&gt; Package perl-threads.x86_64 0:1.87<span class=\"string\">-4</span>.el7 will be installed</span><br><span class=\"line\">---&gt; Package perl-threads-shared.x86_64 0:1.43<span class=\"string\">-6</span>.el7 will be installed</span><br><span class=\"line\">--&gt; Running transaction check</span><br><span class=\"line\">---&gt; Package perl-Encode.x86_64 0:2.51<span class=\"string\">-7</span>.el7 will be installed</span><br><span class=\"line\">---&gt; Package perl-Pod-Escapes.noarch 1:1.04<span class=\"string\">-292</span>.el7 will be installed</span><br><span class=\"line\">---&gt; Package perl-Pod-Perldoc.noarch 0:3.20<span class=\"string\">-4</span>.el7 will be installed</span><br><span class=\"line\">--&gt; Processing Dependency: perl(parent) for package: perl-Pod-Perldoc<span class=\"string\">-3</span>.20<span class=\"string\">-4</span>.el7.noarch</span><br><span class=\"line\">--&gt; Processing Dependency: perl(HTTP::Tiny) for package: perl-Pod-Perldoc<span class=\"string\">-3</span>.20<span class=\"string\">-4</span>.el7.noarch</span><br><span class=\"line\">---&gt; Package perl-podlators.noarch 0:2.5.1<span class=\"string\">-3</span>.el7 will be installed</span><br><span class=\"line\">--&gt; Running transaction check</span><br><span class=\"line\">---&gt; Package perl-HTTP-Tiny.noarch 0:0.033<span class=\"string\">-3</span>.el7 will be installed</span><br><span class=\"line\">---&gt; Package perl-parent.noarch 1:0.225<span class=\"string\">-244</span>.el7 will be installed</span><br><span class=\"line\">--&gt; Finished Dependency Resolution</span><br><span class=\"line\"></span><br><span class=\"line\">Dependencies Resolved</span><br><span class=\"line\"></span><br><span class=\"line\">============================================================================================</span><br><span class=\"line\"> Package                       Arch          Version                   Repository      Size</span><br><span class=\"line\">============================================================================================</span><br><span class=\"line\">Installing:</span><br><span class=\"line\"> git                           x86_64        1.8.3.1<span class=\"string\">-14</span>.el7_5          updates        4.4 M</span><br><span class=\"line\">Installing for dependencies:</span><br><span class=\"line\"> libgnome-keyring              x86_64        3.12.0<span class=\"string\">-1</span>.el7              base           109 k</span><br><span class=\"line\"> perl                          x86_64        4:5.16.3<span class=\"string\">-292</span>.el7          base           8.0 M</span><br><span class=\"line\"> perl-Carp                     noarch        1.26<span class=\"string\">-244</span>.el7              base            19 k</span><br><span class=\"line\"> perl-Encode                   x86_64        2.51<span class=\"string\">-7</span>.el7                base           1.5 M</span><br><span class=\"line\"> perl-Error                    noarch        1:0.17020<span class=\"string\">-2</span>.el7           base            32 k</span><br><span class=\"line\"> perl-Exporter                 noarch        5.68<span class=\"string\">-3</span>.el7                base            28 k</span><br><span class=\"line\"> perl-File-Path                noarch        2.09<span class=\"string\">-2</span>.el7                base            26 k</span><br><span class=\"line\"> perl-File-Temp                noarch        0.23.01<span class=\"string\">-3</span>.el7             base            56 k</span><br><span class=\"line\"> perl-Filter                   x86_64        1.49<span class=\"string\">-3</span>.el7                base            76 k</span><br><span class=\"line\"> perl-Getopt-Long              noarch        2.40<span class=\"string\">-3</span>.el7                base            56 k</span><br><span class=\"line\"> perl-Git                      noarch        1.8.3.1<span class=\"string\">-14</span>.el7_5          updates         54 k</span><br><span class=\"line\"> perl-HTTP-Tiny                noarch        0.033<span class=\"string\">-3</span>.el7               base            38 k</span><br><span class=\"line\"> perl-PathTools                x86_64        3.40<span class=\"string\">-5</span>.el7                base            82 k</span><br><span class=\"line\"> perl-Pod-Escapes              noarch        1:1.04<span class=\"string\">-292</span>.el7            base            51 k</span><br><span class=\"line\"> perl-Pod-Perldoc              noarch        3.20<span class=\"string\">-4</span>.el7                base            87 k</span><br><span class=\"line\"> perl-Pod-Simple               noarch        1:3.28<span class=\"string\">-4</span>.el7              base           216 k</span><br><span class=\"line\"> perl-Pod-Usage                noarch        1.63<span class=\"string\">-3</span>.el7                base            27 k</span><br><span class=\"line\"> perl-Scalar-List-Utils        x86_64        1.27<span class=\"string\">-248</span>.el7              base            36 k</span><br><span class=\"line\"> perl-Socket                   x86_64        2.010<span class=\"string\">-4</span>.el7               base            49 k</span><br><span class=\"line\"> perl-Storable                 x86_64        2.45<span class=\"string\">-3</span>.el7                base            77 k</span><br><span class=\"line\"> perl-TermReadKey              x86_64        2.30<span class=\"string\">-20</span>.el7               base            31 k</span><br><span class=\"line\"> perl-Text-ParseWords          noarch        3.29<span class=\"string\">-4</span>.el7                base            14 k</span><br><span class=\"line\"> perl-Time-HiRes               x86_64        4:1.9725<span class=\"string\">-3</span>.el7            base            45 k</span><br><span class=\"line\"> perl-Time-Local               noarch        1.2300<span class=\"string\">-2</span>.el7              base            24 k</span><br><span class=\"line\"> perl-constant                 noarch        1.27<span class=\"string\">-2</span>.el7                base            19 k</span><br><span class=\"line\"> perl-libs                     x86_64        4:5.16.3<span class=\"string\">-292</span>.el7          base           688 k</span><br><span class=\"line\"> perl-macros                   x86_64        4:5.16.3<span class=\"string\">-292</span>.el7          base            43 k</span><br><span class=\"line\"> perl-parent                   noarch        1:0.225<span class=\"string\">-244</span>.el7           base            12 k</span><br><span class=\"line\"> perl-podlators                noarch        2.5.1<span class=\"string\">-3</span>.el7               base           112 k</span><br><span class=\"line\"> perl-threads                  x86_64        1.87<span class=\"string\">-4</span>.el7                base            49 k</span><br><span class=\"line\"> perl-threads-shared           x86_64        1.43<span class=\"string\">-6</span>.el7                base            39 k</span><br><span class=\"line\"> rsync                         x86_64        3.1.2<span class=\"string\">-4</span>.el7               base           403 k</span><br><span class=\"line\"></span><br><span class=\"line\">Transaction Summary</span><br><span class=\"line\">============================================================================================</span><br><span class=\"line\">Install  1 Package (<span class=\"string\">+32</span> Dependent packages)</span><br><span class=\"line\"></span><br><span class=\"line\">Total download size: 16 M</span><br><span class=\"line\">Installed size: 60 M</span><br><span class=\"line\">Is this ok [y/d/N]: y</span><br><span class=\"line\">Downloading packages:</span><br><span class=\"line\">(1/33): git<span class=\"string\">-1</span>.8.3.1<span class=\"string\">-14</span>.el7_5.x86_64.rpm                              | 4.4 MB  00:00:00</span><br><span class=\"line\">(2/33): libgnome-keyring<span class=\"string\">-3</span>.12.0<span class=\"string\">-1</span>.el7.x86_64.rpm                     | 109 kB  00:00:00</span><br><span class=\"line\">(3/33): perl-Carp<span class=\"string\">-1</span>.26<span class=\"string\">-244</span>.el7.noarch.rpm                            |  19 kB  00:00:00</span><br><span class=\"line\">(4/33): perl-Encode<span class=\"string\">-2</span>.51<span class=\"string\">-7</span>.el7.x86_64.rpm                            | 1.5 MB  00:00:00</span><br><span class=\"line\">(5/33): perl-Error<span class=\"string\">-0</span>.17020<span class=\"string\">-2</span>.el7.noarch.rpm                          |  32 kB  00:00:00</span><br><span class=\"line\">(6/33): perl-Exporter<span class=\"string\">-5</span>.68<span class=\"string\">-3</span>.el7.noarch.rpm                          |  28 kB  00:00:00</span><br><span class=\"line\">(7/33): perl-File-Path<span class=\"string\">-2</span>.09<span class=\"string\">-2</span>.el7.noarch.rpm                         |  26 kB  00:00:00</span><br><span class=\"line\">(8/33): perl-File-Temp<span class=\"string\">-0</span>.23.01<span class=\"string\">-3</span>.el7.noarch.rpm                      |  56 kB  00:00:00</span><br><span class=\"line\">(9/33): perl<span class=\"string\">-5</span>.16.3<span class=\"string\">-292</span>.el7.x86_64.rpm                               | 8.0 MB  00:00:01</span><br><span class=\"line\">(10/33): perl-Git<span class=\"string\">-1</span>.8.3.1<span class=\"string\">-14</span>.el7_5.noarch.rpm                        |  54 kB  00:00:00</span><br><span class=\"line\">(11/33): perl-Filter<span class=\"string\">-1</span>.49<span class=\"string\">-3</span>.el7.x86_64.rpm                           |  76 kB  00:00:00</span><br><span class=\"line\">(12/33): perl-Getopt-Long<span class=\"string\">-2</span>.40<span class=\"string\">-3</span>.el7.noarch.rpm                      |  56 kB  00:00:00</span><br><span class=\"line\">(13/33): perl-HTTP-Tiny<span class=\"string\">-0</span>.033<span class=\"string\">-3</span>.el7.noarch.rpm                       |  38 kB  00:00:00</span><br><span class=\"line\">(14/33): perl-Pod-Escapes<span class=\"string\">-1</span>.04<span class=\"string\">-292</span>.el7.noarch.rpm                    |  51 kB  00:00:00</span><br><span class=\"line\">(15/33): perl-PathTools<span class=\"string\">-3</span>.40<span class=\"string\">-5</span>.el7.x86_64.rpm                        |  82 kB  00:00:00</span><br><span class=\"line\">(16/33): perl-Pod-Perldoc<span class=\"string\">-3</span>.20<span class=\"string\">-4</span>.el7.noarch.rpm                      |  87 kB  00:00:00</span><br><span class=\"line\">(17/33): perl-Pod-Usage<span class=\"string\">-1</span>.63<span class=\"string\">-3</span>.el7.noarch.rpm                        |  27 kB  00:00:00</span><br><span class=\"line\">(18/33): perl-Pod-Simple<span class=\"string\">-3</span>.28<span class=\"string\">-4</span>.el7.noarch.rpm                       | 216 kB  00:00:00</span><br><span class=\"line\">(19/33): perl-Scalar-List-Utils<span class=\"string\">-1</span>.27<span class=\"string\">-248</span>.el7.x86_64.rpm              |  36 kB  00:00:00</span><br><span class=\"line\">(20/33): perl-Socket<span class=\"string\">-2</span>.010<span class=\"string\">-4</span>.el7.x86_64.rpm                          |  49 kB  00:00:00</span><br><span class=\"line\">(21/33): perl-TermReadKey<span class=\"string\">-2</span>.30<span class=\"string\">-20</span>.el7.x86_64.rpm                     |  31 kB  00:00:00</span><br><span class=\"line\">(22/33): perl-Storable<span class=\"string\">-2</span>.45<span class=\"string\">-3</span>.el7.x86_64.rpm                         |  77 kB  00:00:00</span><br><span class=\"line\">(23/33): perl-Text-ParseWords<span class=\"string\">-3</span>.29<span class=\"string\">-4</span>.el7.noarch.rpm                  |  14 kB  00:00:00</span><br><span class=\"line\">(24/33): perl-Time-HiRes<span class=\"string\">-1</span>.9725<span class=\"string\">-3</span>.el7.x86_64.rpm                     |  45 kB  00:00:00</span><br><span class=\"line\">(25/33): perl-Time-Local<span class=\"string\">-1</span>.2300<span class=\"string\">-2</span>.el7.noarch.rpm                     |  24 kB  00:00:00</span><br><span class=\"line\">(26/33): perl-constant<span class=\"string\">-1</span>.27<span class=\"string\">-2</span>.el7.noarch.rpm                         |  19 kB  00:00:00</span><br><span class=\"line\">(27/33): perl-macros<span class=\"string\">-5</span>.16.3<span class=\"string\">-292</span>.el7.x86_64.rpm                       |  43 kB  00:00:00</span><br><span class=\"line\">(28/33): perl-parent<span class=\"string\">-0</span>.225<span class=\"string\">-244</span>.el7.noarch.rpm                        |  12 kB  00:00:00</span><br><span class=\"line\">(29/33): perl-libs<span class=\"string\">-5</span>.16.3<span class=\"string\">-292</span>.el7.x86_64.rpm                         | 688 kB  00:00:00</span><br><span class=\"line\">(30/33): perl-podlators<span class=\"string\">-2</span>.5.1<span class=\"string\">-3</span>.el7.noarch.rpm                       | 112 kB  00:00:00</span><br><span class=\"line\">(31/33): perl-threads<span class=\"string\">-1</span>.87<span class=\"string\">-4</span>.el7.x86_64.rpm                          |  49 kB  00:00:00</span><br><span class=\"line\">(32/33): perl-threads-shared<span class=\"string\">-1</span>.43<span class=\"string\">-6</span>.el7.x86_64.rpm                   |  39 kB  00:00:00</span><br><span class=\"line\">(33/33): rsync<span class=\"string\">-3</span>.1.2<span class=\"string\">-4</span>.el7.x86_64.rpm                                | 403 kB  00:00:00</span><br><span class=\"line\">--------------------------------------------------------------------------------------------</span><br><span class=\"line\">Total                                                       4.9 MB/s |  16 MB  00:00:03</span><br><span class=\"line\">Running transaction check</span><br><span class=\"line\">Running transaction test</span><br><span class=\"line\">Transaction test succeeded</span><br><span class=\"line\">Running transaction</span><br><span class=\"line\">  Installing : 1:perl-parent<span class=\"string\">-0</span>.225<span class=\"string\">-244</span>.el7.noarch                                      1/33</span><br><span class=\"line\">  Installing : perl-HTTP-Tiny<span class=\"string\">-0</span>.033<span class=\"string\">-3</span>.el7.noarch                                       2/33</span><br><span class=\"line\">  Installing : perl-podlators<span class=\"string\">-2</span>.5.1<span class=\"string\">-3</span>.el7.noarch                                       3/33</span><br><span class=\"line\">  Installing : perl-Pod-Perldoc<span class=\"string\">-3</span>.20<span class=\"string\">-4</span>.el7.noarch                                      4/33</span><br><span class=\"line\">  Installing : 1:perl-Pod-Escapes<span class=\"string\">-1</span>.04<span class=\"string\">-292</span>.el7.noarch                                  5/33</span><br><span class=\"line\">  Installing : perl-Text-ParseWords<span class=\"string\">-3</span>.29<span class=\"string\">-4</span>.el7.noarch                                  6/33</span><br><span class=\"line\">  Installing : perl-Encode<span class=\"string\">-2</span>.51<span class=\"string\">-7</span>.el7.x86_64                                           7/33</span><br><span class=\"line\">  Installing : perl-Pod-Usage<span class=\"string\">-1</span>.63<span class=\"string\">-3</span>.el7.noarch                                        8/33</span><br><span class=\"line\">  Installing : 4:perl-macros<span class=\"string\">-5</span>.16.3<span class=\"string\">-292</span>.el7.x86_64                                     9/33</span><br><span class=\"line\">  Installing : 4:perl-libs<span class=\"string\">-5</span>.16.3<span class=\"string\">-292</span>.el7.x86_64                                      10/33</span><br><span class=\"line\">  Installing : 4:perl-Time-HiRes<span class=\"string\">-1</span>.9725<span class=\"string\">-3</span>.el7.x86_64                                  11/33</span><br><span class=\"line\">  Installing : perl-Exporter<span class=\"string\">-5</span>.68<span class=\"string\">-3</span>.el7.noarch                                        12/33</span><br><span class=\"line\">  Installing : perl-constant<span class=\"string\">-1</span>.27<span class=\"string\">-2</span>.el7.noarch                                        13/33</span><br><span class=\"line\">  Installing : perl-Time-Local<span class=\"string\">-1</span>.2300<span class=\"string\">-2</span>.el7.noarch                                    14/33</span><br><span class=\"line\">  Installing : perl-Socket<span class=\"string\">-2</span>.010<span class=\"string\">-4</span>.el7.x86_64                                         15/33</span><br><span class=\"line\">  Installing : perl-Carp<span class=\"string\">-1</span>.26<span class=\"string\">-244</span>.el7.noarch                                          16/33</span><br><span class=\"line\">  Installing : perl-Storable<span class=\"string\">-2</span>.45<span class=\"string\">-3</span>.el7.x86_64                                        17/33</span><br><span class=\"line\">  Installing : perl-PathTools<span class=\"string\">-3</span>.40<span class=\"string\">-5</span>.el7.x86_64                                       18/33</span><br><span class=\"line\">  Installing : perl-Scalar-List-Utils<span class=\"string\">-1</span>.27<span class=\"string\">-248</span>.el7.x86_64                             19/33</span><br><span class=\"line\">  Installing : perl-File-Temp<span class=\"string\">-0</span>.23.01<span class=\"string\">-3</span>.el7.noarch                                    20/33</span><br><span class=\"line\">  Installing : perl-File-Path<span class=\"string\">-2</span>.09<span class=\"string\">-2</span>.el7.noarch                                       21/33</span><br><span class=\"line\">  Installing : perl-threads-shared<span class=\"string\">-1</span>.43<span class=\"string\">-6</span>.el7.x86_64                                  22/33</span><br><span class=\"line\">  Installing : perl-threads<span class=\"string\">-1</span>.87<span class=\"string\">-4</span>.el7.x86_64                                         23/33</span><br><span class=\"line\">  Installing : perl-Filter<span class=\"string\">-1</span>.49<span class=\"string\">-3</span>.el7.x86_64                                          24/33</span><br><span class=\"line\">  Installing : 1:perl-Pod-Simple<span class=\"string\">-3</span>.28<span class=\"string\">-4</span>.el7.noarch                                    25/33</span><br><span class=\"line\">  Installing : perl-Getopt-Long<span class=\"string\">-2</span>.40<span class=\"string\">-3</span>.el7.noarch                                     26/33</span><br><span class=\"line\">  Installing : 4:perl<span class=\"string\">-5</span>.16.3<span class=\"string\">-292</span>.el7.x86_64                                           27/33</span><br><span class=\"line\">  Installing : 1:perl-Error<span class=\"string\">-0</span>.17020<span class=\"string\">-2</span>.el7.noarch                                      28/33</span><br><span class=\"line\">  Installing : perl-TermReadKey<span class=\"string\">-2</span>.30<span class=\"string\">-20</span>.el7.x86_64                                    29/33</span><br><span class=\"line\">  Installing : rsync<span class=\"string\">-3</span>.1.2<span class=\"string\">-4</span>.el7.x86_64                                               30/33</span><br><span class=\"line\">  Installing : libgnome-keyring<span class=\"string\">-3</span>.12.0<span class=\"string\">-1</span>.el7.x86_64                                   31/33</span><br><span class=\"line\">  Installing : perl-Git<span class=\"string\">-1</span>.8.3.1<span class=\"string\">-14</span>.el7_5.noarch                                       32/33</span><br><span class=\"line\">  Installing : git<span class=\"string\">-1</span>.8.3.1<span class=\"string\">-14</span>.el7_5.x86_64                                            33/33</span><br><span class=\"line\">  Verifying  : perl-HTTP-Tiny<span class=\"string\">-0</span>.033<span class=\"string\">-3</span>.el7.noarch                                       1/33</span><br><span class=\"line\">  Verifying  : libgnome-keyring<span class=\"string\">-3</span>.12.0<span class=\"string\">-1</span>.el7.x86_64                                    2/33</span><br><span class=\"line\">  Verifying  : perl-threads-shared<span class=\"string\">-1</span>.43<span class=\"string\">-6</span>.el7.x86_64                                   3/33</span><br><span class=\"line\">  Verifying  : 4:perl-Time-HiRes<span class=\"string\">-1</span>.9725<span class=\"string\">-3</span>.el7.x86_64                                   4/33</span><br><span class=\"line\">  Verifying  : perl-Exporter<span class=\"string\">-5</span>.68<span class=\"string\">-3</span>.el7.noarch                                         5/33</span><br><span class=\"line\">  Verifying  : perl-constant<span class=\"string\">-1</span>.27<span class=\"string\">-2</span>.el7.noarch                                         6/33</span><br><span class=\"line\">  Verifying  : perl-PathTools<span class=\"string\">-3</span>.40<span class=\"string\">-5</span>.el7.x86_64                                        7/33</span><br><span class=\"line\">  Verifying  : 4:perl-macros<span class=\"string\">-5</span>.16.3<span class=\"string\">-292</span>.el7.x86_64                                     8/33</span><br><span class=\"line\">  Verifying  : 1:perl-parent<span class=\"string\">-0</span>.225<span class=\"string\">-244</span>.el7.noarch                                      9/33</span><br><span class=\"line\">  Verifying  : 4:perl<span class=\"string\">-5</span>.16.3<span class=\"string\">-292</span>.el7.x86_64                                           10/33</span><br><span class=\"line\">  Verifying  : perl-TermReadKey<span class=\"string\">-2</span>.30<span class=\"string\">-20</span>.el7.x86_64                                    11/33</span><br><span class=\"line\">  Verifying  : perl-File-Temp<span class=\"string\">-0</span>.23.01<span class=\"string\">-3</span>.el7.noarch                                    12/33</span><br><span class=\"line\">  Verifying  : 1:perl-Pod-Simple<span class=\"string\">-3</span>.28<span class=\"string\">-4</span>.el7.noarch                                    13/33</span><br><span class=\"line\">  Verifying  : perl-Time-Local<span class=\"string\">-1</span>.2300<span class=\"string\">-2</span>.el7.noarch                                    14/33</span><br><span class=\"line\">  Verifying  : 4:perl-libs<span class=\"string\">-5</span>.16.3<span class=\"string\">-292</span>.el7.x86_64                                      15/33</span><br><span class=\"line\">  Verifying  : perl-Socket<span class=\"string\">-2</span>.010<span class=\"string\">-4</span>.el7.x86_64                                         16/33</span><br><span class=\"line\">  Verifying  : git<span class=\"string\">-1</span>.8.3.1<span class=\"string\">-14</span>.el7_5.x86_64                                            17/33</span><br><span class=\"line\">  Verifying  : perl-Carp<span class=\"string\">-1</span>.26<span class=\"string\">-244</span>.el7.noarch                                          18/33</span><br><span class=\"line\">  Verifying  : 1:perl-Error<span class=\"string\">-0</span>.17020<span class=\"string\">-2</span>.el7.noarch                                      19/33</span><br><span class=\"line\">  Verifying  : perl-Storable<span class=\"string\">-2</span>.45<span class=\"string\">-3</span>.el7.x86_64                                        20/33</span><br><span class=\"line\">  Verifying  : perl-Scalar-List-Utils<span class=\"string\">-1</span>.27<span class=\"string\">-248</span>.el7.x86_64                             21/33</span><br><span class=\"line\">  Verifying  : 1:perl-Pod-Escapes<span class=\"string\">-1</span>.04<span class=\"string\">-292</span>.el7.noarch                                 22/33</span><br><span class=\"line\">  Verifying  : rsync<span class=\"string\">-3</span>.1.2<span class=\"string\">-4</span>.el7.x86_64                                               23/33</span><br><span class=\"line\">  Verifying  : perl-Pod-Usage<span class=\"string\">-1</span>.63<span class=\"string\">-3</span>.el7.noarch                                       24/33</span><br><span class=\"line\">  Verifying  : perl-Git<span class=\"string\">-1</span>.8.3.1<span class=\"string\">-14</span>.el7_5.noarch                                       25/33</span><br><span class=\"line\">  Verifying  : perl-Encode<span class=\"string\">-2</span>.51<span class=\"string\">-7</span>.el7.x86_64                                          26/33</span><br><span class=\"line\">  Verifying  : perl-Pod-Perldoc<span class=\"string\">-3</span>.20<span class=\"string\">-4</span>.el7.noarch                                     27/33</span><br><span class=\"line\">  Verifying  : perl-podlators<span class=\"string\">-2</span>.5.1<span class=\"string\">-3</span>.el7.noarch                                      28/33</span><br><span class=\"line\">  Verifying  : perl-File-Path<span class=\"string\">-2</span>.09<span class=\"string\">-2</span>.el7.noarch                                       29/33</span><br><span class=\"line\">  Verifying  : perl-threads<span class=\"string\">-1</span>.87<span class=\"string\">-4</span>.el7.x86_64                                         30/33</span><br><span class=\"line\">  Verifying  : perl-Filter<span class=\"string\">-1</span>.49<span class=\"string\">-3</span>.el7.x86_64                                          31/33</span><br><span class=\"line\">  Verifying  : perl-Getopt-Long<span class=\"string\">-2</span>.40<span class=\"string\">-3</span>.el7.noarch                                     32/33</span><br><span class=\"line\">  Verifying  : perl-Text-ParseWords<span class=\"string\">-3</span>.29<span class=\"string\">-4</span>.el7.noarch                                 33/33</span><br><span class=\"line\"></span><br><span class=\"line\">Installed:</span><br><span class=\"line\">  git.x86_64 0:1.8.3.1<span class=\"string\">-14</span>.el7_5</span><br><span class=\"line\"></span><br><span class=\"line\">Dependency Installed:</span><br><span class=\"line\">  libgnome-keyring.x86_64 0:3.12.0<span class=\"string\">-1</span>.el7     perl.x86_64 4:5.16.3<span class=\"string\">-292</span>.el7</span><br><span class=\"line\">  perl-Carp.noarch 0:1.26<span class=\"string\">-244</span>.el7            perl-Encode.x86_64 0:2.51<span class=\"string\">-7</span>.el7</span><br><span class=\"line\">  perl-Error.noarch 1:0.17020<span class=\"string\">-2</span>.el7          perl-Exporter.noarch 0:5.68<span class=\"string\">-3</span>.el7</span><br><span class=\"line\">  perl-File-Path.noarch 0:2.09<span class=\"string\">-2</span>.el7         perl-File-Temp.noarch 0:0.23.01<span class=\"string\">-3</span>.el7</span><br><span class=\"line\">  perl-Filter.x86_64 0:1.49<span class=\"string\">-3</span>.el7            perl-Getopt-Long.noarch 0:2.40<span class=\"string\">-3</span>.el7</span><br><span class=\"line\">  perl-Git.noarch 0:1.8.3.1<span class=\"string\">-14</span>.el7_5         perl-HTTP-Tiny.noarch 0:0.033<span class=\"string\">-3</span>.el7</span><br><span class=\"line\">  perl-PathTools.x86_64 0:3.40<span class=\"string\">-5</span>.el7         perl-Pod-Escapes.noarch 1:1.04<span class=\"string\">-292</span>.el7</span><br><span class=\"line\">  perl-Pod-Perldoc.noarch 0:3.20<span class=\"string\">-4</span>.el7       perl-Pod-Simple.noarch 1:3.28<span class=\"string\">-4</span>.el7</span><br><span class=\"line\">  perl-Pod-Usage.noarch 0:1.63<span class=\"string\">-3</span>.el7         perl-Scalar-List-Utils.x86_64 0:1.27<span class=\"string\">-248</span>.el7</span><br><span class=\"line\">  perl-Socket.x86_64 0:2.010<span class=\"string\">-4</span>.el7           perl-Storable.x86_64 0:2.45<span class=\"string\">-3</span>.el7</span><br><span class=\"line\">  perl-TermReadKey.x86_64 0:2.30<span class=\"string\">-20</span>.el7      perl-Text-ParseWords.noarch 0:3.29<span class=\"string\">-4</span>.el7</span><br><span class=\"line\">  perl-Time-HiRes.x86_64 4:1.9725<span class=\"string\">-3</span>.el7      perl-Time-Local.noarch 0:1.2300<span class=\"string\">-2</span>.el7</span><br><span class=\"line\">  perl-constant.noarch 0:1.27<span class=\"string\">-2</span>.el7          perl-libs.x86_64 4:5.16.3<span class=\"string\">-292</span>.el7</span><br><span class=\"line\">  perl-macros.x86_64 4:5.16.3<span class=\"string\">-292</span>.el7        perl-parent.noarch 1:0.225<span class=\"string\">-244</span>.el7</span><br><span class=\"line\">  perl-podlators.noarch 0:2.5.1<span class=\"string\">-3</span>.el7        perl-threads.x86_64 0:1.87<span class=\"string\">-4</span>.el7</span><br><span class=\"line\">  perl-threads-shared.x86_64 0:1.43<span class=\"string\">-6</span>.el7    rsync.x86_64 0:3.1.2<span class=\"string\">-4</span>.el7</span><br><span class=\"line\"></span><br><span class=\"line\">Complete!</span><br></pre></td></tr></table></figure>\n<h2 id=\"安装shadowsocks\"><a href=\"#安装shadowsocks\" class=\"headerlink\" title=\"安装shadowsocks\"></a>安装shadowsocks</h2><figure class=\"highlight autoit\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root<span class=\"symbol\">@colinvps</span> ~]<span class=\"meta\"># go get github.com/shadowsocks/shadowsocks-go/cmd/shadowsocks-server</span></span><br><span class=\"line\"></span><br><span class=\"line\">[root<span class=\"symbol\">@colinvps</span> ~]<span class=\"meta\"># cd shadowsocks</span></span><br><span class=\"line\">[root<span class=\"symbol\">@colinvps</span> shadowsocks]<span class=\"meta\"># ls</span></span><br><span class=\"line\">bin  pkg  src</span><br></pre></td></tr></table></figure>\n<p>切换到bin目录下，使shadowsocks-server有可执行权限\n<figure class=\"highlight autoit\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root<span class=\"symbol\">@colinvps</span> shadowsocks]<span class=\"meta\"># cd bin</span></span><br><span class=\"line\">./shadowsocks-server -h</span><br><span class=\"line\"></span><br><span class=\"line\">[root<span class=\"symbol\">@colinvps</span> bin]<span class=\"meta\"># chmod +x shadowsocks-server</span></span><br></pre></td></tr></table></figure></p>\n<h2 id=\"配置config-json文件\"><a href=\"#配置config-json文件\" class=\"headerlink\" title=\"配置config.json文件\"></a>配置config.json文件</h2><p>在bin目录下\n<figure class=\"highlight autoit\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root<span class=\"symbol\">@colinvps</span> bin]<span class=\"meta\"># vi config.json</span></span><br><span class=\"line\"></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"string\">\"server\"</span>:<span class=\"string\">\"127.0.0.1\"</span>,</span><br><span class=\"line\">    <span class=\"string\">\"port_password\"</span>:&#123;</span><br><span class=\"line\">         <span class=\"string\">\"7973\"</span>:<span class=\"string\">\"123456\"</span>,</span><br><span class=\"line\">         <span class=\"string\">\"7884\"</span>:<span class=\"string\">\"abcdef\"</span>,</span><br><span class=\"line\">         <span class=\"string\">\"7987\"</span>:<span class=\"string\">\"1212112\"</span>,</span><br><span class=\"line\">         <span class=\"string\">\"7938\"</span>:<span class=\"string\">\"1445566\"</span>,</span><br><span class=\"line\">        <span class=\"string\">\"7999\"</span>:<span class=\"string\">\"345123\"</span></span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"string\">\"local_address\"</span>: <span class=\"string\">\"127.0.0.1\"</span>,</span><br><span class=\"line\">    <span class=\"string\">\"local_port\"</span>:<span class=\"number\">1080</span>,</span><br><span class=\"line\">    <span class=\"string\">\"timeout\"</span>:<span class=\"number\">600</span>,</span><br><span class=\"line\">    <span class=\"string\">\"method\"</span>:<span class=\"string\">\"aes-128-cfb\"</span>,</span><br><span class=\"line\">    <span class=\"string\">\"fast_open\"</span>:<span class=\"literal\">false</span>,</span><br><span class=\"line\">    <span class=\"string\">\"workers\"</span>:<span class=\"number\">1</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>config文件参数配置：</p>\n<h2 id=\"开放端口\"><a href=\"#开放端口\" class=\"headerlink\" title=\"开放端口\"></a>开放端口</h2><p>将以上config文件的端口添加到防火墙<br>这里使用firewall命令  </p>\n<p>查看所有打开的端口： \n<figure class=\"highlight lsl\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@colinvps /]# firewall-cmd --zone=public --<span class=\"type\">list</span>-ports</span><br><span class=\"line\"><span class=\"number\">7884</span>/tcp <span class=\"number\">7987</span>/tcp <span class=\"number\">7999</span>/tcp <span class=\"number\">7938</span>/tcp <span class=\"number\">7973</span>/tcp</span><br></pre></td></tr></table></figure></p>\n<p>添加端口\n<figure class=\"highlight subunit\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@colinvps /]# firewall-cmd --zone=public --add-port=80/tcp --permanent </span><br><span class=\"line\">success</span><br><span class=\"line\"></span><br><span class=\"line\">[root@colinvps /]# firewall-cmd --zone=public --list-ports</span><br><span class=\"line\">7884/tcp 7987/tcp 7999/tcp 7938/tcp 7973/tcp  80/tcp</span><br></pre></td></tr></table></figure></p>\n<p>载入生效\n<figure class=\"highlight autoit\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root<span class=\"symbol\">@colinvps</span> /]<span class=\"meta\"># firewall-cmd --reload</span></span><br></pre></td></tr></table></figure></p>\n<h2 id=\"开启shadowsocks服务\"><a href=\"#开启shadowsocks服务\" class=\"headerlink\" title=\"开启shadowsocks服务\"></a>开启shadowsocks服务</h2><figure class=\"highlight cs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[<span class=\"meta\">root@colinvps /</span>]<span class=\"meta\"># ./shadowsocks-server &gt; log &amp;</span></span><br><span class=\"line\">[<span class=\"meta\">1</span>] <span class=\"number\">1642</span></span><br></pre></td></tr></table></figure>\n<p>已成功开启<br>关闭服务\n<figure class=\"highlight tap\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@colinvps ~]<span class=\"comment\"># ps aux|grep shadowsocks-server</span></span><br><span class=\"line\">root     <span class=\"number\"> 1642 </span> 0.1  1.0<span class=\"number\"> 187916 </span><span class=\"number\"> 5124 </span>pts/0    Sl   02:11   0:08 ./shadowsocks-server</span><br><span class=\"line\">root     <span class=\"number\"> 4749 </span> 0.0  0.4<span class=\"number\"> 112716 </span><span class=\"number\"> 2380 </span>pts/0    S+   04:31   0:00 grep --color=auto shadowsocks-server</span><br><span class=\"line\"></span><br><span class=\"line\">[root@colinvps ~]<span class=\"comment\"># kill -9 4749</span></span><br></pre></td></tr></table></figure></p>\n<h2 id=\"使用客户端测试链接\"><a href=\"#使用客户端测试链接\" class=\"headerlink\" title=\"使用客户端测试链接\"></a>使用客户端测试链接</h2><p>在<a href=\"https://github.com/shadowsocks/shadowsocks-windows/releases\" target=\"_blank\" rel=\"noopener\">shadowsocks-windows</a>中下载客户端\nshadowsocks-windows客户端配置同服务器config.json文件一致就好，可根据不同端口配置不同密码<br>配置好相关的内容进行测试，启用系统代理，右键点开帮助-&gt;显示日志\n查看链接情况<br>点击<a href=\"https://www.google.com/\" target=\"_blank\" rel=\"noopener\">谷歌</a>测试   </p>\n<p>##备注</p>\n<p>###重置密码\nVPS重启镜像后重置密码<br><figure class=\"highlight ada\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@colinvps ~]# passwd root</span><br><span class=\"line\"><span class=\"keyword\">New</span> password:</span><br><span class=\"line\">Retype <span class=\"keyword\">new</span> password:</span><br><span class=\"line\">passwd: <span class=\"keyword\">all</span> authentication tokens updated successfully.</span><br></pre></td></tr></table></figure></p>"},{"title":"麻将胡牌算法","copyright":true,"date":"2017-10-10T05:00:00.000Z","_content":"\n长久以来麻将胡牌算法是作为经典算法出现在各种应用中和试题中。  \n长久以来主要涉及两种算胡方法，其一为查表法，所有的胡牌牌型序列，\n将其存储在数据库或其他序列化文件中，使用时直接从内存中读取相应的内容进行查询。  \n另外一种算法则为拆分法，计算出当前牌型中的所有刻子，面和将，观察其是否满足3n+2的情况，\n本文着重说明拆分法的算法实现。  \n<!-- more -->\n\n## 思路-\n### 步骤\n1、将牌按连续性进行拆分，拆出的组合为3*n 或 3*n + 2，如果有例外，则不能胡。\n2、检查数量为3*n的连续段是否满足胡牌条件，如果都能满足，再用方法3检查3*n+2。  \n3、在连续的牌中，牌张数为3*n + 2的张数拆出可能的将牌。  \n4、扣除将牌后，分别检查各连续的段是否满足胡牌。\n\n### 检查段\n    \n   例：连续段为 🀝🀝🀝🀞🀟🀟🀠🀠🀡  \n       数字表示为 31221  \n\n   a、取3位数为key，从下表查询，如果有结果则扣除这个数字。  \n      312取到结果300，则余下数字为1221  \n   b、如果a步骤没有结果，则取2位数为key  \n   c、如果b步骤没有结果，则取1位数为key  \n   如果c失败，则不能胡  \n\n### 31221拆分全步骤：  \n   312 = 300 余 1221  \n   122 = 111 余 111  \n   111 = 111 全部拆分完毕，能胡  \n\n### 拆分表：   \n[3] = 3, [4] = 3,  \n[31] = 30, [32] = 30, 33 = 33, 34 = 33, 44 = 33,  \n[111] = 111, [112] = 111, [113] = 111, [114] = 114,  \n[122] = 111, [123] = 111, [124] = 111,  \n[133] = 111, [134] = 111,  \n[141] = 141, [142] = 141, [143] = 141, [144] = 144,  \n[222] = 222, [223] = 222, [224] = 222,  \n[233] = 222, [234] = 222,  \n[244] = 222,  \n[311] = 300, [312] = 300, [313] = 300, [314] = 300,  \n[322] = 300, [323] = 300, [324] = 300,  \n[331] = 330, [332] = 330, [333] = 333, [334] = 333,  \n[341] = 330, [342] = 330, [343] = 330, [344] = 333,  \n[411] = 411, [412] = 411, [413] = 411, [414] = 414,  \n[422] = 411, [423] = 411, [424] = 411,  \n[433] = 411, [434] = 411,  \n[441] = 441, [442] = 441, [443] = 441, [444] = 444  \n \n\n### 表格生成思路：\n\n1、从边上取牌的数量  \n2、如果是1，则取111  \n3、如果是2，则取222  \n4、如果是3，则取3  \n5、如果是4，则取411  \n\n## 实现\n\n本部分实现代码为kotlin\n牌型的设定，以16进制数代表\n```\n    val cardList = intArrayOf(\n                0x01, 0x02, 0x03, 0x04, 0x05, 0x06, 0x07, 0x08, 0x09,       //万\n                0x11, 0x12, 0x13, 0x14, 0x15, 0x16, 0x17, 0x18, 0x19,       //索\n                0x21, 0x22, 0x23, 0x24, 0x25, 0x26, 0x27, 0x28, 0x29,       //筒\n                0x31, 0x32, 0x33, 0x34, 0x35, 0x36, 0x37,                   //风\n                0x41, 0x42, 0x43, 0x44, 0x45, 0x46, 0x47, 0x48 //春夏秋冬梅兰菊竹\n        )\n```\n麻将牌\n```\n    🀇🀈🀉🀊🀋🀌🀍🀎🀏\n    🀐🀑🀒🀓🀔🀕🀖🀗🀘\n    🀙🀚🀛🀜🀝🀞🀟🀠🀡\n    🀀🀁🀂🀃🀄🀅🀆\n    🀢🀣🀤🀥🀦🀧🀨🀩\n```\n测胡牌型\n```\n    🀇🀈🀉 🀉🀊🀋 🀆🀆🀆 🀐🀐 🀝🀝🀝🀟🀠🀡\n```\n### 前备函数\n取得特征值长度\n```\n    fun Len(wei:Int)=wei.toString().length\n```\n\n10为底的幂函数\n```\n    fun miIC(di: Int, mi:Int):Int{\n            if (di==0)  return 1\n            if (mi<0)   return 0\n            if (mi==0)  return di\n            var r=di\n            for (i in 1..mi)\n                r*=10\n            return r\n    }\n```\n\n步进映射表\n```\n    fun carry(key: Int): Int {\n            when (key) {\n                3 -> return 3\n                4 -> return 3\n    \n                31 -> return 30\n                32 -> return 30\n                33 -> return 33\n                44 -> return 33\n    \n                111 -> return 111\n                112 -> return 111\n                113 -> return 111\n                114 -> return 114\n    \n                122 -> return 111\n                123 -> return 111\n                124 -> return 111\n    \n                133 -> return 111\n                134 -> return 111\n    \n                141 -> return 141\n                142 -> return 141\n                143 -> return 141\n                144 -> return 144\n    \n                222 -> return 222\n                223 -> return 222\n                224 -> return 222\n    \n                233 -> return 222\n                234 -> return 222\n                244 -> return 222\n    \n                311 -> return 300\n                312 -> return 300\n                313 -> return 300\n                314 -> return 300\n    \n                322 -> return 300\n                323 -> return 300\n                324 -> return 300\n    \n                331 -> return 330\n                332 -> return 330\n                333 -> return 333\n                334 -> return 333\n    \n                341 -> return 330\n                342 -> return 330\n                343 -> return 330\n                344 -> return 333\n    \n                411 -> return 411\n                412 -> return 411\n                413 -> return 411\n                414 -> return 414\n    \n                422 -> return 411\n                423 -> return 411\n                424 -> return 411\n    \n                433 -> return 411\n                434 -> return 411\n    \n                441 -> return 441\n                442 -> return 441\n                443 -> return 441\n                444 -> return 444\n            }\n            return 0\n    }\n```\n\n### 段辅助函数\n获取不同花色段的断点指针\n```\n    fun getBreaks(cardArr: IntArray, len: Int):List<Int>{\n\n        val breaks= MutableList<Int>(1,{0})\n        for (i in 1 until len)\n            if (cardArr[i] - cardArr[i - 1] > 1)\n                breaks.add(i)\n        breaks.add(len)\n\n        return breaks\n    }\n```\n\n获得一段同花色牌型的key值，这里定义key值为wei\n```\n    fun getWei(breakS: Int, breakE: Int, cardArr: IntArray): Int {\n            //breakS is index of break start,E is end\n            var wei = 1\n            for (i in (breakE-2) downTo breakS) {\n                if (cardArr[i] != cardArr[i + 1])\n                    wei += miIC(1, Len(wei))\n                else if (cardArr[i] == cardArr[i + 1])\n                    wei += miIC(1, Len(wei) - 1)\n            }\n            return wei\n    }\n```\n\n由以上俩函数得到一组牌中所有的wei\n```\n    fun getWeis(cardArr: IntArray, len: Int):List<Int>{\n    \n            val weis= MutableList<Int>(0,{0})\n            val breaks = getBreaks(cardArr,len)\n            for ( i in 0..(breaks.size-2)){\n                val wei = getWei(breaks[i],breaks[i+1],cardArr)\n                weis.add(wei)\n            }\n            return  weis\n    }\n```\n\n### 去将\n拿到所有可能的将牌\n```\n    fun getJia(cardArr: IntArray, len: Int): IntArray {\n            //all jiangs in it's first index,same size as cardArr\n            var flag = true\n            val jiangs = IntArray(len)\n            for (i in 1 until len) {\n                if (cardArr[i] == cardArr[i - 1]) {\n                    if (flag) jiangs[i - 1] = cardArr[i]\n                    flag = false\n                } else flag = true\n            }\n            return jiangs\n    }\n```\n\n去掉每个将后剩余牌组的集合\n```\n    fun quJiangArrs(cardArr: IntArray, jiangs: IntArray, len: Int): List<IntArray> {\n            //all (cardArr[]-jiang) in List\n            val quJiangs = MutableList(0,{ IntArray(len,{0}) })\n            for (i in 0 until len)\n                if (jiangs[i] != 0) {\n                    val qujiang=cardArr.clone()\n                    qujiang[i]=0\n                    qujiang[i+1]=0\n                    SortL(qujiang,len)\n                    quJiangs.add(qujiang)\n                }\n            return quJiangs\n    }\n```\n\n### 拆分检测\n取wei的前3位数为，如果映射集中有则扣除这个数字。\n```\n    fun carryChange(weiA: Int): Int {\n    \n            val lenW = Len(weiA)                           //length_wei\n            for (lenk in 3 downTo 1){                      //length_key\n                if (lenW-lenk<0)    continue               //carry keystart with 3key,if con't carry,change to 2key,1key. else return itself\n                var weiH = (weiA / miIC(1,lenW-lenk))      //weiHead\n                if (carry(weiH) != 0)\n                    return weiA- miIC(carry(weiH),(lenW-lenk))\n            }\n            return weiA\n    }\n```\n\n单个wei的检查\n```\n    fun weiThrough(wei: Int): Boolean {\n            //circle carryChange until result==0,else return fase\n            var cache = wei\n            for (i in 1..9) {\n                cache = carryChange(cache)\n                if (cache == 0) return true\n            }\n            return false\n    }\n```\n\n所有wei的检查\n```\n    fun weisThrough(weis:List<Int>): Boolean {\n            for (wei in weis)\n                if (!weiThrough(wei))\n                    return false\n            return true\n    }\n```\n\n\n### 胡合法总成\n```\n    fun LegalHu(card: Int,cardArr: IntArray):Boolean{\n    \n            val arr=cardArr.clone()\n            val il= IndexLive(arr)\n            val index=il+1\n            val len=index+1\n    \n            if (il==0 && card==arr[0])  return true\n    \n            arr[index]=card\n            Sort(arr,index)\n    \n            val jiangs= getJia(arr,len)\n            val qujiangArrs= quJiangArrs(arr,jiangs,len)\n            val ll=il   //ll=len-2=il\n    \n            for (qujiang in qujiangArrs){\n                val weis = getWeis(qujiang,ll)\n                val hu= weisThrough(weis)\n                if (hu) return true\n            }\n            return false\n    }\n```\n\n## 最后\n至此算法完成，除去carry映射方法总方法不到200行\n经测试，对于16张的台湾麻将而言，速度达到每秒30W次","source":"_posts/algorithm/game/麻将胡牌算法.md","raw":"---\ntitle: 麻将胡牌算法  \ncopyright: true  \ntags: \n    - algorithm \n    - game  \n    - kotlin  \n    - 算法  \n    - 麻将  \ncategories: \n    - algorithm   \n    - game  \n    \ndate: 2017-10-010 13:00:00\n---\n\n长久以来麻将胡牌算法是作为经典算法出现在各种应用中和试题中。  \n长久以来主要涉及两种算胡方法，其一为查表法，所有的胡牌牌型序列，\n将其存储在数据库或其他序列化文件中，使用时直接从内存中读取相应的内容进行查询。  \n另外一种算法则为拆分法，计算出当前牌型中的所有刻子，面和将，观察其是否满足3n+2的情况，\n本文着重说明拆分法的算法实现。  \n<!-- more -->\n\n## 思路-\n### 步骤\n1、将牌按连续性进行拆分，拆出的组合为3*n 或 3*n + 2，如果有例外，则不能胡。\n2、检查数量为3*n的连续段是否满足胡牌条件，如果都能满足，再用方法3检查3*n+2。  \n3、在连续的牌中，牌张数为3*n + 2的张数拆出可能的将牌。  \n4、扣除将牌后，分别检查各连续的段是否满足胡牌。\n\n### 检查段\n    \n   例：连续段为 🀝🀝🀝🀞🀟🀟🀠🀠🀡  \n       数字表示为 31221  \n\n   a、取3位数为key，从下表查询，如果有结果则扣除这个数字。  \n      312取到结果300，则余下数字为1221  \n   b、如果a步骤没有结果，则取2位数为key  \n   c、如果b步骤没有结果，则取1位数为key  \n   如果c失败，则不能胡  \n\n### 31221拆分全步骤：  \n   312 = 300 余 1221  \n   122 = 111 余 111  \n   111 = 111 全部拆分完毕，能胡  \n\n### 拆分表：   \n[3] = 3, [4] = 3,  \n[31] = 30, [32] = 30, 33 = 33, 34 = 33, 44 = 33,  \n[111] = 111, [112] = 111, [113] = 111, [114] = 114,  \n[122] = 111, [123] = 111, [124] = 111,  \n[133] = 111, [134] = 111,  \n[141] = 141, [142] = 141, [143] = 141, [144] = 144,  \n[222] = 222, [223] = 222, [224] = 222,  \n[233] = 222, [234] = 222,  \n[244] = 222,  \n[311] = 300, [312] = 300, [313] = 300, [314] = 300,  \n[322] = 300, [323] = 300, [324] = 300,  \n[331] = 330, [332] = 330, [333] = 333, [334] = 333,  \n[341] = 330, [342] = 330, [343] = 330, [344] = 333,  \n[411] = 411, [412] = 411, [413] = 411, [414] = 414,  \n[422] = 411, [423] = 411, [424] = 411,  \n[433] = 411, [434] = 411,  \n[441] = 441, [442] = 441, [443] = 441, [444] = 444  \n \n\n### 表格生成思路：\n\n1、从边上取牌的数量  \n2、如果是1，则取111  \n3、如果是2，则取222  \n4、如果是3，则取3  \n5、如果是4，则取411  \n\n## 实现\n\n本部分实现代码为kotlin\n牌型的设定，以16进制数代表\n```\n    val cardList = intArrayOf(\n                0x01, 0x02, 0x03, 0x04, 0x05, 0x06, 0x07, 0x08, 0x09,       //万\n                0x11, 0x12, 0x13, 0x14, 0x15, 0x16, 0x17, 0x18, 0x19,       //索\n                0x21, 0x22, 0x23, 0x24, 0x25, 0x26, 0x27, 0x28, 0x29,       //筒\n                0x31, 0x32, 0x33, 0x34, 0x35, 0x36, 0x37,                   //风\n                0x41, 0x42, 0x43, 0x44, 0x45, 0x46, 0x47, 0x48 //春夏秋冬梅兰菊竹\n        )\n```\n麻将牌\n```\n    🀇🀈🀉🀊🀋🀌🀍🀎🀏\n    🀐🀑🀒🀓🀔🀕🀖🀗🀘\n    🀙🀚🀛🀜🀝🀞🀟🀠🀡\n    🀀🀁🀂🀃🀄🀅🀆\n    🀢🀣🀤🀥🀦🀧🀨🀩\n```\n测胡牌型\n```\n    🀇🀈🀉 🀉🀊🀋 🀆🀆🀆 🀐🀐 🀝🀝🀝🀟🀠🀡\n```\n### 前备函数\n取得特征值长度\n```\n    fun Len(wei:Int)=wei.toString().length\n```\n\n10为底的幂函数\n```\n    fun miIC(di: Int, mi:Int):Int{\n            if (di==0)  return 1\n            if (mi<0)   return 0\n            if (mi==0)  return di\n            var r=di\n            for (i in 1..mi)\n                r*=10\n            return r\n    }\n```\n\n步进映射表\n```\n    fun carry(key: Int): Int {\n            when (key) {\n                3 -> return 3\n                4 -> return 3\n    \n                31 -> return 30\n                32 -> return 30\n                33 -> return 33\n                44 -> return 33\n    \n                111 -> return 111\n                112 -> return 111\n                113 -> return 111\n                114 -> return 114\n    \n                122 -> return 111\n                123 -> return 111\n                124 -> return 111\n    \n                133 -> return 111\n                134 -> return 111\n    \n                141 -> return 141\n                142 -> return 141\n                143 -> return 141\n                144 -> return 144\n    \n                222 -> return 222\n                223 -> return 222\n                224 -> return 222\n    \n                233 -> return 222\n                234 -> return 222\n                244 -> return 222\n    \n                311 -> return 300\n                312 -> return 300\n                313 -> return 300\n                314 -> return 300\n    \n                322 -> return 300\n                323 -> return 300\n                324 -> return 300\n    \n                331 -> return 330\n                332 -> return 330\n                333 -> return 333\n                334 -> return 333\n    \n                341 -> return 330\n                342 -> return 330\n                343 -> return 330\n                344 -> return 333\n    \n                411 -> return 411\n                412 -> return 411\n                413 -> return 411\n                414 -> return 414\n    \n                422 -> return 411\n                423 -> return 411\n                424 -> return 411\n    \n                433 -> return 411\n                434 -> return 411\n    \n                441 -> return 441\n                442 -> return 441\n                443 -> return 441\n                444 -> return 444\n            }\n            return 0\n    }\n```\n\n### 段辅助函数\n获取不同花色段的断点指针\n```\n    fun getBreaks(cardArr: IntArray, len: Int):List<Int>{\n\n        val breaks= MutableList<Int>(1,{0})\n        for (i in 1 until len)\n            if (cardArr[i] - cardArr[i - 1] > 1)\n                breaks.add(i)\n        breaks.add(len)\n\n        return breaks\n    }\n```\n\n获得一段同花色牌型的key值，这里定义key值为wei\n```\n    fun getWei(breakS: Int, breakE: Int, cardArr: IntArray): Int {\n            //breakS is index of break start,E is end\n            var wei = 1\n            for (i in (breakE-2) downTo breakS) {\n                if (cardArr[i] != cardArr[i + 1])\n                    wei += miIC(1, Len(wei))\n                else if (cardArr[i] == cardArr[i + 1])\n                    wei += miIC(1, Len(wei) - 1)\n            }\n            return wei\n    }\n```\n\n由以上俩函数得到一组牌中所有的wei\n```\n    fun getWeis(cardArr: IntArray, len: Int):List<Int>{\n    \n            val weis= MutableList<Int>(0,{0})\n            val breaks = getBreaks(cardArr,len)\n            for ( i in 0..(breaks.size-2)){\n                val wei = getWei(breaks[i],breaks[i+1],cardArr)\n                weis.add(wei)\n            }\n            return  weis\n    }\n```\n\n### 去将\n拿到所有可能的将牌\n```\n    fun getJia(cardArr: IntArray, len: Int): IntArray {\n            //all jiangs in it's first index,same size as cardArr\n            var flag = true\n            val jiangs = IntArray(len)\n            for (i in 1 until len) {\n                if (cardArr[i] == cardArr[i - 1]) {\n                    if (flag) jiangs[i - 1] = cardArr[i]\n                    flag = false\n                } else flag = true\n            }\n            return jiangs\n    }\n```\n\n去掉每个将后剩余牌组的集合\n```\n    fun quJiangArrs(cardArr: IntArray, jiangs: IntArray, len: Int): List<IntArray> {\n            //all (cardArr[]-jiang) in List\n            val quJiangs = MutableList(0,{ IntArray(len,{0}) })\n            for (i in 0 until len)\n                if (jiangs[i] != 0) {\n                    val qujiang=cardArr.clone()\n                    qujiang[i]=0\n                    qujiang[i+1]=0\n                    SortL(qujiang,len)\n                    quJiangs.add(qujiang)\n                }\n            return quJiangs\n    }\n```\n\n### 拆分检测\n取wei的前3位数为，如果映射集中有则扣除这个数字。\n```\n    fun carryChange(weiA: Int): Int {\n    \n            val lenW = Len(weiA)                           //length_wei\n            for (lenk in 3 downTo 1){                      //length_key\n                if (lenW-lenk<0)    continue               //carry keystart with 3key,if con't carry,change to 2key,1key. else return itself\n                var weiH = (weiA / miIC(1,lenW-lenk))      //weiHead\n                if (carry(weiH) != 0)\n                    return weiA- miIC(carry(weiH),(lenW-lenk))\n            }\n            return weiA\n    }\n```\n\n单个wei的检查\n```\n    fun weiThrough(wei: Int): Boolean {\n            //circle carryChange until result==0,else return fase\n            var cache = wei\n            for (i in 1..9) {\n                cache = carryChange(cache)\n                if (cache == 0) return true\n            }\n            return false\n    }\n```\n\n所有wei的检查\n```\n    fun weisThrough(weis:List<Int>): Boolean {\n            for (wei in weis)\n                if (!weiThrough(wei))\n                    return false\n            return true\n    }\n```\n\n\n### 胡合法总成\n```\n    fun LegalHu(card: Int,cardArr: IntArray):Boolean{\n    \n            val arr=cardArr.clone()\n            val il= IndexLive(arr)\n            val index=il+1\n            val len=index+1\n    \n            if (il==0 && card==arr[0])  return true\n    \n            arr[index]=card\n            Sort(arr,index)\n    \n            val jiangs= getJia(arr,len)\n            val qujiangArrs= quJiangArrs(arr,jiangs,len)\n            val ll=il   //ll=len-2=il\n    \n            for (qujiang in qujiangArrs){\n                val weis = getWeis(qujiang,ll)\n                val hu= weisThrough(weis)\n                if (hu) return true\n            }\n            return false\n    }\n```\n\n## 最后\n至此算法完成，除去carry映射方法总方法不到200行\n经测试，对于16张的台湾麻将而言，速度达到每秒30W次","slug":"algorithm/game/麻将胡牌算法","published":1,"updated":"2018-08-21T01:32:46.748Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjl8qv5wh002hhkehm7ljqxro","content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"\\assets\\css\\APlayer.min.css\"><script src=\"\\assets\\js\\APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><p>长久以来麻将胡牌算法是作为经典算法出现在各种应用中和试题中。<br>长久以来主要涉及两种算胡方法，其一为查表法，所有的胡牌牌型序列，\n将其存储在数据库或其他序列化文件中，使用时直接从内存中读取相应的内容进行查询。<br>另外一种算法则为拆分法，计算出当前牌型中的所有刻子，面和将，观察其是否满足3n+2的情况，\n本文着重说明拆分法的算法实现。<br><a id=\"more\"></a></p>\n<h2 id=\"思路\"><a href=\"#思路\" class=\"headerlink\" title=\"思路-\"></a>思路-</h2><h3 id=\"步骤\"><a href=\"#步骤\" class=\"headerlink\" title=\"步骤\"></a>步骤</h3><p>1、将牌按连续性进行拆分，拆出的组合为3<em>n 或 3</em>n + 2，如果有例外，则不能胡。\n2、检查数量为3<em>n的连续段是否满足胡牌条件，如果都能满足，再用方法3检查3</em>n+2。<br>3、在连续的牌中，牌张数为3*n + 2的张数拆出可能的将牌。<br>4、扣除将牌后，分别检查各连续的段是否满足胡牌。</p>\n<h3 id=\"检查段\"><a href=\"#检查段\" class=\"headerlink\" title=\"检查段\"></a>检查段</h3><p>   例：连续段为 🀝🀝🀝🀞🀟🀟🀠🀠🀡<br>       数字表示为 31221  </p>\n<p>   a、取3位数为key，从下表查询，如果有结果则扣除这个数字。<br>      312取到结果300，则余下数字为1221<br>   b、如果a步骤没有结果，则取2位数为key<br>   c、如果b步骤没有结果，则取1位数为key<br>   如果c失败，则不能胡  </p>\n<h3 id=\"31221拆分全步骤：\"><a href=\"#31221拆分全步骤：\" class=\"headerlink\" title=\"31221拆分全步骤：\"></a>31221拆分全步骤：</h3><p>   312 = 300 余 1221<br>   122 = 111 余 111<br>   111 = 111 全部拆分完毕，能胡  </p>\n<h3 id=\"拆分表：\"><a href=\"#拆分表：\" class=\"headerlink\" title=\"拆分表：\"></a>拆分表：</h3><p>[3] = 3, [4] = 3,<br>[31] = 30, [32] = 30, 33 = 33, 34 = 33, 44 = 33,<br>[111] = 111, [112] = 111, [113] = 111, [114] = 114,<br>[122] = 111, [123] = 111, [124] = 111,<br>[133] = 111, [134] = 111,<br>[141] = 141, [142] = 141, [143] = 141, [144] = 144,<br>[222] = 222, [223] = 222, [224] = 222,<br>[233] = 222, [234] = 222,<br>[244] = 222,<br>[311] = 300, [312] = 300, [313] = 300, [314] = 300,<br>[322] = 300, [323] = 300, [324] = 300,<br>[331] = 330, [332] = 330, [333] = 333, [334] = 333,<br>[341] = 330, [342] = 330, [343] = 330, [344] = 333,<br>[411] = 411, [412] = 411, [413] = 411, [414] = 414,<br>[422] = 411, [423] = 411, [424] = 411,<br>[433] = 411, [434] = 411,<br>[441] = 441, [442] = 441, [443] = 441, [444] = 444  </p>\n<h3 id=\"表格生成思路：\"><a href=\"#表格生成思路：\" class=\"headerlink\" title=\"表格生成思路：\"></a>表格生成思路：</h3><p>1、从边上取牌的数量<br>2、如果是1，则取111<br>3、如果是2，则取222<br>4、如果是3，则取3<br>5、如果是4，则取411  </p>\n<h2 id=\"实现\"><a href=\"#实现\" class=\"headerlink\" title=\"实现\"></a>实现</h2><p>本部分实现代码为kotlin\n牌型的设定，以16进制数代表\n<figure class=\"highlight lsl\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">val cardList = intArrayOf(</span><br><span class=\"line\">            <span class=\"number\">0x01</span>, <span class=\"number\">0x02</span>, <span class=\"number\">0x03</span>, <span class=\"number\">0x04</span>, <span class=\"number\">0x05</span>, <span class=\"number\">0x06</span>, <span class=\"number\">0x07</span>, <span class=\"number\">0x08</span>, <span class=\"number\">0x09</span>,       <span class=\"comment\">//万</span></span><br><span class=\"line\">            <span class=\"number\">0x11</span>, <span class=\"number\">0x12</span>, <span class=\"number\">0x13</span>, <span class=\"number\">0x14</span>, <span class=\"number\">0x15</span>, <span class=\"number\">0x16</span>, <span class=\"number\">0x17</span>, <span class=\"number\">0x18</span>, <span class=\"number\">0x19</span>,       <span class=\"comment\">//索</span></span><br><span class=\"line\">            <span class=\"number\">0x21</span>, <span class=\"number\">0x22</span>, <span class=\"number\">0x23</span>, <span class=\"number\">0x24</span>, <span class=\"number\">0x25</span>, <span class=\"number\">0x26</span>, <span class=\"number\">0x27</span>, <span class=\"number\">0x28</span>, <span class=\"number\">0x29</span>,       <span class=\"comment\">//筒</span></span><br><span class=\"line\">            <span class=\"number\">0x31</span>, <span class=\"number\">0x32</span>, <span class=\"number\">0x33</span>, <span class=\"number\">0x34</span>, <span class=\"number\">0x35</span>, <span class=\"number\">0x36</span>, <span class=\"number\">0x37</span>,                   <span class=\"comment\">//风</span></span><br><span class=\"line\">            <span class=\"number\">0x41</span>, <span class=\"number\">0x42</span>, <span class=\"number\">0x43</span>, <span class=\"number\">0x44</span>, <span class=\"number\">0x45</span>, <span class=\"number\">0x46</span>, <span class=\"number\">0x47</span>, <span class=\"number\">0x48</span> <span class=\"comment\">//春夏秋冬梅兰菊竹</span></span><br><span class=\"line\">    )</span><br></pre></td></tr></table></figure></p>\n<p>麻将牌\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">🀇🀈🀉🀊🀋🀌🀍🀎🀏</span><br><span class=\"line\">🀐🀑🀒🀓🀔🀕🀖🀗🀘</span><br><span class=\"line\">🀙🀚🀛🀜🀝🀞🀟🀠🀡</span><br><span class=\"line\">🀀🀁🀂🀃🀄🀅🀆</span><br><span class=\"line\">🀢🀣🀤🀥🀦🀧🀨🀩</span><br></pre></td></tr></table></figure></p>\n<p>测胡牌型\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">🀇🀈🀉 🀉🀊🀋 🀆🀆🀆 🀐🀐 🀝🀝🀝🀟🀠🀡</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"前备函数\"><a href=\"#前备函数\" class=\"headerlink\" title=\"前备函数\"></a>前备函数</h3><p>取得特征值长度\n<figure class=\"highlight kotlin\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">fun</span> <span class=\"title\">Len</span><span class=\"params\">(wei:<span class=\"type\">Int</span>)</span></span>=wei.toString().length</span><br></pre></td></tr></table></figure></p>\n<p>10为底的幂函数\n<figure class=\"highlight kotlin\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">fun</span> <span class=\"title\">miIC</span><span class=\"params\">(di: <span class=\"type\">Int</span>, mi:<span class=\"type\">Int</span>)</span></span>:<span class=\"built_in\">Int</span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (di==<span class=\"number\">0</span>)  <span class=\"keyword\">return</span> <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (mi&lt;<span class=\"number\">0</span>)   <span class=\"keyword\">return</span> <span class=\"number\">0</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (mi==<span class=\"number\">0</span>)  <span class=\"keyword\">return</span> di</span><br><span class=\"line\">        <span class=\"keyword\">var</span> r=di</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (i <span class=\"keyword\">in</span> <span class=\"number\">1.</span>.mi)</span><br><span class=\"line\">            r*=<span class=\"number\">10</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> r</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>步进映射表\n<figure class=\"highlight kotlin\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">fun</span> <span class=\"title\">carry</span><span class=\"params\">(key: <span class=\"type\">Int</span>)</span></span>: <span class=\"built_in\">Int</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">when</span> (key) &#123;</span><br><span class=\"line\">            <span class=\"number\">3</span> -&gt; <span class=\"keyword\">return</span> <span class=\"number\">3</span></span><br><span class=\"line\">            <span class=\"number\">4</span> -&gt; <span class=\"keyword\">return</span> <span class=\"number\">3</span></span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"number\">31</span> -&gt; <span class=\"keyword\">return</span> <span class=\"number\">30</span></span><br><span class=\"line\">            <span class=\"number\">32</span> -&gt; <span class=\"keyword\">return</span> <span class=\"number\">30</span></span><br><span class=\"line\">            <span class=\"number\">33</span> -&gt; <span class=\"keyword\">return</span> <span class=\"number\">33</span></span><br><span class=\"line\">            <span class=\"number\">44</span> -&gt; <span class=\"keyword\">return</span> <span class=\"number\">33</span></span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"number\">111</span> -&gt; <span class=\"keyword\">return</span> <span class=\"number\">111</span></span><br><span class=\"line\">            <span class=\"number\">112</span> -&gt; <span class=\"keyword\">return</span> <span class=\"number\">111</span></span><br><span class=\"line\">            <span class=\"number\">113</span> -&gt; <span class=\"keyword\">return</span> <span class=\"number\">111</span></span><br><span class=\"line\">            <span class=\"number\">114</span> -&gt; <span class=\"keyword\">return</span> <span class=\"number\">114</span></span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"number\">122</span> -&gt; <span class=\"keyword\">return</span> <span class=\"number\">111</span></span><br><span class=\"line\">            <span class=\"number\">123</span> -&gt; <span class=\"keyword\">return</span> <span class=\"number\">111</span></span><br><span class=\"line\">            <span class=\"number\">124</span> -&gt; <span class=\"keyword\">return</span> <span class=\"number\">111</span></span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"number\">133</span> -&gt; <span class=\"keyword\">return</span> <span class=\"number\">111</span></span><br><span class=\"line\">            <span class=\"number\">134</span> -&gt; <span class=\"keyword\">return</span> <span class=\"number\">111</span></span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"number\">141</span> -&gt; <span class=\"keyword\">return</span> <span class=\"number\">141</span></span><br><span class=\"line\">            <span class=\"number\">142</span> -&gt; <span class=\"keyword\">return</span> <span class=\"number\">141</span></span><br><span class=\"line\">            <span class=\"number\">143</span> -&gt; <span class=\"keyword\">return</span> <span class=\"number\">141</span></span><br><span class=\"line\">            <span class=\"number\">144</span> -&gt; <span class=\"keyword\">return</span> <span class=\"number\">144</span></span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"number\">222</span> -&gt; <span class=\"keyword\">return</span> <span class=\"number\">222</span></span><br><span class=\"line\">            <span class=\"number\">223</span> -&gt; <span class=\"keyword\">return</span> <span class=\"number\">222</span></span><br><span class=\"line\">            <span class=\"number\">224</span> -&gt; <span class=\"keyword\">return</span> <span class=\"number\">222</span></span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"number\">233</span> -&gt; <span class=\"keyword\">return</span> <span class=\"number\">222</span></span><br><span class=\"line\">            <span class=\"number\">234</span> -&gt; <span class=\"keyword\">return</span> <span class=\"number\">222</span></span><br><span class=\"line\">            <span class=\"number\">244</span> -&gt; <span class=\"keyword\">return</span> <span class=\"number\">222</span></span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"number\">311</span> -&gt; <span class=\"keyword\">return</span> <span class=\"number\">300</span></span><br><span class=\"line\">            <span class=\"number\">312</span> -&gt; <span class=\"keyword\">return</span> <span class=\"number\">300</span></span><br><span class=\"line\">            <span class=\"number\">313</span> -&gt; <span class=\"keyword\">return</span> <span class=\"number\">300</span></span><br><span class=\"line\">            <span class=\"number\">314</span> -&gt; <span class=\"keyword\">return</span> <span class=\"number\">300</span></span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"number\">322</span> -&gt; <span class=\"keyword\">return</span> <span class=\"number\">300</span></span><br><span class=\"line\">            <span class=\"number\">323</span> -&gt; <span class=\"keyword\">return</span> <span class=\"number\">300</span></span><br><span class=\"line\">            <span class=\"number\">324</span> -&gt; <span class=\"keyword\">return</span> <span class=\"number\">300</span></span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"number\">331</span> -&gt; <span class=\"keyword\">return</span> <span class=\"number\">330</span></span><br><span class=\"line\">            <span class=\"number\">332</span> -&gt; <span class=\"keyword\">return</span> <span class=\"number\">330</span></span><br><span class=\"line\">            <span class=\"number\">333</span> -&gt; <span class=\"keyword\">return</span> <span class=\"number\">333</span></span><br><span class=\"line\">            <span class=\"number\">334</span> -&gt; <span class=\"keyword\">return</span> <span class=\"number\">333</span></span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"number\">341</span> -&gt; <span class=\"keyword\">return</span> <span class=\"number\">330</span></span><br><span class=\"line\">            <span class=\"number\">342</span> -&gt; <span class=\"keyword\">return</span> <span class=\"number\">330</span></span><br><span class=\"line\">            <span class=\"number\">343</span> -&gt; <span class=\"keyword\">return</span> <span class=\"number\">330</span></span><br><span class=\"line\">            <span class=\"number\">344</span> -&gt; <span class=\"keyword\">return</span> <span class=\"number\">333</span></span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"number\">411</span> -&gt; <span class=\"keyword\">return</span> <span class=\"number\">411</span></span><br><span class=\"line\">            <span class=\"number\">412</span> -&gt; <span class=\"keyword\">return</span> <span class=\"number\">411</span></span><br><span class=\"line\">            <span class=\"number\">413</span> -&gt; <span class=\"keyword\">return</span> <span class=\"number\">411</span></span><br><span class=\"line\">            <span class=\"number\">414</span> -&gt; <span class=\"keyword\">return</span> <span class=\"number\">414</span></span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"number\">422</span> -&gt; <span class=\"keyword\">return</span> <span class=\"number\">411</span></span><br><span class=\"line\">            <span class=\"number\">423</span> -&gt; <span class=\"keyword\">return</span> <span class=\"number\">411</span></span><br><span class=\"line\">            <span class=\"number\">424</span> -&gt; <span class=\"keyword\">return</span> <span class=\"number\">411</span></span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"number\">433</span> -&gt; <span class=\"keyword\">return</span> <span class=\"number\">411</span></span><br><span class=\"line\">            <span class=\"number\">434</span> -&gt; <span class=\"keyword\">return</span> <span class=\"number\">411</span></span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"number\">441</span> -&gt; <span class=\"keyword\">return</span> <span class=\"number\">441</span></span><br><span class=\"line\">            <span class=\"number\">442</span> -&gt; <span class=\"keyword\">return</span> <span class=\"number\">441</span></span><br><span class=\"line\">            <span class=\"number\">443</span> -&gt; <span class=\"keyword\">return</span> <span class=\"number\">441</span></span><br><span class=\"line\">            <span class=\"number\">444</span> -&gt; <span class=\"keyword\">return</span> <span class=\"number\">444</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"number\">0</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"段辅助函数\"><a href=\"#段辅助函数\" class=\"headerlink\" title=\"段辅助函数\"></a>段辅助函数</h3><p>获取不同花色段的断点指针\n<figure class=\"highlight kotlin\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">fun</span> <span class=\"title\">getBreaks</span><span class=\"params\">(cardArr: <span class=\"type\">IntArray</span>, len: <span class=\"type\">Int</span>)</span></span>:List&lt;<span class=\"built_in\">Int</span>&gt;&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">val</span> breaks= MutableList&lt;<span class=\"built_in\">Int</span>&gt;(<span class=\"number\">1</span>,&#123;<span class=\"number\">0</span>&#125;)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (i <span class=\"keyword\">in</span> <span class=\"number\">1</span> until len)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (cardArr[i] - cardArr[i - <span class=\"number\">1</span>] &gt; <span class=\"number\">1</span>)</span><br><span class=\"line\">            breaks.add(i)</span><br><span class=\"line\">    breaks.add(len)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> breaks</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>获得一段同花色牌型的key值，这里定义key值为wei\n<figure class=\"highlight kotlin\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">fun</span> <span class=\"title\">getWei</span><span class=\"params\">(breakS: <span class=\"type\">Int</span>, breakE: <span class=\"type\">Int</span>, cardArr: <span class=\"type\">IntArray</span>)</span></span>: <span class=\"built_in\">Int</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">//breakS is index of break start,E is end</span></span><br><span class=\"line\">        <span class=\"keyword\">var</span> wei = <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> (i <span class=\"keyword\">in</span> (breakE<span class=\"number\">-2</span>) downTo breakS) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (cardArr[i] != cardArr[i + <span class=\"number\">1</span>])</span><br><span class=\"line\">                wei += miIC(<span class=\"number\">1</span>, Len(wei))</span><br><span class=\"line\">            <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (cardArr[i] == cardArr[i + <span class=\"number\">1</span>])</span><br><span class=\"line\">                wei += miIC(<span class=\"number\">1</span>, Len(wei) - <span class=\"number\">1</span>)</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> wei</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>由以上俩函数得到一组牌中所有的wei\n<figure class=\"highlight kotlin\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">fun</span> <span class=\"title\">getWeis</span><span class=\"params\">(cardArr: <span class=\"type\">IntArray</span>, len: <span class=\"type\">Int</span>)</span></span>:List&lt;<span class=\"built_in\">Int</span>&gt;&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">val</span> weis= MutableList&lt;<span class=\"built_in\">Int</span>&gt;(<span class=\"number\">0</span>,&#123;<span class=\"number\">0</span>&#125;)</span><br><span class=\"line\">        <span class=\"keyword\">val</span> breaks = getBreaks(cardArr,len)</span><br><span class=\"line\">        <span class=\"keyword\">for</span> ( i <span class=\"keyword\">in</span> <span class=\"number\">0.</span>.(breaks.size<span class=\"number\">-2</span>))&#123;</span><br><span class=\"line\">            <span class=\"keyword\">val</span> wei = getWei(breaks[i],breaks[i+<span class=\"number\">1</span>],cardArr)</span><br><span class=\"line\">            weis.add(wei)</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span>  weis</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"去将\"><a href=\"#去将\" class=\"headerlink\" title=\"去将\"></a>去将</h3><p>拿到所有可能的将牌\n<figure class=\"highlight kotlin\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">fun</span> <span class=\"title\">getJia</span><span class=\"params\">(cardArr: <span class=\"type\">IntArray</span>, len: <span class=\"type\">Int</span>)</span></span>: IntArray &#123;</span><br><span class=\"line\">        <span class=\"comment\">//all jiangs in it's first index,same size as cardArr</span></span><br><span class=\"line\">        <span class=\"keyword\">var</span> flag = <span class=\"literal\">true</span></span><br><span class=\"line\">        <span class=\"keyword\">val</span> jiangs = IntArray(len)</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (i <span class=\"keyword\">in</span> <span class=\"number\">1</span> until len) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (cardArr[i] == cardArr[i - <span class=\"number\">1</span>]) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (flag) jiangs[i - <span class=\"number\">1</span>] = cardArr[i]</span><br><span class=\"line\">                flag = <span class=\"literal\">false</span></span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> flag = <span class=\"literal\">true</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> jiangs</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>去掉每个将后剩余牌组的集合\n<figure class=\"highlight kotlin\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">fun</span> <span class=\"title\">quJiangArrs</span><span class=\"params\">(cardArr: <span class=\"type\">IntArray</span>, jiangs: <span class=\"type\">IntArray</span>, len: <span class=\"type\">Int</span>)</span></span>: List&lt;IntArray&gt; &#123;</span><br><span class=\"line\">        <span class=\"comment\">//all (cardArr[]-jiang) in List</span></span><br><span class=\"line\">        <span class=\"keyword\">val</span> quJiangs = MutableList(<span class=\"number\">0</span>,&#123; IntArray(len,&#123;<span class=\"number\">0</span>&#125;) &#125;)</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (i <span class=\"keyword\">in</span> <span class=\"number\">0</span> until len)</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (jiangs[i] != <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">val</span> qujiang=cardArr.clone()</span><br><span class=\"line\">                qujiang[i]=<span class=\"number\">0</span></span><br><span class=\"line\">                qujiang[i+<span class=\"number\">1</span>]=<span class=\"number\">0</span></span><br><span class=\"line\">                SortL(qujiang,len)</span><br><span class=\"line\">                quJiangs.add(qujiang)</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> quJiangs</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"拆分检测\"><a href=\"#拆分检测\" class=\"headerlink\" title=\"拆分检测\"></a>拆分检测</h3><p>取wei的前3位数为，如果映射集中有则扣除这个数字。\n<figure class=\"highlight kotlin\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">fun</span> <span class=\"title\">carryChange</span><span class=\"params\">(weiA: <span class=\"type\">Int</span>)</span></span>: <span class=\"built_in\">Int</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">val</span> lenW = Len(weiA)                           <span class=\"comment\">//length_wei</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> (lenk <span class=\"keyword\">in</span> <span class=\"number\">3</span> downTo <span class=\"number\">1</span>)&#123;                      <span class=\"comment\">//length_key</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (lenW-lenk&lt;<span class=\"number\">0</span>)    <span class=\"keyword\">continue</span>               <span class=\"comment\">//carry keystart with 3key,if con't carry,change to 2key,1key. else return itself</span></span><br><span class=\"line\">            <span class=\"keyword\">var</span> weiH = (weiA / miIC(<span class=\"number\">1</span>,lenW-lenk))      <span class=\"comment\">//weiHead</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (carry(weiH) != <span class=\"number\">0</span>)</span><br><span class=\"line\">                <span class=\"keyword\">return</span> weiA- miIC(carry(weiH),(lenW-lenk))</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> weiA</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>单个wei的检查\n<figure class=\"highlight kotlin\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">fun</span> <span class=\"title\">weiThrough</span><span class=\"params\">(wei: <span class=\"type\">Int</span>)</span></span>: <span class=\"built_in\">Boolean</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">//circle carryChange until result==0,else return fase</span></span><br><span class=\"line\">        <span class=\"keyword\">var</span> cache = wei</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (i <span class=\"keyword\">in</span> <span class=\"number\">1.</span><span class=\"number\">.9</span>) &#123;</span><br><span class=\"line\">            cache = carryChange(cache)</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (cache == <span class=\"number\">0</span>) <span class=\"keyword\">return</span> <span class=\"literal\">true</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">false</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>所有wei的检查\n<figure class=\"highlight kotlin\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">fun</span> <span class=\"title\">weisThrough</span><span class=\"params\">(weis:<span class=\"type\">List</span>&lt;<span class=\"type\">Int</span>&gt;)</span></span>: <span class=\"built_in\">Boolean</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (wei <span class=\"keyword\">in</span> weis)</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (!weiThrough(wei))</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"literal\">false</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">true</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"胡合法总成\"><a href=\"#胡合法总成\" class=\"headerlink\" title=\"胡合法总成\"></a>胡合法总成</h3><figure class=\"highlight kotlin\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">fun</span> <span class=\"title\">LegalHu</span><span class=\"params\">(card: <span class=\"type\">Int</span>,cardArr: <span class=\"type\">IntArray</span>)</span></span>:<span class=\"built_in\">Boolean</span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">val</span> arr=cardArr.clone()</span><br><span class=\"line\">        <span class=\"keyword\">val</span> il= IndexLive(arr)</span><br><span class=\"line\">        <span class=\"keyword\">val</span> index=il+<span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">val</span> len=index+<span class=\"number\">1</span></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (il==<span class=\"number\">0</span> &amp;&amp; card==arr[<span class=\"number\">0</span>])  <span class=\"keyword\">return</span> <span class=\"literal\">true</span></span><br><span class=\"line\"></span><br><span class=\"line\">        arr[index]=card</span><br><span class=\"line\">        Sort(arr,index)</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">val</span> jiangs= getJia(arr,len)</span><br><span class=\"line\">        <span class=\"keyword\">val</span> qujiangArrs= quJiangArrs(arr,jiangs,len)</span><br><span class=\"line\">        <span class=\"keyword\">val</span> ll=il   <span class=\"comment\">//ll=len-2=il</span></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">for</span> (qujiang <span class=\"keyword\">in</span> qujiangArrs)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">val</span> weis = getWeis(qujiang,ll)</span><br><span class=\"line\">            <span class=\"keyword\">val</span> hu= weisThrough(weis)</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (hu) <span class=\"keyword\">return</span> <span class=\"literal\">true</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">false</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"最后\"><a href=\"#最后\" class=\"headerlink\" title=\"最后\"></a>最后</h2><p>至此算法完成，除去carry映射方法总方法不到200行\n经测试，对于16张的台湾麻将而言，速度达到每秒30W次</p>\n","site":{"data":{}},"excerpt":"<p>长久以来麻将胡牌算法是作为经典算法出现在各种应用中和试题中。<br>长久以来主要涉及两种算胡方法，其一为查表法，所有的胡牌牌型序列，\n将其存储在数据库或其他序列化文件中，使用时直接从内存中读取相应的内容进行查询。<br>另外一种算法则为拆分法，计算出当前牌型中的所有刻子，面和将，观察其是否满足3n+2的情况，\n本文着重说明拆分法的算法实现。<br>","more":"</p>\n<h2 id=\"思路\"><a href=\"#思路\" class=\"headerlink\" title=\"思路-\"></a>思路-</h2><h3 id=\"步骤\"><a href=\"#步骤\" class=\"headerlink\" title=\"步骤\"></a>步骤</h3><p>1、将牌按连续性进行拆分，拆出的组合为3<em>n 或 3</em>n + 2，如果有例外，则不能胡。\n2、检查数量为3<em>n的连续段是否满足胡牌条件，如果都能满足，再用方法3检查3</em>n+2。<br>3、在连续的牌中，牌张数为3*n + 2的张数拆出可能的将牌。<br>4、扣除将牌后，分别检查各连续的段是否满足胡牌。</p>\n<h3 id=\"检查段\"><a href=\"#检查段\" class=\"headerlink\" title=\"检查段\"></a>检查段</h3><p>   例：连续段为 🀝🀝🀝🀞🀟🀟🀠🀠🀡<br>       数字表示为 31221  </p>\n<p>   a、取3位数为key，从下表查询，如果有结果则扣除这个数字。<br>      312取到结果300，则余下数字为1221<br>   b、如果a步骤没有结果，则取2位数为key<br>   c、如果b步骤没有结果，则取1位数为key<br>   如果c失败，则不能胡  </p>\n<h3 id=\"31221拆分全步骤：\"><a href=\"#31221拆分全步骤：\" class=\"headerlink\" title=\"31221拆分全步骤：\"></a>31221拆分全步骤：</h3><p>   312 = 300 余 1221<br>   122 = 111 余 111<br>   111 = 111 全部拆分完毕，能胡  </p>\n<h3 id=\"拆分表：\"><a href=\"#拆分表：\" class=\"headerlink\" title=\"拆分表：\"></a>拆分表：</h3><p>[3] = 3, [4] = 3,<br>[31] = 30, [32] = 30, 33 = 33, 34 = 33, 44 = 33,<br>[111] = 111, [112] = 111, [113] = 111, [114] = 114,<br>[122] = 111, [123] = 111, [124] = 111,<br>[133] = 111, [134] = 111,<br>[141] = 141, [142] = 141, [143] = 141, [144] = 144,<br>[222] = 222, [223] = 222, [224] = 222,<br>[233] = 222, [234] = 222,<br>[244] = 222,<br>[311] = 300, [312] = 300, [313] = 300, [314] = 300,<br>[322] = 300, [323] = 300, [324] = 300,<br>[331] = 330, [332] = 330, [333] = 333, [334] = 333,<br>[341] = 330, [342] = 330, [343] = 330, [344] = 333,<br>[411] = 411, [412] = 411, [413] = 411, [414] = 414,<br>[422] = 411, [423] = 411, [424] = 411,<br>[433] = 411, [434] = 411,<br>[441] = 441, [442] = 441, [443] = 441, [444] = 444  </p>\n<h3 id=\"表格生成思路：\"><a href=\"#表格生成思路：\" class=\"headerlink\" title=\"表格生成思路：\"></a>表格生成思路：</h3><p>1、从边上取牌的数量<br>2、如果是1，则取111<br>3、如果是2，则取222<br>4、如果是3，则取3<br>5、如果是4，则取411  </p>\n<h2 id=\"实现\"><a href=\"#实现\" class=\"headerlink\" title=\"实现\"></a>实现</h2><p>本部分实现代码为kotlin\n牌型的设定，以16进制数代表\n<figure class=\"highlight lsl\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">val cardList = intArrayOf(</span><br><span class=\"line\">            <span class=\"number\">0x01</span>, <span class=\"number\">0x02</span>, <span class=\"number\">0x03</span>, <span class=\"number\">0x04</span>, <span class=\"number\">0x05</span>, <span class=\"number\">0x06</span>, <span class=\"number\">0x07</span>, <span class=\"number\">0x08</span>, <span class=\"number\">0x09</span>,       <span class=\"comment\">//万</span></span><br><span class=\"line\">            <span class=\"number\">0x11</span>, <span class=\"number\">0x12</span>, <span class=\"number\">0x13</span>, <span class=\"number\">0x14</span>, <span class=\"number\">0x15</span>, <span class=\"number\">0x16</span>, <span class=\"number\">0x17</span>, <span class=\"number\">0x18</span>, <span class=\"number\">0x19</span>,       <span class=\"comment\">//索</span></span><br><span class=\"line\">            <span class=\"number\">0x21</span>, <span class=\"number\">0x22</span>, <span class=\"number\">0x23</span>, <span class=\"number\">0x24</span>, <span class=\"number\">0x25</span>, <span class=\"number\">0x26</span>, <span class=\"number\">0x27</span>, <span class=\"number\">0x28</span>, <span class=\"number\">0x29</span>,       <span class=\"comment\">//筒</span></span><br><span class=\"line\">            <span class=\"number\">0x31</span>, <span class=\"number\">0x32</span>, <span class=\"number\">0x33</span>, <span class=\"number\">0x34</span>, <span class=\"number\">0x35</span>, <span class=\"number\">0x36</span>, <span class=\"number\">0x37</span>,                   <span class=\"comment\">//风</span></span><br><span class=\"line\">            <span class=\"number\">0x41</span>, <span class=\"number\">0x42</span>, <span class=\"number\">0x43</span>, <span class=\"number\">0x44</span>, <span class=\"number\">0x45</span>, <span class=\"number\">0x46</span>, <span class=\"number\">0x47</span>, <span class=\"number\">0x48</span> <span class=\"comment\">//春夏秋冬梅兰菊竹</span></span><br><span class=\"line\">    )</span><br></pre></td></tr></table></figure></p>\n<p>麻将牌\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">🀇🀈🀉🀊🀋🀌🀍🀎🀏</span><br><span class=\"line\">🀐🀑🀒🀓🀔🀕🀖🀗🀘</span><br><span class=\"line\">🀙🀚🀛🀜🀝🀞🀟🀠🀡</span><br><span class=\"line\">🀀🀁🀂🀃🀄🀅🀆</span><br><span class=\"line\">🀢🀣🀤🀥🀦🀧🀨🀩</span><br></pre></td></tr></table></figure></p>\n<p>测胡牌型\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">🀇🀈🀉 🀉🀊🀋 🀆🀆🀆 🀐🀐 🀝🀝🀝🀟🀠🀡</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"前备函数\"><a href=\"#前备函数\" class=\"headerlink\" title=\"前备函数\"></a>前备函数</h3><p>取得特征值长度\n<figure class=\"highlight kotlin\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">fun</span> <span class=\"title\">Len</span><span class=\"params\">(wei:<span class=\"type\">Int</span>)</span></span>=wei.toString().length</span><br></pre></td></tr></table></figure></p>\n<p>10为底的幂函数\n<figure class=\"highlight kotlin\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">fun</span> <span class=\"title\">miIC</span><span class=\"params\">(di: <span class=\"type\">Int</span>, mi:<span class=\"type\">Int</span>)</span></span>:<span class=\"built_in\">Int</span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (di==<span class=\"number\">0</span>)  <span class=\"keyword\">return</span> <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (mi&lt;<span class=\"number\">0</span>)   <span class=\"keyword\">return</span> <span class=\"number\">0</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (mi==<span class=\"number\">0</span>)  <span class=\"keyword\">return</span> di</span><br><span class=\"line\">        <span class=\"keyword\">var</span> r=di</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (i <span class=\"keyword\">in</span> <span class=\"number\">1.</span>.mi)</span><br><span class=\"line\">            r*=<span class=\"number\">10</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> r</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>步进映射表\n<figure class=\"highlight kotlin\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">fun</span> <span class=\"title\">carry</span><span class=\"params\">(key: <span class=\"type\">Int</span>)</span></span>: <span class=\"built_in\">Int</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">when</span> (key) &#123;</span><br><span class=\"line\">            <span class=\"number\">3</span> -&gt; <span class=\"keyword\">return</span> <span class=\"number\">3</span></span><br><span class=\"line\">            <span class=\"number\">4</span> -&gt; <span class=\"keyword\">return</span> <span class=\"number\">3</span></span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"number\">31</span> -&gt; <span class=\"keyword\">return</span> <span class=\"number\">30</span></span><br><span class=\"line\">            <span class=\"number\">32</span> -&gt; <span class=\"keyword\">return</span> <span class=\"number\">30</span></span><br><span class=\"line\">            <span class=\"number\">33</span> -&gt; <span class=\"keyword\">return</span> <span class=\"number\">33</span></span><br><span class=\"line\">            <span class=\"number\">44</span> -&gt; <span class=\"keyword\">return</span> <span class=\"number\">33</span></span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"number\">111</span> -&gt; <span class=\"keyword\">return</span> <span class=\"number\">111</span></span><br><span class=\"line\">            <span class=\"number\">112</span> -&gt; <span class=\"keyword\">return</span> <span class=\"number\">111</span></span><br><span class=\"line\">            <span class=\"number\">113</span> -&gt; <span class=\"keyword\">return</span> <span class=\"number\">111</span></span><br><span class=\"line\">            <span class=\"number\">114</span> -&gt; <span class=\"keyword\">return</span> <span class=\"number\">114</span></span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"number\">122</span> -&gt; <span class=\"keyword\">return</span> <span class=\"number\">111</span></span><br><span class=\"line\">            <span class=\"number\">123</span> -&gt; <span class=\"keyword\">return</span> <span class=\"number\">111</span></span><br><span class=\"line\">            <span class=\"number\">124</span> -&gt; <span class=\"keyword\">return</span> <span class=\"number\">111</span></span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"number\">133</span> -&gt; <span class=\"keyword\">return</span> <span class=\"number\">111</span></span><br><span class=\"line\">            <span class=\"number\">134</span> -&gt; <span class=\"keyword\">return</span> <span class=\"number\">111</span></span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"number\">141</span> -&gt; <span class=\"keyword\">return</span> <span class=\"number\">141</span></span><br><span class=\"line\">            <span class=\"number\">142</span> -&gt; <span class=\"keyword\">return</span> <span class=\"number\">141</span></span><br><span class=\"line\">            <span class=\"number\">143</span> -&gt; <span class=\"keyword\">return</span> <span class=\"number\">141</span></span><br><span class=\"line\">            <span class=\"number\">144</span> -&gt; <span class=\"keyword\">return</span> <span class=\"number\">144</span></span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"number\">222</span> -&gt; <span class=\"keyword\">return</span> <span class=\"number\">222</span></span><br><span class=\"line\">            <span class=\"number\">223</span> -&gt; <span class=\"keyword\">return</span> <span class=\"number\">222</span></span><br><span class=\"line\">            <span class=\"number\">224</span> -&gt; <span class=\"keyword\">return</span> <span class=\"number\">222</span></span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"number\">233</span> -&gt; <span class=\"keyword\">return</span> <span class=\"number\">222</span></span><br><span class=\"line\">            <span class=\"number\">234</span> -&gt; <span class=\"keyword\">return</span> <span class=\"number\">222</span></span><br><span class=\"line\">            <span class=\"number\">244</span> -&gt; <span class=\"keyword\">return</span> <span class=\"number\">222</span></span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"number\">311</span> -&gt; <span class=\"keyword\">return</span> <span class=\"number\">300</span></span><br><span class=\"line\">            <span class=\"number\">312</span> -&gt; <span class=\"keyword\">return</span> <span class=\"number\">300</span></span><br><span class=\"line\">            <span class=\"number\">313</span> -&gt; <span class=\"keyword\">return</span> <span class=\"number\">300</span></span><br><span class=\"line\">            <span class=\"number\">314</span> -&gt; <span class=\"keyword\">return</span> <span class=\"number\">300</span></span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"number\">322</span> -&gt; <span class=\"keyword\">return</span> <span class=\"number\">300</span></span><br><span class=\"line\">            <span class=\"number\">323</span> -&gt; <span class=\"keyword\">return</span> <span class=\"number\">300</span></span><br><span class=\"line\">            <span class=\"number\">324</span> -&gt; <span class=\"keyword\">return</span> <span class=\"number\">300</span></span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"number\">331</span> -&gt; <span class=\"keyword\">return</span> <span class=\"number\">330</span></span><br><span class=\"line\">            <span class=\"number\">332</span> -&gt; <span class=\"keyword\">return</span> <span class=\"number\">330</span></span><br><span class=\"line\">            <span class=\"number\">333</span> -&gt; <span class=\"keyword\">return</span> <span class=\"number\">333</span></span><br><span class=\"line\">            <span class=\"number\">334</span> -&gt; <span class=\"keyword\">return</span> <span class=\"number\">333</span></span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"number\">341</span> -&gt; <span class=\"keyword\">return</span> <span class=\"number\">330</span></span><br><span class=\"line\">            <span class=\"number\">342</span> -&gt; <span class=\"keyword\">return</span> <span class=\"number\">330</span></span><br><span class=\"line\">            <span class=\"number\">343</span> -&gt; <span class=\"keyword\">return</span> <span class=\"number\">330</span></span><br><span class=\"line\">            <span class=\"number\">344</span> -&gt; <span class=\"keyword\">return</span> <span class=\"number\">333</span></span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"number\">411</span> -&gt; <span class=\"keyword\">return</span> <span class=\"number\">411</span></span><br><span class=\"line\">            <span class=\"number\">412</span> -&gt; <span class=\"keyword\">return</span> <span class=\"number\">411</span></span><br><span class=\"line\">            <span class=\"number\">413</span> -&gt; <span class=\"keyword\">return</span> <span class=\"number\">411</span></span><br><span class=\"line\">            <span class=\"number\">414</span> -&gt; <span class=\"keyword\">return</span> <span class=\"number\">414</span></span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"number\">422</span> -&gt; <span class=\"keyword\">return</span> <span class=\"number\">411</span></span><br><span class=\"line\">            <span class=\"number\">423</span> -&gt; <span class=\"keyword\">return</span> <span class=\"number\">411</span></span><br><span class=\"line\">            <span class=\"number\">424</span> -&gt; <span class=\"keyword\">return</span> <span class=\"number\">411</span></span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"number\">433</span> -&gt; <span class=\"keyword\">return</span> <span class=\"number\">411</span></span><br><span class=\"line\">            <span class=\"number\">434</span> -&gt; <span class=\"keyword\">return</span> <span class=\"number\">411</span></span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"number\">441</span> -&gt; <span class=\"keyword\">return</span> <span class=\"number\">441</span></span><br><span class=\"line\">            <span class=\"number\">442</span> -&gt; <span class=\"keyword\">return</span> <span class=\"number\">441</span></span><br><span class=\"line\">            <span class=\"number\">443</span> -&gt; <span class=\"keyword\">return</span> <span class=\"number\">441</span></span><br><span class=\"line\">            <span class=\"number\">444</span> -&gt; <span class=\"keyword\">return</span> <span class=\"number\">444</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"number\">0</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"段辅助函数\"><a href=\"#段辅助函数\" class=\"headerlink\" title=\"段辅助函数\"></a>段辅助函数</h3><p>获取不同花色段的断点指针\n<figure class=\"highlight kotlin\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">fun</span> <span class=\"title\">getBreaks</span><span class=\"params\">(cardArr: <span class=\"type\">IntArray</span>, len: <span class=\"type\">Int</span>)</span></span>:List&lt;<span class=\"built_in\">Int</span>&gt;&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">val</span> breaks= MutableList&lt;<span class=\"built_in\">Int</span>&gt;(<span class=\"number\">1</span>,&#123;<span class=\"number\">0</span>&#125;)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (i <span class=\"keyword\">in</span> <span class=\"number\">1</span> until len)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (cardArr[i] - cardArr[i - <span class=\"number\">1</span>] &gt; <span class=\"number\">1</span>)</span><br><span class=\"line\">            breaks.add(i)</span><br><span class=\"line\">    breaks.add(len)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> breaks</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>获得一段同花色牌型的key值，这里定义key值为wei\n<figure class=\"highlight kotlin\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">fun</span> <span class=\"title\">getWei</span><span class=\"params\">(breakS: <span class=\"type\">Int</span>, breakE: <span class=\"type\">Int</span>, cardArr: <span class=\"type\">IntArray</span>)</span></span>: <span class=\"built_in\">Int</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">//breakS is index of break start,E is end</span></span><br><span class=\"line\">        <span class=\"keyword\">var</span> wei = <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> (i <span class=\"keyword\">in</span> (breakE<span class=\"number\">-2</span>) downTo breakS) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (cardArr[i] != cardArr[i + <span class=\"number\">1</span>])</span><br><span class=\"line\">                wei += miIC(<span class=\"number\">1</span>, Len(wei))</span><br><span class=\"line\">            <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (cardArr[i] == cardArr[i + <span class=\"number\">1</span>])</span><br><span class=\"line\">                wei += miIC(<span class=\"number\">1</span>, Len(wei) - <span class=\"number\">1</span>)</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> wei</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>由以上俩函数得到一组牌中所有的wei\n<figure class=\"highlight kotlin\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">fun</span> <span class=\"title\">getWeis</span><span class=\"params\">(cardArr: <span class=\"type\">IntArray</span>, len: <span class=\"type\">Int</span>)</span></span>:List&lt;<span class=\"built_in\">Int</span>&gt;&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">val</span> weis= MutableList&lt;<span class=\"built_in\">Int</span>&gt;(<span class=\"number\">0</span>,&#123;<span class=\"number\">0</span>&#125;)</span><br><span class=\"line\">        <span class=\"keyword\">val</span> breaks = getBreaks(cardArr,len)</span><br><span class=\"line\">        <span class=\"keyword\">for</span> ( i <span class=\"keyword\">in</span> <span class=\"number\">0.</span>.(breaks.size<span class=\"number\">-2</span>))&#123;</span><br><span class=\"line\">            <span class=\"keyword\">val</span> wei = getWei(breaks[i],breaks[i+<span class=\"number\">1</span>],cardArr)</span><br><span class=\"line\">            weis.add(wei)</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span>  weis</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"去将\"><a href=\"#去将\" class=\"headerlink\" title=\"去将\"></a>去将</h3><p>拿到所有可能的将牌\n<figure class=\"highlight kotlin\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">fun</span> <span class=\"title\">getJia</span><span class=\"params\">(cardArr: <span class=\"type\">IntArray</span>, len: <span class=\"type\">Int</span>)</span></span>: IntArray &#123;</span><br><span class=\"line\">        <span class=\"comment\">//all jiangs in it's first index,same size as cardArr</span></span><br><span class=\"line\">        <span class=\"keyword\">var</span> flag = <span class=\"literal\">true</span></span><br><span class=\"line\">        <span class=\"keyword\">val</span> jiangs = IntArray(len)</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (i <span class=\"keyword\">in</span> <span class=\"number\">1</span> until len) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (cardArr[i] == cardArr[i - <span class=\"number\">1</span>]) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (flag) jiangs[i - <span class=\"number\">1</span>] = cardArr[i]</span><br><span class=\"line\">                flag = <span class=\"literal\">false</span></span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> flag = <span class=\"literal\">true</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> jiangs</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>去掉每个将后剩余牌组的集合\n<figure class=\"highlight kotlin\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">fun</span> <span class=\"title\">quJiangArrs</span><span class=\"params\">(cardArr: <span class=\"type\">IntArray</span>, jiangs: <span class=\"type\">IntArray</span>, len: <span class=\"type\">Int</span>)</span></span>: List&lt;IntArray&gt; &#123;</span><br><span class=\"line\">        <span class=\"comment\">//all (cardArr[]-jiang) in List</span></span><br><span class=\"line\">        <span class=\"keyword\">val</span> quJiangs = MutableList(<span class=\"number\">0</span>,&#123; IntArray(len,&#123;<span class=\"number\">0</span>&#125;) &#125;)</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (i <span class=\"keyword\">in</span> <span class=\"number\">0</span> until len)</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (jiangs[i] != <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">val</span> qujiang=cardArr.clone()</span><br><span class=\"line\">                qujiang[i]=<span class=\"number\">0</span></span><br><span class=\"line\">                qujiang[i+<span class=\"number\">1</span>]=<span class=\"number\">0</span></span><br><span class=\"line\">                SortL(qujiang,len)</span><br><span class=\"line\">                quJiangs.add(qujiang)</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> quJiangs</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"拆分检测\"><a href=\"#拆分检测\" class=\"headerlink\" title=\"拆分检测\"></a>拆分检测</h3><p>取wei的前3位数为，如果映射集中有则扣除这个数字。\n<figure class=\"highlight kotlin\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">fun</span> <span class=\"title\">carryChange</span><span class=\"params\">(weiA: <span class=\"type\">Int</span>)</span></span>: <span class=\"built_in\">Int</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">val</span> lenW = Len(weiA)                           <span class=\"comment\">//length_wei</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> (lenk <span class=\"keyword\">in</span> <span class=\"number\">3</span> downTo <span class=\"number\">1</span>)&#123;                      <span class=\"comment\">//length_key</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (lenW-lenk&lt;<span class=\"number\">0</span>)    <span class=\"keyword\">continue</span>               <span class=\"comment\">//carry keystart with 3key,if con't carry,change to 2key,1key. else return itself</span></span><br><span class=\"line\">            <span class=\"keyword\">var</span> weiH = (weiA / miIC(<span class=\"number\">1</span>,lenW-lenk))      <span class=\"comment\">//weiHead</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (carry(weiH) != <span class=\"number\">0</span>)</span><br><span class=\"line\">                <span class=\"keyword\">return</span> weiA- miIC(carry(weiH),(lenW-lenk))</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> weiA</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>单个wei的检查\n<figure class=\"highlight kotlin\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">fun</span> <span class=\"title\">weiThrough</span><span class=\"params\">(wei: <span class=\"type\">Int</span>)</span></span>: <span class=\"built_in\">Boolean</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">//circle carryChange until result==0,else return fase</span></span><br><span class=\"line\">        <span class=\"keyword\">var</span> cache = wei</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (i <span class=\"keyword\">in</span> <span class=\"number\">1.</span><span class=\"number\">.9</span>) &#123;</span><br><span class=\"line\">            cache = carryChange(cache)</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (cache == <span class=\"number\">0</span>) <span class=\"keyword\">return</span> <span class=\"literal\">true</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">false</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>所有wei的检查\n<figure class=\"highlight kotlin\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">fun</span> <span class=\"title\">weisThrough</span><span class=\"params\">(weis:<span class=\"type\">List</span>&lt;<span class=\"type\">Int</span>&gt;)</span></span>: <span class=\"built_in\">Boolean</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (wei <span class=\"keyword\">in</span> weis)</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (!weiThrough(wei))</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"literal\">false</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">true</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"胡合法总成\"><a href=\"#胡合法总成\" class=\"headerlink\" title=\"胡合法总成\"></a>胡合法总成</h3><figure class=\"highlight kotlin\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">fun</span> <span class=\"title\">LegalHu</span><span class=\"params\">(card: <span class=\"type\">Int</span>,cardArr: <span class=\"type\">IntArray</span>)</span></span>:<span class=\"built_in\">Boolean</span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">val</span> arr=cardArr.clone()</span><br><span class=\"line\">        <span class=\"keyword\">val</span> il= IndexLive(arr)</span><br><span class=\"line\">        <span class=\"keyword\">val</span> index=il+<span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">val</span> len=index+<span class=\"number\">1</span></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (il==<span class=\"number\">0</span> &amp;&amp; card==arr[<span class=\"number\">0</span>])  <span class=\"keyword\">return</span> <span class=\"literal\">true</span></span><br><span class=\"line\"></span><br><span class=\"line\">        arr[index]=card</span><br><span class=\"line\">        Sort(arr,index)</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">val</span> jiangs= getJia(arr,len)</span><br><span class=\"line\">        <span class=\"keyword\">val</span> qujiangArrs= quJiangArrs(arr,jiangs,len)</span><br><span class=\"line\">        <span class=\"keyword\">val</span> ll=il   <span class=\"comment\">//ll=len-2=il</span></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">for</span> (qujiang <span class=\"keyword\">in</span> qujiangArrs)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">val</span> weis = getWeis(qujiang,ll)</span><br><span class=\"line\">            <span class=\"keyword\">val</span> hu= weisThrough(weis)</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (hu) <span class=\"keyword\">return</span> <span class=\"literal\">true</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">false</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"最后\"><a href=\"#最后\" class=\"headerlink\" title=\"最后\"></a>最后</h2><p>至此算法完成，除去carry映射方法总方法不到200行\n经测试，对于16张的台湾麻将而言，速度达到每秒30W次</p>"},{"title":"kotlin隐性优化 Kotlin's hidden costs","copyright":true,"date":"2018-08-08T05:00:00.000Z","_content":"\n\n越来越多的Java后端逐渐转向kotlin,因其有诸多方便的特性：\n空指针安全、方法扩展、函数式编程、大量语法糖等。\n我们初步使用时会使得我们的代码信雅达，有很高的可读和可维护性。\n但实际工程环境中使用我们会发现kotlin中有不少的隐形开销，而我们需要避免。\n<!-- more -->\n\n## Kotlin隐性开销优化\n\n### 局部函数 Local functions\n有时候我们会用常规语法在一些函数中声明函数，局部内部函数，我们这里叫他局部函数(local function)：\n    \n    fun someMath(a: Int): Int {\n    \n        fun sumSquare(b: Int) = (a + b) * (a + b)\n        return sumSquare(1) + sumSquare(2)\n    }\n首先我们要知道，局部函数无法声明为内联函数(inline)，\n同时包含该局部函数的主函数也不能声明为内联函数，这样会有很多非内联函数的限制，不可避免的要多一次函数调用。  \n\n在编译之后，局部函数会被转换为Fuction对象，同lambda一样。我们看到编译后对应的Java代码：\n    \n    public static final int someMath(final int a) {\n       Function1 sumSquare$ = new Function1(1) {\n          // $FF: synthetic method\n          // $FF: bridge method\n          public Object invoke(Object var1) {\n             return Integer.valueOf(this.invoke(((Number)var1).intValue()));\n          }\n    \n          public final int invoke(int b) {\n             return (a + b) * (a + b);\n          }\n       };\n       return sumSquare$.invoke(1) + sumSquare$.invoke(2);\n    }\n其实与传统lambda相比，性能损失已经更少了，\n局部函数的最终实例是由其所在函数直接调用的，\n这样的调用避免了原始类型的强制转换或装箱处理。\n我们可以看到字节码：  \n\n    ALOAD 1\n    ICONST_1\n    INVOKEVIRTUAL be/myapplication/MyClassKt$someMath$1.invoke (I)I\n    ALOAD 1\n    ICONST_2\n    INVOKEVIRTUAL be/myapplication/MyClassKt$someMath$1.invoke (I)I\n    IADD\n    IRETURN\n两次的方法调用都是直接返回int,中间没有任何拆箱操作。  \n\n不过Function在每次方法调用期间依然要new对象,\n我们将主函数参数传进局部函数可以避免这种情况：\n\n    fun someMath（a：Int）：Int { \n        fun sumSquare（a：Int，b：Int）=（a + b）*（a + b）\n    \n        return sumSquare（a，1）+ sumSquare（a，2）\n    }\n这样两个invoke间依然不会有类型转换或装箱。\n与私有函数相比，局部函数的唯一不足是在使用时会生成一个额外的类。\n\n**本地函数是私有函数的替代函数，\n具有能够访问外部函数的局部变量的优势。\n但同时也伴随着外部函数的每次调用需要创建对象的隐藏成本，\n因此使用本地函数时需要添加其主函数参数来优化。**\n\n### 伴生对象 companion object \nKotlin中没有静态成员，而是通过伴生对象来实现。我们会在伴生对象中声明常量，\n可如果姿势不对，会产生额外开销。如以下version常量：\n```\n    class Demo {\n    \n        fun getVersion(): Int {\n            return Version\n        }\n        companion object {\n            private val Version = 1\n        }\n    }\n```\n如果将这一段转化成Java代码，会复杂很多：\n```\n    public class Demo {\n        private static final int Version = 1;\n        public static final Demo.Companion Companion = new Demo.Companion();\n    \n        public final int getVersion() {\n            return Companion.access$getVersion$p(Companion);\n        }\n    \n        public static int access$getVersion$cp() {\n            return Version;\n        }\n    \n        public static final class Companion {\n            private static int access$getVersion$p(Companion companion) {\n                return companion.getVersion();\n            }\n    \n            private int getVersion() {\n                return Demo.access$getVersion$cp();\n            }\n        }\n    }\n```\n\n如果在Java一般会直接读取常量，但上面这种写法会导致其经过下面4个方法拿到常量：  \n+调用伴生对象的静态方法    \n+调用伴生对象的实例方法    \n+调用主类的静态方法    \n+读取主类中的静态字段    \n\n解决方案：  \n1.基本类型和字符串，可以使用const关键字将常量声明为编译时常量。  \n2.对于公共字段，可以使用@JvmField注解。  \n3.对于其他类型的常量，最好在主类对象中存储全局常量而不是伴生对象。   \n\n\n### Lazy()委托属性  lazy()'s Attr\nlazy()委托属性可以用于只读属性的惰性加载，\n但是在使用lazy()时经常被忽视的地方就是有一个可选的model参数:  \n+LazyThreadSafetyMode.SYNCHRONIZED：\n    初始化属性时会有双重锁检查，保证该值只在一个线程中计算，并且所有线程会得到相同的值。  \n+LazyThreadSafetyMode.PUBLICATION：\n    多个线程会同时执行，初始化属性的函数会被多次调用，但是只有第一个返回的值被当做委托属性的值。  \n+LazyThreadSafetyMode.NONE：没有双重锁检查，不应该用在多线程下。  \n\nlazy()默认情况下会指定LazyThreadSafetyMode.SYNCHRONIZED，\n    这可能会造成不必要线程安全的开销，应该根据实际情况，指定合适的model来避免不需要的同步锁。\n\n### 基本数组 baseArr\n在Kotlin中有3种数组类型：  \n\n+IntArray，FloatArray，其他：基本类型数组，被编译成int[]，float[]，其他   \n+Array<T>：非空对象数组  \n+Array<T?>：可空对象数组  \n 我们使用这三种来声明数组，会发现区别：\n    \n    val a: IntArray = intArrayOf(1)\n    val b: Array<Int> = arrayOf(1)\n    val c: Array<Int?>=arrayOf(null)\n同等Java代码为：\n    \n    @NotNull\n    private final int[] a = new int[]{1};\n    @NotNull\n    private final Integer[] b = new Integer[]{Integer.valueOf(1)};\n    @NotNull\n    private final Integer[] c = new Integer[]{(Integer)null};\n我们可以看到后两种数组创建时已经进行了自动装箱处理，我们声明非空基本数组时，只使用xxxArray就好，避免自动装箱。\n\n### for循环函数\n我们在kotlin的for循环中使用downTo、step、until、reversed等函数辅助简单的使用for循环。\n我们单独使用时确实简洁高效，但是相互调用呢？\n    \n    for (i in 10 downTo 1 step 2) {\n                    println(i)\n    }\n等同的Java代码\n    \n    public final void loop(){\n        IntProgression var10000 = RangesKit.step(RangesKt,downTo(10,1));\n        int i=var10000.getFirst();\n        int var2=var10000.getLast();\n        int var3=var10000.getStep();\n        if(var3>0){\n            if(i>var2){ return; }\n        } else if( i < var2){\n            return;\n        }\n        \n        while(i != var2){\n            i+= var3;\n        }\n    }\n    \n    我们看到第二行已经多创建了两个IntProgresion 临时对象，增了了消耗。\n\n### Kotlin 检查工具\n\n工具简介：  \n>[ktlint](https://github.com/shyiko/ktlint):检查kotlin代码风格，要使用需要大量改造。  \n [detekt](https://github.com/arturbosch/detekt):静态分析kotlin代码，但也有缺陷（不能指定 [variant//变种] 检查,只支持控制台输出）。  \n lint //AndroidStuido 自带，可自定义检查规则","source":"_posts/jvm/kotlin/better_hideCost.md","raw":"---\ntitle: kotlin隐性优化 Kotlin's hidden costs\ncopyright: true  \ntags: \n    - cost  \n    - kotlin  \n    - 优化\ncategories: \n    - jvm   \n    - kotlin  \n    \ndate: 2018-08-008 13:00:00\n---\n\n\n越来越多的Java后端逐渐转向kotlin,因其有诸多方便的特性：\n空指针安全、方法扩展、函数式编程、大量语法糖等。\n我们初步使用时会使得我们的代码信雅达，有很高的可读和可维护性。\n但实际工程环境中使用我们会发现kotlin中有不少的隐形开销，而我们需要避免。\n<!-- more -->\n\n## Kotlin隐性开销优化\n\n### 局部函数 Local functions\n有时候我们会用常规语法在一些函数中声明函数，局部内部函数，我们这里叫他局部函数(local function)：\n    \n    fun someMath(a: Int): Int {\n    \n        fun sumSquare(b: Int) = (a + b) * (a + b)\n        return sumSquare(1) + sumSquare(2)\n    }\n首先我们要知道，局部函数无法声明为内联函数(inline)，\n同时包含该局部函数的主函数也不能声明为内联函数，这样会有很多非内联函数的限制，不可避免的要多一次函数调用。  \n\n在编译之后，局部函数会被转换为Fuction对象，同lambda一样。我们看到编译后对应的Java代码：\n    \n    public static final int someMath(final int a) {\n       Function1 sumSquare$ = new Function1(1) {\n          // $FF: synthetic method\n          // $FF: bridge method\n          public Object invoke(Object var1) {\n             return Integer.valueOf(this.invoke(((Number)var1).intValue()));\n          }\n    \n          public final int invoke(int b) {\n             return (a + b) * (a + b);\n          }\n       };\n       return sumSquare$.invoke(1) + sumSquare$.invoke(2);\n    }\n其实与传统lambda相比，性能损失已经更少了，\n局部函数的最终实例是由其所在函数直接调用的，\n这样的调用避免了原始类型的强制转换或装箱处理。\n我们可以看到字节码：  \n\n    ALOAD 1\n    ICONST_1\n    INVOKEVIRTUAL be/myapplication/MyClassKt$someMath$1.invoke (I)I\n    ALOAD 1\n    ICONST_2\n    INVOKEVIRTUAL be/myapplication/MyClassKt$someMath$1.invoke (I)I\n    IADD\n    IRETURN\n两次的方法调用都是直接返回int,中间没有任何拆箱操作。  \n\n不过Function在每次方法调用期间依然要new对象,\n我们将主函数参数传进局部函数可以避免这种情况：\n\n    fun someMath（a：Int）：Int { \n        fun sumSquare（a：Int，b：Int）=（a + b）*（a + b）\n    \n        return sumSquare（a，1）+ sumSquare（a，2）\n    }\n这样两个invoke间依然不会有类型转换或装箱。\n与私有函数相比，局部函数的唯一不足是在使用时会生成一个额外的类。\n\n**本地函数是私有函数的替代函数，\n具有能够访问外部函数的局部变量的优势。\n但同时也伴随着外部函数的每次调用需要创建对象的隐藏成本，\n因此使用本地函数时需要添加其主函数参数来优化。**\n\n### 伴生对象 companion object \nKotlin中没有静态成员，而是通过伴生对象来实现。我们会在伴生对象中声明常量，\n可如果姿势不对，会产生额外开销。如以下version常量：\n```\n    class Demo {\n    \n        fun getVersion(): Int {\n            return Version\n        }\n        companion object {\n            private val Version = 1\n        }\n    }\n```\n如果将这一段转化成Java代码，会复杂很多：\n```\n    public class Demo {\n        private static final int Version = 1;\n        public static final Demo.Companion Companion = new Demo.Companion();\n    \n        public final int getVersion() {\n            return Companion.access$getVersion$p(Companion);\n        }\n    \n        public static int access$getVersion$cp() {\n            return Version;\n        }\n    \n        public static final class Companion {\n            private static int access$getVersion$p(Companion companion) {\n                return companion.getVersion();\n            }\n    \n            private int getVersion() {\n                return Demo.access$getVersion$cp();\n            }\n        }\n    }\n```\n\n如果在Java一般会直接读取常量，但上面这种写法会导致其经过下面4个方法拿到常量：  \n+调用伴生对象的静态方法    \n+调用伴生对象的实例方法    \n+调用主类的静态方法    \n+读取主类中的静态字段    \n\n解决方案：  \n1.基本类型和字符串，可以使用const关键字将常量声明为编译时常量。  \n2.对于公共字段，可以使用@JvmField注解。  \n3.对于其他类型的常量，最好在主类对象中存储全局常量而不是伴生对象。   \n\n\n### Lazy()委托属性  lazy()'s Attr\nlazy()委托属性可以用于只读属性的惰性加载，\n但是在使用lazy()时经常被忽视的地方就是有一个可选的model参数:  \n+LazyThreadSafetyMode.SYNCHRONIZED：\n    初始化属性时会有双重锁检查，保证该值只在一个线程中计算，并且所有线程会得到相同的值。  \n+LazyThreadSafetyMode.PUBLICATION：\n    多个线程会同时执行，初始化属性的函数会被多次调用，但是只有第一个返回的值被当做委托属性的值。  \n+LazyThreadSafetyMode.NONE：没有双重锁检查，不应该用在多线程下。  \n\nlazy()默认情况下会指定LazyThreadSafetyMode.SYNCHRONIZED，\n    这可能会造成不必要线程安全的开销，应该根据实际情况，指定合适的model来避免不需要的同步锁。\n\n### 基本数组 baseArr\n在Kotlin中有3种数组类型：  \n\n+IntArray，FloatArray，其他：基本类型数组，被编译成int[]，float[]，其他   \n+Array<T>：非空对象数组  \n+Array<T?>：可空对象数组  \n 我们使用这三种来声明数组，会发现区别：\n    \n    val a: IntArray = intArrayOf(1)\n    val b: Array<Int> = arrayOf(1)\n    val c: Array<Int?>=arrayOf(null)\n同等Java代码为：\n    \n    @NotNull\n    private final int[] a = new int[]{1};\n    @NotNull\n    private final Integer[] b = new Integer[]{Integer.valueOf(1)};\n    @NotNull\n    private final Integer[] c = new Integer[]{(Integer)null};\n我们可以看到后两种数组创建时已经进行了自动装箱处理，我们声明非空基本数组时，只使用xxxArray就好，避免自动装箱。\n\n### for循环函数\n我们在kotlin的for循环中使用downTo、step、until、reversed等函数辅助简单的使用for循环。\n我们单独使用时确实简洁高效，但是相互调用呢？\n    \n    for (i in 10 downTo 1 step 2) {\n                    println(i)\n    }\n等同的Java代码\n    \n    public final void loop(){\n        IntProgression var10000 = RangesKit.step(RangesKt,downTo(10,1));\n        int i=var10000.getFirst();\n        int var2=var10000.getLast();\n        int var3=var10000.getStep();\n        if(var3>0){\n            if(i>var2){ return; }\n        } else if( i < var2){\n            return;\n        }\n        \n        while(i != var2){\n            i+= var3;\n        }\n    }\n    \n    我们看到第二行已经多创建了两个IntProgresion 临时对象，增了了消耗。\n\n### Kotlin 检查工具\n\n工具简介：  \n>[ktlint](https://github.com/shyiko/ktlint):检查kotlin代码风格，要使用需要大量改造。  \n [detekt](https://github.com/arturbosch/detekt):静态分析kotlin代码，但也有缺陷（不能指定 [variant//变种] 检查,只支持控制台输出）。  \n lint //AndroidStuido 自带，可自定义检查规则","slug":"jvm/kotlin/better_hideCost","published":1,"updated":"2018-08-21T01:43:37.850Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjl8qv5wi002ihkeh9shmliff","content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"\\assets\\css\\APlayer.min.css\"><script src=\"\\assets\\js\\APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><p>越来越多的Java后端逐渐转向kotlin,因其有诸多方便的特性：\n空指针安全、方法扩展、函数式编程、大量语法糖等。\n我们初步使用时会使得我们的代码信雅达，有很高的可读和可维护性。\n但实际工程环境中使用我们会发现kotlin中有不少的隐形开销，而我们需要避免。\n<a id=\"more\"></a></p>\n<h2 id=\"Kotlin隐性开销优化\"><a href=\"#Kotlin隐性开销优化\" class=\"headerlink\" title=\"Kotlin隐性开销优化\"></a>Kotlin隐性开销优化</h2><h3 id=\"局部函数-Local-functions\"><a href=\"#局部函数-Local-functions\" class=\"headerlink\" title=\"局部函数 Local functions\"></a>局部函数 Local functions</h3><p>有时候我们会用常规语法在一些函数中声明函数，局部内部函数，我们这里叫他局部函数(local function)：</p>\n<pre><code>fun someMath(a: Int): Int {\n\n    fun sumSquare(b: Int) = (a + b) * (a + b)\n    return sumSquare(1) + sumSquare(2)\n}\n</code></pre><p>首先我们要知道，局部函数无法声明为内联函数(inline)，\n同时包含该局部函数的主函数也不能声明为内联函数，这样会有很多非内联函数的限制，不可避免的要多一次函数调用。  </p>\n<p>在编译之后，局部函数会被转换为Fuction对象，同lambda一样。我们看到编译后对应的Java代码：</p>\n<pre><code>public static final int someMath(final int a) {\n   Function1 sumSquare$ = new Function1(1) {\n      // $FF: synthetic method\n      // $FF: bridge method\n      public Object invoke(Object var1) {\n         return Integer.valueOf(this.invoke(((Number)var1).intValue()));\n      }\n\n      public final int invoke(int b) {\n         return (a + b) * (a + b);\n      }\n   };\n   return sumSquare$.invoke(1) + sumSquare$.invoke(2);\n}\n</code></pre><p>其实与传统lambda相比，性能损失已经更少了，\n局部函数的最终实例是由其所在函数直接调用的，\n这样的调用避免了原始类型的强制转换或装箱处理。\n我们可以看到字节码：  </p>\n<pre><code>ALOAD 1\nICONST_1\nINVOKEVIRTUAL be/myapplication/MyClassKt$someMath$1.invoke (I)I\nALOAD 1\nICONST_2\nINVOKEVIRTUAL be/myapplication/MyClassKt$someMath$1.invoke (I)I\nIADD\nIRETURN\n</code></pre><p>两次的方法调用都是直接返回int,中间没有任何拆箱操作。  </p>\n<p>不过Function在每次方法调用期间依然要new对象,\n我们将主函数参数传进局部函数可以避免这种情况：</p>\n<pre><code>fun someMath（a：Int）：Int { \n    fun sumSquare（a：Int，b：Int）=（a + b）*（a + b）\n\n    return sumSquare（a，1）+ sumSquare（a，2）\n}\n</code></pre><p>这样两个invoke间依然不会有类型转换或装箱。\n与私有函数相比，局部函数的唯一不足是在使用时会生成一个额外的类。</p>\n<p><strong>本地函数是私有函数的替代函数，\n具有能够访问外部函数的局部变量的优势。\n但同时也伴随着外部函数的每次调用需要创建对象的隐藏成本，\n因此使用本地函数时需要添加其主函数参数来优化。</strong></p>\n<h3 id=\"伴生对象-companion-object\"><a href=\"#伴生对象-companion-object\" class=\"headerlink\" title=\"伴生对象 companion object\"></a>伴生对象 companion object</h3><p>Kotlin中没有静态成员，而是通过伴生对象来实现。我们会在伴生对象中声明常量，\n可如果姿势不对，会产生额外开销。如以下version常量：\n<figure class=\"highlight kotlin\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Demo</span> </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">fun</span> <span class=\"title\">getVersion</span><span class=\"params\">()</span></span>: <span class=\"built_in\">Int</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> Version</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">companion</span> <span class=\"keyword\">object</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">private</span> <span class=\"keyword\">val</span> Version = <span class=\"number\">1</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>如果将这一段转化成Java代码，会复杂很多：\n<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Demo</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> int Version = <span class=\"number\">1</span>;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> Demo.Companion Companion = <span class=\"keyword\">new</span> Demo.Companion();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">final</span> int getVersion() &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> Companion.access$getVersion$p(Companion);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> int access$getVersion$cp() &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> Version;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Companion</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">private</span> <span class=\"keyword\">static</span> int access$getVersion$p(Companion companion) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> companion.getVersion();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">private</span> int getVersion() &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> Demo.access$getVersion$cp();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>如果在Java一般会直接读取常量，但上面这种写法会导致其经过下面4个方法拿到常量：<br>+调用伴生对象的静态方法<br>+调用伴生对象的实例方法<br>+调用主类的静态方法<br>+读取主类中的静态字段    </p>\n<p>解决方案：<br>1.基本类型和字符串，可以使用const关键字将常量声明为编译时常量。<br>2.对于公共字段，可以使用@JvmField注解。<br>3.对于其他类型的常量，最好在主类对象中存储全局常量而不是伴生对象。   </p>\n<h3 id=\"Lazy-委托属性-lazy-’s-Attr\"><a href=\"#Lazy-委托属性-lazy-’s-Attr\" class=\"headerlink\" title=\"Lazy()委托属性  lazy()’s Attr\"></a>Lazy()委托属性  lazy()’s Attr</h3><p>lazy()委托属性可以用于只读属性的惰性加载，\n但是在使用lazy()时经常被忽视的地方就是有一个可选的model参数:<br>+LazyThreadSafetyMode.SYNCHRONIZED：\n    初始化属性时会有双重锁检查，保证该值只在一个线程中计算，并且所有线程会得到相同的值。<br>+LazyThreadSafetyMode.PUBLICATION：\n    多个线程会同时执行，初始化属性的函数会被多次调用，但是只有第一个返回的值被当做委托属性的值。<br>+LazyThreadSafetyMode.NONE：没有双重锁检查，不应该用在多线程下。  </p>\n<p>lazy()默认情况下会指定LazyThreadSafetyMode.SYNCHRONIZED，\n    这可能会造成不必要线程安全的开销，应该根据实际情况，指定合适的model来避免不需要的同步锁。</p>\n<h3 id=\"基本数组-baseArr\"><a href=\"#基本数组-baseArr\" class=\"headerlink\" title=\"基本数组 baseArr\"></a>基本数组 baseArr</h3><p>在Kotlin中有3种数组类型：  </p>\n<p>+IntArray，FloatArray，其他：基本类型数组，被编译成int[]，float[]，其他<br>+Array<t>：非空对象数组<br>+Array&lt;T?&gt;：可空对象数组<br> 我们使用这三种来声明数组，会发现区别：</t></p>\n<pre><code>val a: IntArray = intArrayOf(1)\nval b: Array&lt;Int&gt; = arrayOf(1)\nval c: Array&lt;Int?&gt;=arrayOf(null)\n</code></pre><p>同等Java代码为：</p>\n<pre><code>@NotNull\nprivate final int[] a = new int[]{1};\n@NotNull\nprivate final Integer[] b = new Integer[]{Integer.valueOf(1)};\n@NotNull\nprivate final Integer[] c = new Integer[]{(Integer)null};\n</code></pre><p>我们可以看到后两种数组创建时已经进行了自动装箱处理，我们声明非空基本数组时，只使用xxxArray就好，避免自动装箱。</p>\n<h3 id=\"for循环函数\"><a href=\"#for循环函数\" class=\"headerlink\" title=\"for循环函数\"></a>for循环函数</h3><p>我们在kotlin的for循环中使用downTo、step、until、reversed等函数辅助简单的使用for循环。\n我们单独使用时确实简洁高效，但是相互调用呢？</p>\n<pre><code>for (i in 10 downTo 1 step 2) {\n                println(i)\n}\n</code></pre><p>等同的Java代码</p>\n<pre><code>public final void loop(){\n    IntProgression var10000 = RangesKit.step(RangesKt,downTo(10,1));\n    int i=var10000.getFirst();\n    int var2=var10000.getLast();\n    int var3=var10000.getStep();\n    if(var3&gt;0){\n        if(i&gt;var2){ return; }\n    } else if( i &lt; var2){\n        return;\n    }\n\n    while(i != var2){\n        i+= var3;\n    }\n}\n\n我们看到第二行已经多创建了两个IntProgresion 临时对象，增了了消耗。\n</code></pre><h3 id=\"Kotlin-检查工具\"><a href=\"#Kotlin-检查工具\" class=\"headerlink\" title=\"Kotlin 检查工具\"></a>Kotlin 检查工具</h3><p>工具简介：  </p>\n<blockquote>\n<p><a href=\"https://github.com/shyiko/ktlint\" target=\"_blank\" rel=\"noopener\">ktlint</a>:检查kotlin代码风格，要使用需要大量改造。<br> <a href=\"https://github.com/arturbosch/detekt\" target=\"_blank\" rel=\"noopener\">detekt</a>:静态分析kotlin代码，但也有缺陷（不能指定 [variant//变种] 检查,只支持控制台输出）。<br> lint //AndroidStuido 自带，可自定义检查规则</p>\n</blockquote>\n","site":{"data":{}},"excerpt":"<p>越来越多的Java后端逐渐转向kotlin,因其有诸多方便的特性：\n空指针安全、方法扩展、函数式编程、大量语法糖等。\n我们初步使用时会使得我们的代码信雅达，有很高的可读和可维护性。\n但实际工程环境中使用我们会发现kotlin中有不少的隐形开销，而我们需要避免。","more":"</p>\n<h2 id=\"Kotlin隐性开销优化\"><a href=\"#Kotlin隐性开销优化\" class=\"headerlink\" title=\"Kotlin隐性开销优化\"></a>Kotlin隐性开销优化</h2><h3 id=\"局部函数-Local-functions\"><a href=\"#局部函数-Local-functions\" class=\"headerlink\" title=\"局部函数 Local functions\"></a>局部函数 Local functions</h3><p>有时候我们会用常规语法在一些函数中声明函数，局部内部函数，我们这里叫他局部函数(local function)：</p>\n<pre><code>fun someMath(a: Int): Int {\n\n    fun sumSquare(b: Int) = (a + b) * (a + b)\n    return sumSquare(1) + sumSquare(2)\n}\n</code></pre><p>首先我们要知道，局部函数无法声明为内联函数(inline)，\n同时包含该局部函数的主函数也不能声明为内联函数，这样会有很多非内联函数的限制，不可避免的要多一次函数调用。  </p>\n<p>在编译之后，局部函数会被转换为Fuction对象，同lambda一样。我们看到编译后对应的Java代码：</p>\n<pre><code>public static final int someMath(final int a) {\n   Function1 sumSquare$ = new Function1(1) {\n      // $FF: synthetic method\n      // $FF: bridge method\n      public Object invoke(Object var1) {\n         return Integer.valueOf(this.invoke(((Number)var1).intValue()));\n      }\n\n      public final int invoke(int b) {\n         return (a + b) * (a + b);\n      }\n   };\n   return sumSquare$.invoke(1) + sumSquare$.invoke(2);\n}\n</code></pre><p>其实与传统lambda相比，性能损失已经更少了，\n局部函数的最终实例是由其所在函数直接调用的，\n这样的调用避免了原始类型的强制转换或装箱处理。\n我们可以看到字节码：  </p>\n<pre><code>ALOAD 1\nICONST_1\nINVOKEVIRTUAL be/myapplication/MyClassKt$someMath$1.invoke (I)I\nALOAD 1\nICONST_2\nINVOKEVIRTUAL be/myapplication/MyClassKt$someMath$1.invoke (I)I\nIADD\nIRETURN\n</code></pre><p>两次的方法调用都是直接返回int,中间没有任何拆箱操作。  </p>\n<p>不过Function在每次方法调用期间依然要new对象,\n我们将主函数参数传进局部函数可以避免这种情况：</p>\n<pre><code>fun someMath（a：Int）：Int { \n    fun sumSquare（a：Int，b：Int）=（a + b）*（a + b）\n\n    return sumSquare（a，1）+ sumSquare（a，2）\n}\n</code></pre><p>这样两个invoke间依然不会有类型转换或装箱。\n与私有函数相比，局部函数的唯一不足是在使用时会生成一个额外的类。</p>\n<p><strong>本地函数是私有函数的替代函数，\n具有能够访问外部函数的局部变量的优势。\n但同时也伴随着外部函数的每次调用需要创建对象的隐藏成本，\n因此使用本地函数时需要添加其主函数参数来优化。</strong></p>\n<h3 id=\"伴生对象-companion-object\"><a href=\"#伴生对象-companion-object\" class=\"headerlink\" title=\"伴生对象 companion object\"></a>伴生对象 companion object</h3><p>Kotlin中没有静态成员，而是通过伴生对象来实现。我们会在伴生对象中声明常量，\n可如果姿势不对，会产生额外开销。如以下version常量：\n<figure class=\"highlight kotlin\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Demo</span> </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">fun</span> <span class=\"title\">getVersion</span><span class=\"params\">()</span></span>: <span class=\"built_in\">Int</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> Version</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">companion</span> <span class=\"keyword\">object</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">private</span> <span class=\"keyword\">val</span> Version = <span class=\"number\">1</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>如果将这一段转化成Java代码，会复杂很多：\n<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Demo</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> int Version = <span class=\"number\">1</span>;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> Demo.Companion Companion = <span class=\"keyword\">new</span> Demo.Companion();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">final</span> int getVersion() &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> Companion.access$getVersion$p(Companion);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> int access$getVersion$cp() &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> Version;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Companion</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">private</span> <span class=\"keyword\">static</span> int access$getVersion$p(Companion companion) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> companion.getVersion();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">private</span> int getVersion() &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> Demo.access$getVersion$cp();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>如果在Java一般会直接读取常量，但上面这种写法会导致其经过下面4个方法拿到常量：<br>+调用伴生对象的静态方法<br>+调用伴生对象的实例方法<br>+调用主类的静态方法<br>+读取主类中的静态字段    </p>\n<p>解决方案：<br>1.基本类型和字符串，可以使用const关键字将常量声明为编译时常量。<br>2.对于公共字段，可以使用@JvmField注解。<br>3.对于其他类型的常量，最好在主类对象中存储全局常量而不是伴生对象。   </p>\n<h3 id=\"Lazy-委托属性-lazy-’s-Attr\"><a href=\"#Lazy-委托属性-lazy-’s-Attr\" class=\"headerlink\" title=\"Lazy()委托属性  lazy()’s Attr\"></a>Lazy()委托属性  lazy()’s Attr</h3><p>lazy()委托属性可以用于只读属性的惰性加载，\n但是在使用lazy()时经常被忽视的地方就是有一个可选的model参数:<br>+LazyThreadSafetyMode.SYNCHRONIZED：\n    初始化属性时会有双重锁检查，保证该值只在一个线程中计算，并且所有线程会得到相同的值。<br>+LazyThreadSafetyMode.PUBLICATION：\n    多个线程会同时执行，初始化属性的函数会被多次调用，但是只有第一个返回的值被当做委托属性的值。<br>+LazyThreadSafetyMode.NONE：没有双重锁检查，不应该用在多线程下。  </p>\n<p>lazy()默认情况下会指定LazyThreadSafetyMode.SYNCHRONIZED，\n    这可能会造成不必要线程安全的开销，应该根据实际情况，指定合适的model来避免不需要的同步锁。</p>\n<h3 id=\"基本数组-baseArr\"><a href=\"#基本数组-baseArr\" class=\"headerlink\" title=\"基本数组 baseArr\"></a>基本数组 baseArr</h3><p>在Kotlin中有3种数组类型：  </p>\n<p>+IntArray，FloatArray，其他：基本类型数组，被编译成int[]，float[]，其他<br>+Array<t>：非空对象数组<br>+Array&lt;T?&gt;：可空对象数组<br> 我们使用这三种来声明数组，会发现区别：</t></p>\n<pre><code>val a: IntArray = intArrayOf(1)\nval b: Array&lt;Int&gt; = arrayOf(1)\nval c: Array&lt;Int?&gt;=arrayOf(null)\n</code></pre><p>同等Java代码为：</p>\n<pre><code>@NotNull\nprivate final int[] a = new int[]{1};\n@NotNull\nprivate final Integer[] b = new Integer[]{Integer.valueOf(1)};\n@NotNull\nprivate final Integer[] c = new Integer[]{(Integer)null};\n</code></pre><p>我们可以看到后两种数组创建时已经进行了自动装箱处理，我们声明非空基本数组时，只使用xxxArray就好，避免自动装箱。</p>\n<h3 id=\"for循环函数\"><a href=\"#for循环函数\" class=\"headerlink\" title=\"for循环函数\"></a>for循环函数</h3><p>我们在kotlin的for循环中使用downTo、step、until、reversed等函数辅助简单的使用for循环。\n我们单独使用时确实简洁高效，但是相互调用呢？</p>\n<pre><code>for (i in 10 downTo 1 step 2) {\n                println(i)\n}\n</code></pre><p>等同的Java代码</p>\n<pre><code>public final void loop(){\n    IntProgression var10000 = RangesKit.step(RangesKt,downTo(10,1));\n    int i=var10000.getFirst();\n    int var2=var10000.getLast();\n    int var3=var10000.getStep();\n    if(var3&gt;0){\n        if(i&gt;var2){ return; }\n    } else if( i &lt; var2){\n        return;\n    }\n\n    while(i != var2){\n        i+= var3;\n    }\n}\n\n我们看到第二行已经多创建了两个IntProgresion 临时对象，增了了消耗。\n</code></pre><h3 id=\"Kotlin-检查工具\"><a href=\"#Kotlin-检查工具\" class=\"headerlink\" title=\"Kotlin 检查工具\"></a>Kotlin 检查工具</h3><p>工具简介：  </p>\n<blockquote>\n<p><a href=\"https://github.com/shyiko/ktlint\" target=\"_blank\" rel=\"noopener\">ktlint</a>:检查kotlin代码风格，要使用需要大量改造。<br> <a href=\"https://github.com/arturbosch/detekt\" target=\"_blank\" rel=\"noopener\">detekt</a>:静态分析kotlin代码，但也有缺陷（不能指定 [variant//变种] 检查,只支持控制台输出）。<br> lint //AndroidStuido 自带，可自定义检查规则</p>\n</blockquote>"},{"title":"设计模式233|Design pattern","copyright":true,"date":"2018-08-28T05:00:00.000Z","_content":"\n当朝大学士，总共有3位，朕不得不罢免4位 \n别看你们一个个站在干岸上，设计模式你们还记得多少吗--  \n<!-- more -->\n\n# 简单工厂模式|Simple factory\n\n## 面向对象\n\n### 活字印刷\n例子++\n\n1.可维护；【只改需改之字】  \n2.可复用；  \n3.可扩展；【可加字】  \n4.灵活性；【横排换竖排】  \n\n### 好处\n通过封装、继承、多态将程序的耦合性降低  \n设计模式使得其更加灵活，容易修改且易于复用  \n\n### 业务封装\n火星车程序的分离  \n将客户端和服务端分离  \n\n题目：  \n一队机器人漫游车将被美国宇航局降落在火星高原上。\n漫游车将在这个奇怪的长方形高原上巡游，\n以便他们的机载摄像头可以获得周围地形的完整视图，并将其发送回地球。\n漫游者的坐标和位置由x和y坐标的组合以及代表四个方向（E, S, W, N）的字母表示。\n高原划分为网格以简化导航。比如位置0，0，N，表示漫游车位于左下角并面向北。\n为了控制漫游车，美国宇航局发送一串简单的字母。\n指令字母是'L'，'R'和'M'。 'L'和'R'使漫游车分别向左或向右旋转90度，而不会从当前地点移动。\n'M'表示前进一个网格点，并保持相同的方向。\n假设从（x，y）直接向北移动，就到了（x，y + 1）。\n\nINPUT：  \n第一行输入是平台的右上角坐标，左下角坐标被假定为0,0。\n其余的输入是有关已部署的漫游车的信息。每个漫游车都有两行输入。\n第一行给出了漫游车的位置，第二行是告诉漫游车如何探索高原的一系列指令。\n位置由两个整数和一个由空格分隔的字母组成，对应于x和y坐标以及漫游车当前的方向。\n每个漫游车将按顺序完成，这意味着第二个漫游车在第一个漫游车完成移动之前不会开始移动。\n\nOUTPUT:  \n每个漫游车的输出应该是其最终的坐标和位置。\n输入输出例子:  \nIN:  \n5 5  \n1 2 N  \nLMLMLMLMM  \n3 3 E  \nMMRMMRMRRM  \n\nOUT：  \n1 3 N  \n5 1 E  \n\n#### 服务端封装\n```\n    class Rover constructor(var x:Long, var y:Long, var z:String){\n    \n        val rangez= arrayListOf(\"e\",\"s\",\"w\",\"n\")\n        val rangeZ= arrayListOf(\"E\",\"S\",\"W\",\"N\")\n    \n        fun numL(z:Int)=if (z==0) 3 else z-1\n        fun numR(z:Int)=if (z==3) 0 else z+1\n    \n        fun doL(){\n            val i1=rangeZ.indexOf(z)\n            val i2=rangez.indexOf(z)\n            val i= intArrayOf(i1,i2).max()\n            val ii=numL(i!!)\n            z=rangeZ[ii]\n        }\n    \n        fun doR(){\n            val i1=rangeZ.indexOf(z)\n            val i2=rangez.indexOf(z)\n            val i= intArrayOf(i1,i2).max()\n            val ii=numR(i!!)\n            z=rangeZ[ii]\n        }\n    \n        fun doM(){\n            when(z){\n                \"E\" ->  x++\n                \"S\" ->  y--\n                \"W\" ->  x--\n                \"N\" ->  y++\n            }\n        }\n    }\n```\n#### 操作界面封装\n```\n    val Rovers= MutableList(0,{ Rover(1, 1, \"N\") })\n    val sc = Scanner(System.`in`)\n    \n    var boderX=0L\n    var boderY=0L\n    val rangeZ= arrayListOf(\"E\",\"S\",\"W\",\"N\")\n    \n    fun InputSize(){\n        println(\"please input map size:'x y'\")\n        val mapSize = sc.nextLine()\n        WashSize(mapSize)\n    }\n    fun RoverSet(){\n        InputLocation()\n        InputCommand()\n    }\n    fun InputLocation(){\n        println(\"please input io.hongxi.simpleFactory.encapsulation.Rover's location:'x y z',example:'1 1 N','2 2 W'..  z in ['E','S','W','N']\")\n        val location = sc.nextLine()\n        WashLocation(location)\n    }\n    fun InputCommand(){\n        println(\"please input command,example:'LMLMLMLMM'..  char in ['L','R','M']\")\n        val command = sc.nextLine()\n        for (cmd in command)\n            when(cmd){\n                'l' -> Rovers.last().doL()\n                'L' -> Rovers.last().doL()\n                'r' -> Rovers.last().doR()\n                'R' -> Rovers.last().doR()\n                'm' -> Rovers.last().doM()\n                'M' -> Rovers.last().doM()\n            }\n    \n        println(\"enter to add rovers more,else input 'end' to end\")\n        val cmd = sc.nextLine()\n        if (cmd==\"END\"|| cmd==\"end\"){\n            doResult()\n            return\n        }else\n            RoverSet()\n    }\n    \n    fun WashSize(mapSize:String){\n    \n        val list=mapSize.split(' ').toMutableList()\n        list.removeAll(Array(99,{\"\"}))\n    \n        if (list.size!=2){\n            System.err.println(\"wrong input,please input again:'x y'\")\n            InputSize()\n            return\n        }\n        try {\n            boderX =list[0].toLong()\n            boderY =list[1].toLong()\n        } catch (e:Exception){\n            System.err.println(\"wrong input,please input again:'x y'\")\n            InputSize()\n            return\n        }\n        if (boderX <1 || boderY <1){\n            System.err.println(\"wrong input,please input again:'x y'\")\n            InputSize()\n            return\n        }\n    \n        println(\"mapSize=$list\")\n        RoverSet()\n    }\n    fun WashLocation(location:String){\n        val list=location.split(' ').toMutableList()\n        list.removeAll(Array(99,{\"\"}))\n    \n        val x:Long\n        val y:Long\n        val z:String\n        if (list.size!=3){\n            System.err.println(\"wrong input,please input again:'x y z',example:'1 1 N','2 2 W'..  z in ['E','S','W','N']\")\n            InputLocation()\n            return\n        }\n        try {\n            x=list[0].toLong()\n            y=list[1].toLong()\n            z=list[2]\n        } catch (e:Exception){\n            System.err.println(\"wrong input,please input again:'x y z',example:'1 1 N','2 2 W'..  z in ['E','S','W','N']\")\n            InputLocation()\n            return\n        }\n        if (x !in 0..boderX || y !in 0..boderY || z !in rangeZ){\n            System.err.println(\"wrong input,please make x in 0..$boderX, y in 0..$boderY and z in ['E','S','W','N']\")\n            InputLocation()\n            return\n        }\n    \n        Rovers.add(Rover(x, y, z))\n    }\n    \n    fun doResult(){\n        for (rover in Rovers)\n            println(\"${rover.x} ${rover.y} ${rover.z}\")\n    }\n    \n    \n    fun main(args: Array<String>) {\n        InputSize()\n        /**\n        Input\n        5 5\n        1 2 N\n        LMLMLMLMM\n        3 3 E\n        MMRMMRMRRM\n        OutPut：\n        1 3 N\n        5 1 E*/\n    } \n```\n\n### 简单工厂模式封装\n```\n    interface Do{\n    \n        var x:Int\n        var y:Int\n        var z:Char\n    \n        fun numL(z:Int):Int\n        fun numR(z:Int):Int\n    \n        val rangeZ:List<Char>\n        fun DoResult(): Rover\n    }\n    \n    data class DoL(override var x:Int,\n                    override var y:Int,\n                    override var z:Char) :Do{\n    \n        override fun numL(z:Int)=if (z==0) 3 else z-1\n        override fun numR(z:Int)=if (z==3) 0 else z+1\n    \n        override val rangeZ=arrayListOf('E','S','W','N')\n        override fun DoResult(): Rover {\n    \n            val i=rangeZ.indexOf(z)\n            val ii=numL(i)\n            z=rangeZ[ii]\n            return Rover(x,y,z)\n        }\n    }\n    \n    data class DoM(override var x:Int,\n              override var y:Int,\n              override var z:Char) :Do{\n    \n        override fun numL(z:Int)=if (z==0) 3 else z-1\n        override fun numR(z:Int)=if (z==3) 0 else z+1\n    \n        override val rangeZ=arrayListOf('E','S','W','N')\n    \n        override fun DoResult(): Rover {\n            when(z){\n                'E' ->  x++\n                'S' ->  y--\n                'W' ->  x--\n                'N' ->  y++\n            }\n            return Rover(x,y,z)\n        }\n    }\n    \n    class DoR(override var x:Int,\n              override var y:Int,\n              override var z:Char) :Do{\n    \n        override fun numL(z:Int)=if (z==0) 3 else z-1\n        override fun numR(z:Int)=if (z==3) 0 else z+1\n    \n        override val rangeZ=arrayListOf('E','S','W','N')\n    \n        override fun DoResult(): Rover {\n    \n            val i=rangeZ.indexOf(z)\n            val ii=numR(i)\n            z=rangeZ[ii]\n            return Rover(x,y,z)\n        }\n    }\n```\n\n### 松紧耦合\n紧耦合：  \nRover对象的L,R,M方法写在一起，需求改变时需要需直接改变方法  \n松耦合：  \n解耦函数架构，将每个方法抽象成功能类\n\n### UML类图\n分三层  \n1.类名(抽象类用斜体)  \n2.字段属性  \n3.方法行为  \n\n\n\n# 策略模式|Strategy Mode\n商场收银系统   \n### 简单工厂实现\n现金收费对象下有多个实现子类\n```\n    class 收费对象{\n        fun 收费(money:Money)=money\n    }\n    \n    class 正常收费：收费对象{\n        override fun 收费(money:Money)=money\n    }\n    \n    class 折扣收费(折扣倍率：折扣)：收费对象{\n        override fun 收费(money:Money)=money*折扣倍率\n    }\n    \n    class 返利收费(返利条件，返利值)：收费对象{\n        override fun 收费(money:Money){\n            if(返利条件) money-=返利值\n            return money\n        }\n    }\n    \n    Object  收费工厂{\n        \n        fun 收费对象生成(type):收费对象{\n            \n            when(type){\n                \"正常收费\"  -> return 正常收费()\n                \"折扣收费\"  -> return 折扣收费(折扣倍率)\n                \"返利收费\"  -> return 返利收费(返利条件，返利值)\n            }\n        }\n    }\n```\n### 策略模式\n定义了算法家族，将其分别封装，之间可相互替换，不影响算法使用者  \n将上面的收费对象定义为接口即可，在需要的时候继承再new生成创建对象实例  \n策略者模式将所有算法封装在接口中，调用时取用其子类生成的实例  \n\n### 说明\n优点：  \n策略类层配合Const常量定义了可重用的方法，助于析取公共方法  \n简化单元测试\n\n\n\n# 单一职责原则|SRP\n就一个类而言，应该仅有一个引起它变化的原因  \n如果一个类承担的之策过多，等于将这些职责耦合再一起，\n单个职责变化会削弱或抑制这个类完成其他职责的能力。\n该种耦合会导致设计脆弱，甚至产生意外破坏(ASD);  \n\n# 开放-封闭原则\n对扩展开放(Open for extension)    \n对更改封闭(Closed for modification)  \n要对频繁变化的模块进行抽象，但全部抽象也不好  \n\n# 依赖倒转原则\n强内聚，松耦合  \n抽象不应依赖细节，细节应依赖于抽象  \n针对接口编程，不要对实现编程\nA.高层模块不应该依赖低层模块，两个都应该依赖抽象  \nB.抽象不应该依赖细节。细节应该依赖抽象。\n\n里氏代换原则  —>  \n一个软件实体如果使用的是一个父类，那么一定适用于其子类，而软件无法察觉其变化。  \n里氏代换原则(LSP)：子类型必须能够替换掉它们的父类型[ASD]。  \n由于子类型的可替换性才使得父类的模块再无需修改时就可扩展。  \n\n依赖倒转是面向对象设计的标志，如果编写时考虑的是如何针对抽象编程而不是针对编程细节，\n即程序中的依赖关系都是终于抽象类和接口，那就是面向对象设计，反之为过程化的设计。  \n\n\n\n# 装饰模式|Decoration mode\n动态的给一个对象添加一些额外的职责  \n//比生成子类更灵活  \n\n通过继承原始类，覆写部分功能来实现\n\nComponent类\n```\n    abstract class ComPonent{\n        public abstract void Operation();\n    }\n```\nConcreteComponent 类\n```\n    class ConcreteComponent:Component{\n        public override void Operation(){\n            Console.WriteLine(\"具体操作\")\n        }\n    }\n```\nDecorator 类\n```\n    abstract class Decorator:Component{\n        \n        protected Compenent component;\n        public void SetComponent(Compenent component){\n            this.component=component;\n        }\n        public override void Operation(){\n            if(component!=null)\n            component.Operation();//实际执行我们放入的component的operation\n        }\n    }\n```\n\nConcreteDecoratorA-装饰实体类\n```\n    class ConcreteSecoratorA:Decorator{\n        \n        private String addedState;          //该类独有功能，不同于ConcreteSecoratorB\n        public override void Operation(){\n            base.Operation();               //先执行原component的operation,再执行本类的功能\n            addedState= \"new star\";\n            Console.WriteLine(\"装饰对象A操作\");\n        }\n    }\n```\n\n### 说明\n装饰模式是为已有功能动态添加更多功能的方式。  \n每个装饰的功能再单独的类中，并包装了他所装饰的对象，可自由处理。\n\n\n# 代理模式 | proxy\n代理接口\n```\n    intface GiveGift{\n        fun GiveDolls()\n        fun GiveFlowers()\n        fun GiveChocolate()\n    }\n```\n\n追求者类\n```\n    class Pursuit(val girls: Girl):GiveGift { \n        override fun GiveDolls() = println(\"${girls.name}  送你洋娃娃\")\n        override fun GiveFlowers()= println(\"${girls.name}  送你洋鲜花\")\n        override fun GiveChocolate() = println(\"${girls.name}  送你巧克力\")\n    }\n```\n\n代理类\n```\n    class Proxy(girl: Girl):GiveGift {\n        val gg=Pursuit(girl)\n        override fun GiveDolls()=gg.GiveDolls()\n        override fun GiveFlowers() =gg.GiveFlowers()\n        override fun GiveChocolate()=gg.GiveChocolate()\n    }\n```\n\n实现\n```\n    class Proxy(girl: Girl):GiveGift {\n        val gg=Pursuit(girl)\n        override fun GiveDolls()=gg.GiveDolls()\n        override fun GiveFlowers() =gg.GiveFlowers()\n        override fun GiveChocolate()=gg.GiveChocolate()\n    }\n```\n阿珍不认识追她的人，但是通过代理拿到了礼物\n\n## 说明\n代理模式为其他对象提供了一种代理以控制这个对象的访问\n\n## 应用\n1.远程代理：为一个对象再不同地址空间提供局部代表。\n同时隐藏一个对象存在不同地址空间的事实。  \n2.虚拟代理：按需创建大开销对象，来预缓存真实对象。(如预加载缓存框)  \n3.安全代理：控制真实对象访问时权限。\n4.智能指引：调用当前实例对象时，同时代理处理一些别的事。\n\n\n\n# 工厂方法\n## 简单工厂VS工厂方法\n简单工厂下的计算器实现\n![avatar](base_03_DesignPattern/计算器的简单工厂结构.png)\n\n工厂方法下的计算器实现\n![avatar](base_03_DesignPattern/计算器的工厂方法结构.png)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n","source":"_posts/base/base_03_DesignPattern.md","raw":"---\ntitle: 设计模式233|Design pattern\ncopyright: true  \n\ntags: \n    - base \n    - architect  \n    - Design \n    - pattern \n    \ncategories: \n    - Base \n    \ndate: 2018-08-028 13:00:00\n---\n\n当朝大学士，总共有3位，朕不得不罢免4位 \n别看你们一个个站在干岸上，设计模式你们还记得多少吗--  \n<!-- more -->\n\n# 简单工厂模式|Simple factory\n\n## 面向对象\n\n### 活字印刷\n例子++\n\n1.可维护；【只改需改之字】  \n2.可复用；  \n3.可扩展；【可加字】  \n4.灵活性；【横排换竖排】  \n\n### 好处\n通过封装、继承、多态将程序的耦合性降低  \n设计模式使得其更加灵活，容易修改且易于复用  \n\n### 业务封装\n火星车程序的分离  \n将客户端和服务端分离  \n\n题目：  \n一队机器人漫游车将被美国宇航局降落在火星高原上。\n漫游车将在这个奇怪的长方形高原上巡游，\n以便他们的机载摄像头可以获得周围地形的完整视图，并将其发送回地球。\n漫游者的坐标和位置由x和y坐标的组合以及代表四个方向（E, S, W, N）的字母表示。\n高原划分为网格以简化导航。比如位置0，0，N，表示漫游车位于左下角并面向北。\n为了控制漫游车，美国宇航局发送一串简单的字母。\n指令字母是'L'，'R'和'M'。 'L'和'R'使漫游车分别向左或向右旋转90度，而不会从当前地点移动。\n'M'表示前进一个网格点，并保持相同的方向。\n假设从（x，y）直接向北移动，就到了（x，y + 1）。\n\nINPUT：  \n第一行输入是平台的右上角坐标，左下角坐标被假定为0,0。\n其余的输入是有关已部署的漫游车的信息。每个漫游车都有两行输入。\n第一行给出了漫游车的位置，第二行是告诉漫游车如何探索高原的一系列指令。\n位置由两个整数和一个由空格分隔的字母组成，对应于x和y坐标以及漫游车当前的方向。\n每个漫游车将按顺序完成，这意味着第二个漫游车在第一个漫游车完成移动之前不会开始移动。\n\nOUTPUT:  \n每个漫游车的输出应该是其最终的坐标和位置。\n输入输出例子:  \nIN:  \n5 5  \n1 2 N  \nLMLMLMLMM  \n3 3 E  \nMMRMMRMRRM  \n\nOUT：  \n1 3 N  \n5 1 E  \n\n#### 服务端封装\n```\n    class Rover constructor(var x:Long, var y:Long, var z:String){\n    \n        val rangez= arrayListOf(\"e\",\"s\",\"w\",\"n\")\n        val rangeZ= arrayListOf(\"E\",\"S\",\"W\",\"N\")\n    \n        fun numL(z:Int)=if (z==0) 3 else z-1\n        fun numR(z:Int)=if (z==3) 0 else z+1\n    \n        fun doL(){\n            val i1=rangeZ.indexOf(z)\n            val i2=rangez.indexOf(z)\n            val i= intArrayOf(i1,i2).max()\n            val ii=numL(i!!)\n            z=rangeZ[ii]\n        }\n    \n        fun doR(){\n            val i1=rangeZ.indexOf(z)\n            val i2=rangez.indexOf(z)\n            val i= intArrayOf(i1,i2).max()\n            val ii=numR(i!!)\n            z=rangeZ[ii]\n        }\n    \n        fun doM(){\n            when(z){\n                \"E\" ->  x++\n                \"S\" ->  y--\n                \"W\" ->  x--\n                \"N\" ->  y++\n            }\n        }\n    }\n```\n#### 操作界面封装\n```\n    val Rovers= MutableList(0,{ Rover(1, 1, \"N\") })\n    val sc = Scanner(System.`in`)\n    \n    var boderX=0L\n    var boderY=0L\n    val rangeZ= arrayListOf(\"E\",\"S\",\"W\",\"N\")\n    \n    fun InputSize(){\n        println(\"please input map size:'x y'\")\n        val mapSize = sc.nextLine()\n        WashSize(mapSize)\n    }\n    fun RoverSet(){\n        InputLocation()\n        InputCommand()\n    }\n    fun InputLocation(){\n        println(\"please input io.hongxi.simpleFactory.encapsulation.Rover's location:'x y z',example:'1 1 N','2 2 W'..  z in ['E','S','W','N']\")\n        val location = sc.nextLine()\n        WashLocation(location)\n    }\n    fun InputCommand(){\n        println(\"please input command,example:'LMLMLMLMM'..  char in ['L','R','M']\")\n        val command = sc.nextLine()\n        for (cmd in command)\n            when(cmd){\n                'l' -> Rovers.last().doL()\n                'L' -> Rovers.last().doL()\n                'r' -> Rovers.last().doR()\n                'R' -> Rovers.last().doR()\n                'm' -> Rovers.last().doM()\n                'M' -> Rovers.last().doM()\n            }\n    \n        println(\"enter to add rovers more,else input 'end' to end\")\n        val cmd = sc.nextLine()\n        if (cmd==\"END\"|| cmd==\"end\"){\n            doResult()\n            return\n        }else\n            RoverSet()\n    }\n    \n    fun WashSize(mapSize:String){\n    \n        val list=mapSize.split(' ').toMutableList()\n        list.removeAll(Array(99,{\"\"}))\n    \n        if (list.size!=2){\n            System.err.println(\"wrong input,please input again:'x y'\")\n            InputSize()\n            return\n        }\n        try {\n            boderX =list[0].toLong()\n            boderY =list[1].toLong()\n        } catch (e:Exception){\n            System.err.println(\"wrong input,please input again:'x y'\")\n            InputSize()\n            return\n        }\n        if (boderX <1 || boderY <1){\n            System.err.println(\"wrong input,please input again:'x y'\")\n            InputSize()\n            return\n        }\n    \n        println(\"mapSize=$list\")\n        RoverSet()\n    }\n    fun WashLocation(location:String){\n        val list=location.split(' ').toMutableList()\n        list.removeAll(Array(99,{\"\"}))\n    \n        val x:Long\n        val y:Long\n        val z:String\n        if (list.size!=3){\n            System.err.println(\"wrong input,please input again:'x y z',example:'1 1 N','2 2 W'..  z in ['E','S','W','N']\")\n            InputLocation()\n            return\n        }\n        try {\n            x=list[0].toLong()\n            y=list[1].toLong()\n            z=list[2]\n        } catch (e:Exception){\n            System.err.println(\"wrong input,please input again:'x y z',example:'1 1 N','2 2 W'..  z in ['E','S','W','N']\")\n            InputLocation()\n            return\n        }\n        if (x !in 0..boderX || y !in 0..boderY || z !in rangeZ){\n            System.err.println(\"wrong input,please make x in 0..$boderX, y in 0..$boderY and z in ['E','S','W','N']\")\n            InputLocation()\n            return\n        }\n    \n        Rovers.add(Rover(x, y, z))\n    }\n    \n    fun doResult(){\n        for (rover in Rovers)\n            println(\"${rover.x} ${rover.y} ${rover.z}\")\n    }\n    \n    \n    fun main(args: Array<String>) {\n        InputSize()\n        /**\n        Input\n        5 5\n        1 2 N\n        LMLMLMLMM\n        3 3 E\n        MMRMMRMRRM\n        OutPut：\n        1 3 N\n        5 1 E*/\n    } \n```\n\n### 简单工厂模式封装\n```\n    interface Do{\n    \n        var x:Int\n        var y:Int\n        var z:Char\n    \n        fun numL(z:Int):Int\n        fun numR(z:Int):Int\n    \n        val rangeZ:List<Char>\n        fun DoResult(): Rover\n    }\n    \n    data class DoL(override var x:Int,\n                    override var y:Int,\n                    override var z:Char) :Do{\n    \n        override fun numL(z:Int)=if (z==0) 3 else z-1\n        override fun numR(z:Int)=if (z==3) 0 else z+1\n    \n        override val rangeZ=arrayListOf('E','S','W','N')\n        override fun DoResult(): Rover {\n    \n            val i=rangeZ.indexOf(z)\n            val ii=numL(i)\n            z=rangeZ[ii]\n            return Rover(x,y,z)\n        }\n    }\n    \n    data class DoM(override var x:Int,\n              override var y:Int,\n              override var z:Char) :Do{\n    \n        override fun numL(z:Int)=if (z==0) 3 else z-1\n        override fun numR(z:Int)=if (z==3) 0 else z+1\n    \n        override val rangeZ=arrayListOf('E','S','W','N')\n    \n        override fun DoResult(): Rover {\n            when(z){\n                'E' ->  x++\n                'S' ->  y--\n                'W' ->  x--\n                'N' ->  y++\n            }\n            return Rover(x,y,z)\n        }\n    }\n    \n    class DoR(override var x:Int,\n              override var y:Int,\n              override var z:Char) :Do{\n    \n        override fun numL(z:Int)=if (z==0) 3 else z-1\n        override fun numR(z:Int)=if (z==3) 0 else z+1\n    \n        override val rangeZ=arrayListOf('E','S','W','N')\n    \n        override fun DoResult(): Rover {\n    \n            val i=rangeZ.indexOf(z)\n            val ii=numR(i)\n            z=rangeZ[ii]\n            return Rover(x,y,z)\n        }\n    }\n```\n\n### 松紧耦合\n紧耦合：  \nRover对象的L,R,M方法写在一起，需求改变时需要需直接改变方法  \n松耦合：  \n解耦函数架构，将每个方法抽象成功能类\n\n### UML类图\n分三层  \n1.类名(抽象类用斜体)  \n2.字段属性  \n3.方法行为  \n\n\n\n# 策略模式|Strategy Mode\n商场收银系统   \n### 简单工厂实现\n现金收费对象下有多个实现子类\n```\n    class 收费对象{\n        fun 收费(money:Money)=money\n    }\n    \n    class 正常收费：收费对象{\n        override fun 收费(money:Money)=money\n    }\n    \n    class 折扣收费(折扣倍率：折扣)：收费对象{\n        override fun 收费(money:Money)=money*折扣倍率\n    }\n    \n    class 返利收费(返利条件，返利值)：收费对象{\n        override fun 收费(money:Money){\n            if(返利条件) money-=返利值\n            return money\n        }\n    }\n    \n    Object  收费工厂{\n        \n        fun 收费对象生成(type):收费对象{\n            \n            when(type){\n                \"正常收费\"  -> return 正常收费()\n                \"折扣收费\"  -> return 折扣收费(折扣倍率)\n                \"返利收费\"  -> return 返利收费(返利条件，返利值)\n            }\n        }\n    }\n```\n### 策略模式\n定义了算法家族，将其分别封装，之间可相互替换，不影响算法使用者  \n将上面的收费对象定义为接口即可，在需要的时候继承再new生成创建对象实例  \n策略者模式将所有算法封装在接口中，调用时取用其子类生成的实例  \n\n### 说明\n优点：  \n策略类层配合Const常量定义了可重用的方法，助于析取公共方法  \n简化单元测试\n\n\n\n# 单一职责原则|SRP\n就一个类而言，应该仅有一个引起它变化的原因  \n如果一个类承担的之策过多，等于将这些职责耦合再一起，\n单个职责变化会削弱或抑制这个类完成其他职责的能力。\n该种耦合会导致设计脆弱，甚至产生意外破坏(ASD);  \n\n# 开放-封闭原则\n对扩展开放(Open for extension)    \n对更改封闭(Closed for modification)  \n要对频繁变化的模块进行抽象，但全部抽象也不好  \n\n# 依赖倒转原则\n强内聚，松耦合  \n抽象不应依赖细节，细节应依赖于抽象  \n针对接口编程，不要对实现编程\nA.高层模块不应该依赖低层模块，两个都应该依赖抽象  \nB.抽象不应该依赖细节。细节应该依赖抽象。\n\n里氏代换原则  —>  \n一个软件实体如果使用的是一个父类，那么一定适用于其子类，而软件无法察觉其变化。  \n里氏代换原则(LSP)：子类型必须能够替换掉它们的父类型[ASD]。  \n由于子类型的可替换性才使得父类的模块再无需修改时就可扩展。  \n\n依赖倒转是面向对象设计的标志，如果编写时考虑的是如何针对抽象编程而不是针对编程细节，\n即程序中的依赖关系都是终于抽象类和接口，那就是面向对象设计，反之为过程化的设计。  \n\n\n\n# 装饰模式|Decoration mode\n动态的给一个对象添加一些额外的职责  \n//比生成子类更灵活  \n\n通过继承原始类，覆写部分功能来实现\n\nComponent类\n```\n    abstract class ComPonent{\n        public abstract void Operation();\n    }\n```\nConcreteComponent 类\n```\n    class ConcreteComponent:Component{\n        public override void Operation(){\n            Console.WriteLine(\"具体操作\")\n        }\n    }\n```\nDecorator 类\n```\n    abstract class Decorator:Component{\n        \n        protected Compenent component;\n        public void SetComponent(Compenent component){\n            this.component=component;\n        }\n        public override void Operation(){\n            if(component!=null)\n            component.Operation();//实际执行我们放入的component的operation\n        }\n    }\n```\n\nConcreteDecoratorA-装饰实体类\n```\n    class ConcreteSecoratorA:Decorator{\n        \n        private String addedState;          //该类独有功能，不同于ConcreteSecoratorB\n        public override void Operation(){\n            base.Operation();               //先执行原component的operation,再执行本类的功能\n            addedState= \"new star\";\n            Console.WriteLine(\"装饰对象A操作\");\n        }\n    }\n```\n\n### 说明\n装饰模式是为已有功能动态添加更多功能的方式。  \n每个装饰的功能再单独的类中，并包装了他所装饰的对象，可自由处理。\n\n\n# 代理模式 | proxy\n代理接口\n```\n    intface GiveGift{\n        fun GiveDolls()\n        fun GiveFlowers()\n        fun GiveChocolate()\n    }\n```\n\n追求者类\n```\n    class Pursuit(val girls: Girl):GiveGift { \n        override fun GiveDolls() = println(\"${girls.name}  送你洋娃娃\")\n        override fun GiveFlowers()= println(\"${girls.name}  送你洋鲜花\")\n        override fun GiveChocolate() = println(\"${girls.name}  送你巧克力\")\n    }\n```\n\n代理类\n```\n    class Proxy(girl: Girl):GiveGift {\n        val gg=Pursuit(girl)\n        override fun GiveDolls()=gg.GiveDolls()\n        override fun GiveFlowers() =gg.GiveFlowers()\n        override fun GiveChocolate()=gg.GiveChocolate()\n    }\n```\n\n实现\n```\n    class Proxy(girl: Girl):GiveGift {\n        val gg=Pursuit(girl)\n        override fun GiveDolls()=gg.GiveDolls()\n        override fun GiveFlowers() =gg.GiveFlowers()\n        override fun GiveChocolate()=gg.GiveChocolate()\n    }\n```\n阿珍不认识追她的人，但是通过代理拿到了礼物\n\n## 说明\n代理模式为其他对象提供了一种代理以控制这个对象的访问\n\n## 应用\n1.远程代理：为一个对象再不同地址空间提供局部代表。\n同时隐藏一个对象存在不同地址空间的事实。  \n2.虚拟代理：按需创建大开销对象，来预缓存真实对象。(如预加载缓存框)  \n3.安全代理：控制真实对象访问时权限。\n4.智能指引：调用当前实例对象时，同时代理处理一些别的事。\n\n\n\n# 工厂方法\n## 简单工厂VS工厂方法\n简单工厂下的计算器实现\n![avatar](base_03_DesignPattern/计算器的简单工厂结构.png)\n\n工厂方法下的计算器实现\n![avatar](base_03_DesignPattern/计算器的工厂方法结构.png)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n","slug":"base/base_03_DesignPattern","published":1,"updated":"2018-09-06T13:11:43.180Z","_id":"cjlqd22ax00004gehpmn08gl8","comments":1,"layout":"post","photos":[],"link":"","content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"\\assets\\css\\APlayer.min.css\"><script src=\"\\assets\\js\\APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><p>当朝大学士，总共有3位，朕不得不罢免4位 \n别看你们一个个站在干岸上，设计模式你们还记得多少吗–<br><a id=\"more\"></a></p>\n<h1 id=\"简单工厂模式-Simple-factory\"><a href=\"#简单工厂模式-Simple-factory\" class=\"headerlink\" title=\"简单工厂模式|Simple factory\"></a>简单工厂模式|Simple factory</h1><h2 id=\"面向对象\"><a href=\"#面向对象\" class=\"headerlink\" title=\"面向对象\"></a>面向对象</h2><h3 id=\"活字印刷\"><a href=\"#活字印刷\" class=\"headerlink\" title=\"活字印刷\"></a>活字印刷</h3><p>例子++</p>\n<p>1.可维护；【只改需改之字】<br>2.可复用；<br>3.可扩展；【可加字】<br>4.灵活性；【横排换竖排】  </p>\n<h3 id=\"好处\"><a href=\"#好处\" class=\"headerlink\" title=\"好处\"></a>好处</h3><p>通过封装、继承、多态将程序的耦合性降低<br>设计模式使得其更加灵活，容易修改且易于复用  </p>\n<h3 id=\"业务封装\"><a href=\"#业务封装\" class=\"headerlink\" title=\"业务封装\"></a>业务封装</h3><p>火星车程序的分离<br>将客户端和服务端分离  </p>\n<p>题目：<br>一队机器人漫游车将被美国宇航局降落在火星高原上。\n漫游车将在这个奇怪的长方形高原上巡游，\n以便他们的机载摄像头可以获得周围地形的完整视图，并将其发送回地球。\n漫游者的坐标和位置由x和y坐标的组合以及代表四个方向（E, S, W, N）的字母表示。\n高原划分为网格以简化导航。比如位置0，0，N，表示漫游车位于左下角并面向北。\n为了控制漫游车，美国宇航局发送一串简单的字母。\n指令字母是’L’，’R’和’M’。 ‘L’和’R’使漫游车分别向左或向右旋转90度，而不会从当前地点移动。\n‘M’表示前进一个网格点，并保持相同的方向。\n假设从（x，y）直接向北移动，就到了（x，y + 1）。</p>\n<p>INPUT：<br>第一行输入是平台的右上角坐标，左下角坐标被假定为0,0。\n其余的输入是有关已部署的漫游车的信息。每个漫游车都有两行输入。\n第一行给出了漫游车的位置，第二行是告诉漫游车如何探索高原的一系列指令。\n位置由两个整数和一个由空格分隔的字母组成，对应于x和y坐标以及漫游车当前的方向。\n每个漫游车将按顺序完成，这意味着第二个漫游车在第一个漫游车完成移动之前不会开始移动。</p>\n<p>OUTPUT:<br>每个漫游车的输出应该是其最终的坐标和位置。\n输入输出例子:<br>IN:<br>5 5<br>1 2 N<br>LMLMLMLMM<br>3 3 E<br>MMRMMRMRRM  </p>\n<p>OUT：<br>1 3 N<br>5 1 E  </p>\n<h4 id=\"服务端封装\"><a href=\"#服务端封装\" class=\"headerlink\" title=\"服务端封装\"></a>服务端封装</h4><figure class=\"highlight kotlin\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Rover</span> <span class=\"keyword\">constructor</span></span>(<span class=\"keyword\">var</span> x:<span class=\"built_in\">Long</span>, <span class=\"keyword\">var</span> y:<span class=\"built_in\">Long</span>, <span class=\"keyword\">var</span> z:String)&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">val</span> rangez= arrayListOf(<span class=\"string\">\"e\"</span>,<span class=\"string\">\"s\"</span>,<span class=\"string\">\"w\"</span>,<span class=\"string\">\"n\"</span>)</span><br><span class=\"line\">    <span class=\"keyword\">val</span> rangeZ= arrayListOf(<span class=\"string\">\"E\"</span>,<span class=\"string\">\"S\"</span>,<span class=\"string\">\"W\"</span>,<span class=\"string\">\"N\"</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">fun</span> <span class=\"title\">numL</span><span class=\"params\">(z:<span class=\"type\">Int</span>)</span></span>=<span class=\"keyword\">if</span> (z==<span class=\"number\">0</span>) <span class=\"number\">3</span> <span class=\"keyword\">else</span> z<span class=\"number\">-1</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">fun</span> <span class=\"title\">numR</span><span class=\"params\">(z:<span class=\"type\">Int</span>)</span></span>=<span class=\"keyword\">if</span> (z==<span class=\"number\">3</span>) <span class=\"number\">0</span> <span class=\"keyword\">else</span> z+<span class=\"number\">1</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">fun</span> <span class=\"title\">doL</span><span class=\"params\">()</span></span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">val</span> i1=rangeZ.indexOf(z)</span><br><span class=\"line\">        <span class=\"keyword\">val</span> i2=rangez.indexOf(z)</span><br><span class=\"line\">        <span class=\"keyword\">val</span> i= intArrayOf(i1,i2).max()</span><br><span class=\"line\">        <span class=\"keyword\">val</span> ii=numL(i!!)</span><br><span class=\"line\">        z=rangeZ[ii]</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">fun</span> <span class=\"title\">doR</span><span class=\"params\">()</span></span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">val</span> i1=rangeZ.indexOf(z)</span><br><span class=\"line\">        <span class=\"keyword\">val</span> i2=rangez.indexOf(z)</span><br><span class=\"line\">        <span class=\"keyword\">val</span> i= intArrayOf(i1,i2).max()</span><br><span class=\"line\">        <span class=\"keyword\">val</span> ii=numR(i!!)</span><br><span class=\"line\">        z=rangeZ[ii]</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">fun</span> <span class=\"title\">doM</span><span class=\"params\">()</span></span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">when</span>(z)&#123;</span><br><span class=\"line\">            <span class=\"string\">\"E\"</span> -&gt;  x++</span><br><span class=\"line\">            <span class=\"string\">\"S\"</span> -&gt;  y--</span><br><span class=\"line\">            <span class=\"string\">\"W\"</span> -&gt;  x--</span><br><span class=\"line\">            <span class=\"string\">\"N\"</span> -&gt;  y++</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"操作界面封装\"><a href=\"#操作界面封装\" class=\"headerlink\" title=\"操作界面封装\"></a>操作界面封装</h4><figure class=\"highlight kotlin\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">val</span> Rovers= MutableList(<span class=\"number\">0</span>,&#123; Rover(<span class=\"number\">1</span>, <span class=\"number\">1</span>, <span class=\"string\">\"N\"</span>) &#125;)</span><br><span class=\"line\"><span class=\"keyword\">val</span> sc = Scanner(System.`<span class=\"keyword\">in</span>`)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> boderX=<span class=\"number\">0</span>L</span><br><span class=\"line\"><span class=\"keyword\">var</span> boderY=<span class=\"number\">0</span>L</span><br><span class=\"line\"><span class=\"keyword\">val</span> rangeZ= arrayListOf(<span class=\"string\">\"E\"</span>,<span class=\"string\">\"S\"</span>,<span class=\"string\">\"W\"</span>,<span class=\"string\">\"N\"</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">fun</span> <span class=\"title\">InputSize</span><span class=\"params\">()</span></span>&#123;</span><br><span class=\"line\">    println(<span class=\"string\">\"please input map size:'x y'\"</span>)</span><br><span class=\"line\">    <span class=\"keyword\">val</span> mapSize = sc.nextLine()</span><br><span class=\"line\">    WashSize(mapSize)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">fun</span> <span class=\"title\">RoverSet</span><span class=\"params\">()</span></span>&#123;</span><br><span class=\"line\">    InputLocation()</span><br><span class=\"line\">    InputCommand()</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">fun</span> <span class=\"title\">InputLocation</span><span class=\"params\">()</span></span>&#123;</span><br><span class=\"line\">    println(<span class=\"string\">\"please input io.hongxi.simpleFactory.encapsulation.Rover's location:'x y z',example:'1 1 N','2 2 W'..  z in ['E','S','W','N']\"</span>)</span><br><span class=\"line\">    <span class=\"keyword\">val</span> location = sc.nextLine()</span><br><span class=\"line\">    WashLocation(location)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">fun</span> <span class=\"title\">InputCommand</span><span class=\"params\">()</span></span>&#123;</span><br><span class=\"line\">    println(<span class=\"string\">\"please input command,example:'LMLMLMLMM'..  char in ['L','R','M']\"</span>)</span><br><span class=\"line\">    <span class=\"keyword\">val</span> command = sc.nextLine()</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (cmd <span class=\"keyword\">in</span> command)</span><br><span class=\"line\">        <span class=\"keyword\">when</span>(cmd)&#123;</span><br><span class=\"line\">            <span class=\"string\">'l'</span> -&gt; Rovers.last().doL()</span><br><span class=\"line\">            <span class=\"string\">'L'</span> -&gt; Rovers.last().doL()</span><br><span class=\"line\">            <span class=\"string\">'r'</span> -&gt; Rovers.last().doR()</span><br><span class=\"line\">            <span class=\"string\">'R'</span> -&gt; Rovers.last().doR()</span><br><span class=\"line\">            <span class=\"string\">'m'</span> -&gt; Rovers.last().doM()</span><br><span class=\"line\">            <span class=\"string\">'M'</span> -&gt; Rovers.last().doM()</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    println(<span class=\"string\">\"enter to add rovers more,else input 'end' to end\"</span>)</span><br><span class=\"line\">    <span class=\"keyword\">val</span> cmd = sc.nextLine()</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (cmd==<span class=\"string\">\"END\"</span>|| cmd==<span class=\"string\">\"end\"</span>)&#123;</span><br><span class=\"line\">        doResult()</span><br><span class=\"line\">        <span class=\"keyword\">return</span></span><br><span class=\"line\">    &#125;<span class=\"keyword\">else</span></span><br><span class=\"line\">        RoverSet()</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">fun</span> <span class=\"title\">WashSize</span><span class=\"params\">(mapSize:<span class=\"type\">String</span>)</span></span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">val</span> list=mapSize.split(<span class=\"string\">' '</span>).toMutableList()</span><br><span class=\"line\">    list.removeAll(Array(<span class=\"number\">99</span>,&#123;<span class=\"string\">\"\"</span>&#125;))</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (list.size!=<span class=\"number\">2</span>)&#123;</span><br><span class=\"line\">        System.err.println(<span class=\"string\">\"wrong input,please input again:'x y'\"</span>)</span><br><span class=\"line\">        InputSize()</span><br><span class=\"line\">        <span class=\"keyword\">return</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">        boderX =list[<span class=\"number\">0</span>].toLong()</span><br><span class=\"line\">        boderY =list[<span class=\"number\">1</span>].toLong()</span><br><span class=\"line\">    &#125; <span class=\"keyword\">catch</span> (e:Exception)&#123;</span><br><span class=\"line\">        System.err.println(<span class=\"string\">\"wrong input,please input again:'x y'\"</span>)</span><br><span class=\"line\">        InputSize()</span><br><span class=\"line\">        <span class=\"keyword\">return</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (boderX &lt;<span class=\"number\">1</span> || boderY &lt;<span class=\"number\">1</span>)&#123;</span><br><span class=\"line\">        System.err.println(<span class=\"string\">\"wrong input,please input again:'x y'\"</span>)</span><br><span class=\"line\">        InputSize()</span><br><span class=\"line\">        <span class=\"keyword\">return</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    println(<span class=\"string\">\"mapSize=<span class=\"variable\">$list</span>\"</span>)</span><br><span class=\"line\">    RoverSet()</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">fun</span> <span class=\"title\">WashLocation</span><span class=\"params\">(location:<span class=\"type\">String</span>)</span></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">val</span> list=location.split(<span class=\"string\">' '</span>).toMutableList()</span><br><span class=\"line\">    list.removeAll(Array(<span class=\"number\">99</span>,&#123;<span class=\"string\">\"\"</span>&#125;))</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">val</span> x:<span class=\"built_in\">Long</span></span><br><span class=\"line\">    <span class=\"keyword\">val</span> y:<span class=\"built_in\">Long</span></span><br><span class=\"line\">    <span class=\"keyword\">val</span> z:String</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (list.size!=<span class=\"number\">3</span>)&#123;</span><br><span class=\"line\">        System.err.println(<span class=\"string\">\"wrong input,please input again:'x y z',example:'1 1 N','2 2 W'..  z in ['E','S','W','N']\"</span>)</span><br><span class=\"line\">        InputLocation()</span><br><span class=\"line\">        <span class=\"keyword\">return</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">        x=list[<span class=\"number\">0</span>].toLong()</span><br><span class=\"line\">        y=list[<span class=\"number\">1</span>].toLong()</span><br><span class=\"line\">        z=list[<span class=\"number\">2</span>]</span><br><span class=\"line\">    &#125; <span class=\"keyword\">catch</span> (e:Exception)&#123;</span><br><span class=\"line\">        System.err.println(<span class=\"string\">\"wrong input,please input again:'x y z',example:'1 1 N','2 2 W'..  z in ['E','S','W','N']\"</span>)</span><br><span class=\"line\">        InputLocation()</span><br><span class=\"line\">        <span class=\"keyword\">return</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (x !<span class=\"keyword\">in</span> <span class=\"number\">0.</span>.boderX || y !<span class=\"keyword\">in</span> <span class=\"number\">0.</span>.boderY || z !<span class=\"keyword\">in</span> rangeZ)&#123;</span><br><span class=\"line\">        System.err.println(<span class=\"string\">\"wrong input,please make x in 0..<span class=\"variable\">$boderX</span>, y in 0..<span class=\"variable\">$boderY</span> and z in ['E','S','W','N']\"</span>)</span><br><span class=\"line\">        InputLocation()</span><br><span class=\"line\">        <span class=\"keyword\">return</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    Rovers.add(Rover(x, y, z))</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">fun</span> <span class=\"title\">doResult</span><span class=\"params\">()</span></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (rover <span class=\"keyword\">in</span> Rovers)</span><br><span class=\"line\">        println(<span class=\"string\">\"<span class=\"subst\">$&#123;rover.x&#125;</span> <span class=\"subst\">$&#123;rover.y&#125;</span> <span class=\"subst\">$&#123;rover.z&#125;</span>\"</span>)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">fun</span> <span class=\"title\">main</span><span class=\"params\">(args: <span class=\"type\">Array</span>&lt;<span class=\"type\">String</span>&gt;)</span></span> &#123;</span><br><span class=\"line\">    InputSize()</span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">    Input</span></span><br><span class=\"line\"><span class=\"comment\">    5 5</span></span><br><span class=\"line\"><span class=\"comment\">    1 2 N</span></span><br><span class=\"line\"><span class=\"comment\">    LMLMLMLMM</span></span><br><span class=\"line\"><span class=\"comment\">    3 3 E</span></span><br><span class=\"line\"><span class=\"comment\">    MMRMMRMRRM</span></span><br><span class=\"line\"><span class=\"comment\">    OutPut：</span></span><br><span class=\"line\"><span class=\"comment\">    1 3 N</span></span><br><span class=\"line\"><span class=\"comment\">    5 1 E*/</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"简单工厂模式封装\"><a href=\"#简单工厂模式封装\" class=\"headerlink\" title=\"简单工厂模式封装\"></a>简单工厂模式封装</h3><figure class=\"highlight kotlin\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">interface</span> <span class=\"title\">Do</span></span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">var</span> x:<span class=\"built_in\">Int</span></span><br><span class=\"line\">    <span class=\"keyword\">var</span> y:<span class=\"built_in\">Int</span></span><br><span class=\"line\">    <span class=\"keyword\">var</span> z:<span class=\"built_in\">Char</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">fun</span> <span class=\"title\">numL</span><span class=\"params\">(z:<span class=\"type\">Int</span>)</span></span>:<span class=\"built_in\">Int</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">fun</span> <span class=\"title\">numR</span><span class=\"params\">(z:<span class=\"type\">Int</span>)</span></span>:<span class=\"built_in\">Int</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">val</span> rangeZ:List&lt;<span class=\"built_in\">Char</span>&gt;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">fun</span> <span class=\"title\">DoResult</span><span class=\"params\">()</span></span>: Rover</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">data</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">DoL</span></span>(<span class=\"keyword\">override</span> <span class=\"keyword\">var</span> x:<span class=\"built_in\">Int</span>,</span><br><span class=\"line\">                <span class=\"keyword\">override</span> <span class=\"keyword\">var</span> y:<span class=\"built_in\">Int</span>,</span><br><span class=\"line\">                <span class=\"keyword\">override</span> <span class=\"keyword\">var</span> z:<span class=\"built_in\">Char</span>) :Do&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">override</span> <span class=\"function\"><span class=\"keyword\">fun</span> <span class=\"title\">numL</span><span class=\"params\">(z:<span class=\"type\">Int</span>)</span></span>=<span class=\"keyword\">if</span> (z==<span class=\"number\">0</span>) <span class=\"number\">3</span> <span class=\"keyword\">else</span> z<span class=\"number\">-1</span></span><br><span class=\"line\">    <span class=\"keyword\">override</span> <span class=\"function\"><span class=\"keyword\">fun</span> <span class=\"title\">numR</span><span class=\"params\">(z:<span class=\"type\">Int</span>)</span></span>=<span class=\"keyword\">if</span> (z==<span class=\"number\">3</span>) <span class=\"number\">0</span> <span class=\"keyword\">else</span> z+<span class=\"number\">1</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">override</span> <span class=\"keyword\">val</span> rangeZ=arrayListOf(<span class=\"string\">'E'</span>,<span class=\"string\">'S'</span>,<span class=\"string\">'W'</span>,<span class=\"string\">'N'</span>)</span><br><span class=\"line\">    <span class=\"keyword\">override</span> <span class=\"function\"><span class=\"keyword\">fun</span> <span class=\"title\">DoResult</span><span class=\"params\">()</span></span>: Rover &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">val</span> i=rangeZ.indexOf(z)</span><br><span class=\"line\">        <span class=\"keyword\">val</span> ii=numL(i)</span><br><span class=\"line\">        z=rangeZ[ii]</span><br><span class=\"line\">        <span class=\"keyword\">return</span> Rover(x,y,z)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">data</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">DoM</span></span>(<span class=\"keyword\">override</span> <span class=\"keyword\">var</span> x:<span class=\"built_in\">Int</span>,</span><br><span class=\"line\">          <span class=\"keyword\">override</span> <span class=\"keyword\">var</span> y:<span class=\"built_in\">Int</span>,</span><br><span class=\"line\">          <span class=\"keyword\">override</span> <span class=\"keyword\">var</span> z:<span class=\"built_in\">Char</span>) :Do&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">override</span> <span class=\"function\"><span class=\"keyword\">fun</span> <span class=\"title\">numL</span><span class=\"params\">(z:<span class=\"type\">Int</span>)</span></span>=<span class=\"keyword\">if</span> (z==<span class=\"number\">0</span>) <span class=\"number\">3</span> <span class=\"keyword\">else</span> z<span class=\"number\">-1</span></span><br><span class=\"line\">    <span class=\"keyword\">override</span> <span class=\"function\"><span class=\"keyword\">fun</span> <span class=\"title\">numR</span><span class=\"params\">(z:<span class=\"type\">Int</span>)</span></span>=<span class=\"keyword\">if</span> (z==<span class=\"number\">3</span>) <span class=\"number\">0</span> <span class=\"keyword\">else</span> z+<span class=\"number\">1</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">override</span> <span class=\"keyword\">val</span> rangeZ=arrayListOf(<span class=\"string\">'E'</span>,<span class=\"string\">'S'</span>,<span class=\"string\">'W'</span>,<span class=\"string\">'N'</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">override</span> <span class=\"function\"><span class=\"keyword\">fun</span> <span class=\"title\">DoResult</span><span class=\"params\">()</span></span>: Rover &#123;</span><br><span class=\"line\">        <span class=\"keyword\">when</span>(z)&#123;</span><br><span class=\"line\">            <span class=\"string\">'E'</span> -&gt;  x++</span><br><span class=\"line\">            <span class=\"string\">'S'</span> -&gt;  y--</span><br><span class=\"line\">            <span class=\"string\">'W'</span> -&gt;  x--</span><br><span class=\"line\">            <span class=\"string\">'N'</span> -&gt;  y++</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> Rover(x,y,z)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">DoR</span></span>(<span class=\"keyword\">override</span> <span class=\"keyword\">var</span> x:<span class=\"built_in\">Int</span>,</span><br><span class=\"line\">          <span class=\"keyword\">override</span> <span class=\"keyword\">var</span> y:<span class=\"built_in\">Int</span>,</span><br><span class=\"line\">          <span class=\"keyword\">override</span> <span class=\"keyword\">var</span> z:<span class=\"built_in\">Char</span>) :Do&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">override</span> <span class=\"function\"><span class=\"keyword\">fun</span> <span class=\"title\">numL</span><span class=\"params\">(z:<span class=\"type\">Int</span>)</span></span>=<span class=\"keyword\">if</span> (z==<span class=\"number\">0</span>) <span class=\"number\">3</span> <span class=\"keyword\">else</span> z<span class=\"number\">-1</span></span><br><span class=\"line\">    <span class=\"keyword\">override</span> <span class=\"function\"><span class=\"keyword\">fun</span> <span class=\"title\">numR</span><span class=\"params\">(z:<span class=\"type\">Int</span>)</span></span>=<span class=\"keyword\">if</span> (z==<span class=\"number\">3</span>) <span class=\"number\">0</span> <span class=\"keyword\">else</span> z+<span class=\"number\">1</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">override</span> <span class=\"keyword\">val</span> rangeZ=arrayListOf(<span class=\"string\">'E'</span>,<span class=\"string\">'S'</span>,<span class=\"string\">'W'</span>,<span class=\"string\">'N'</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">override</span> <span class=\"function\"><span class=\"keyword\">fun</span> <span class=\"title\">DoResult</span><span class=\"params\">()</span></span>: Rover &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">val</span> i=rangeZ.indexOf(z)</span><br><span class=\"line\">        <span class=\"keyword\">val</span> ii=numR(i)</span><br><span class=\"line\">        z=rangeZ[ii]</span><br><span class=\"line\">        <span class=\"keyword\">return</span> Rover(x,y,z)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"松紧耦合\"><a href=\"#松紧耦合\" class=\"headerlink\" title=\"松紧耦合\"></a>松紧耦合</h3><p>紧耦合：<br>Rover对象的L,R,M方法写在一起，需求改变时需要需直接改变方法<br>松耦合：<br>解耦函数架构，将每个方法抽象成功能类</p>\n<h3 id=\"UML类图\"><a href=\"#UML类图\" class=\"headerlink\" title=\"UML类图\"></a>UML类图</h3><p>分三层<br>1.类名(抽象类用斜体)<br>2.字段属性<br>3.方法行为  </p>\n<h1 id=\"策略模式-Strategy-Mode\"><a href=\"#策略模式-Strategy-Mode\" class=\"headerlink\" title=\"策略模式|Strategy Mode\"></a>策略模式|Strategy Mode</h1><p>商场收银系统   </p>\n<h3 id=\"简单工厂实现\"><a href=\"#简单工厂实现\" class=\"headerlink\" title=\"简单工厂实现\"></a>简单工厂实现</h3><p>现金收费对象下有多个实现子类\n<figure class=\"highlight kotlin\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> 收费对象</span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">fun</span> 收费<span class=\"params\">(money:<span class=\"type\">Money</span>)</span></span>=money</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> 正常收费：收费对象</span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">override</span> <span class=\"function\"><span class=\"keyword\">fun</span> 收费<span class=\"params\">(money:<span class=\"type\">Money</span>)</span></span>=money</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> 折扣收费</span>(折扣倍率：折扣)：收费对象&#123;</span><br><span class=\"line\">    <span class=\"keyword\">override</span> <span class=\"function\"><span class=\"keyword\">fun</span> 收费<span class=\"params\">(money:<span class=\"type\">Money</span>)</span></span>=money*折扣倍率</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> 返利收费</span>(返利条件，返利值)：收费对象&#123;</span><br><span class=\"line\">    <span class=\"keyword\">override</span> <span class=\"function\"><span class=\"keyword\">fun</span> 收费<span class=\"params\">(money:<span class=\"type\">Money</span>)</span></span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(返利条件) money-=返利值</span><br><span class=\"line\">        <span class=\"keyword\">return</span> money</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">Object  收费工厂&#123;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">fun</span> 收费对象生成<span class=\"params\">(type)</span></span>:收费对象&#123;</span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"keyword\">when</span>(type)&#123;</span><br><span class=\"line\">            <span class=\"string\">\"正常收费\"</span>  -&gt; <span class=\"keyword\">return</span> 正常收费()</span><br><span class=\"line\">            <span class=\"string\">\"折扣收费\"</span>  -&gt; <span class=\"keyword\">return</span> 折扣收费(折扣倍率)</span><br><span class=\"line\">            <span class=\"string\">\"返利收费\"</span>  -&gt; <span class=\"keyword\">return</span> 返利收费(返利条件，返利值)</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"策略模式\"><a href=\"#策略模式\" class=\"headerlink\" title=\"策略模式\"></a>策略模式</h3><p>定义了算法家族，将其分别封装，之间可相互替换，不影响算法使用者<br>将上面的收费对象定义为接口即可，在需要的时候继承再new生成创建对象实例<br>策略者模式将所有算法封装在接口中，调用时取用其子类生成的实例  </p>\n<h3 id=\"说明\"><a href=\"#说明\" class=\"headerlink\" title=\"说明\"></a>说明</h3><p>优点：<br>策略类层配合Const常量定义了可重用的方法，助于析取公共方法<br>简化单元测试</p>\n<h1 id=\"单一职责原则-SRP\"><a href=\"#单一职责原则-SRP\" class=\"headerlink\" title=\"单一职责原则|SRP\"></a>单一职责原则|SRP</h1><p>就一个类而言，应该仅有一个引起它变化的原因<br>如果一个类承担的之策过多，等于将这些职责耦合再一起，\n单个职责变化会削弱或抑制这个类完成其他职责的能力。\n该种耦合会导致设计脆弱，甚至产生意外破坏(ASD);  </p>\n<h1 id=\"开放-封闭原则\"><a href=\"#开放-封闭原则\" class=\"headerlink\" title=\"开放-封闭原则\"></a>开放-封闭原则</h1><p>对扩展开放(Open for extension)<br>对更改封闭(Closed for modification)<br>要对频繁变化的模块进行抽象，但全部抽象也不好  </p>\n<h1 id=\"依赖倒转原则\"><a href=\"#依赖倒转原则\" class=\"headerlink\" title=\"依赖倒转原则\"></a>依赖倒转原则</h1><p>强内聚，松耦合<br>抽象不应依赖细节，细节应依赖于抽象<br>针对接口编程，不要对实现编程\nA.高层模块不应该依赖低层模块，两个都应该依赖抽象<br>B.抽象不应该依赖细节。细节应该依赖抽象。</p>\n<p>里氏代换原则  —&gt;<br>一个软件实体如果使用的是一个父类，那么一定适用于其子类，而软件无法察觉其变化。<br>里氏代换原则(LSP)：子类型必须能够替换掉它们的父类型[ASD]。<br>由于子类型的可替换性才使得父类的模块再无需修改时就可扩展。  </p>\n<p>依赖倒转是面向对象设计的标志，如果编写时考虑的是如何针对抽象编程而不是针对编程细节，\n即程序中的依赖关系都是终于抽象类和接口，那就是面向对象设计，反之为过程化的设计。  </p>\n<h1 id=\"装饰模式-Decoration-mode\"><a href=\"#装饰模式-Decoration-mode\" class=\"headerlink\" title=\"装饰模式|Decoration mode\"></a>装饰模式|Decoration mode</h1><p>动态的给一个对象添加一些额外的职责<br>//比生成子类更灵活  </p>\n<p>通过继承原始类，覆写部分功能来实现</p>\n<p>Component类\n<figure class=\"highlight cs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">abstract</span> <span class=\"keyword\">class</span> <span class=\"title\">ComPonent</span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">abstract</span> <span class=\"keyword\">void</span> <span class=\"title\">Operation</span>(<span class=\"params\"></span>)</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>ConcreteComponent 类\n<figure class=\"highlight cs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title\">ConcreteComponent</span>:<span class=\"title\">Component</span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">override</span> <span class=\"keyword\">void</span> <span class=\"title\">Operation</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">        Console.WriteLine(<span class=\"string\">\"具体操作\"</span>)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>Decorator 类\n<figure class=\"highlight cs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">abstract</span> <span class=\"keyword\">class</span> <span class=\"title\">Decorator</span>:<span class=\"title\">Component</span>&#123;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">protected</span> Compenent component;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">SetComponent</span>(<span class=\"params\">Compenent component</span>)</span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.component=component;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">override</span> <span class=\"keyword\">void</span> <span class=\"title\">Operation</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(component!=<span class=\"literal\">null</span>)</span><br><span class=\"line\">        component.Operation();<span class=\"comment\">//实际执行我们放入的component的operation</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>ConcreteDecoratorA-装饰实体类\n<figure class=\"highlight cs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title\">ConcreteSecoratorA</span>:<span class=\"title\">Decorator</span>&#123;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">private</span> String addedState;          <span class=\"comment\">//该类独有功能，不同于ConcreteSecoratorB</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">override</span> <span class=\"keyword\">void</span> <span class=\"title\">Operation</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">base</span>.Operation();               <span class=\"comment\">//先执行原component的operation,再执行本类的功能</span></span><br><span class=\"line\">        addedState= <span class=\"string\">\"new star\"</span>;</span><br><span class=\"line\">        Console.WriteLine(<span class=\"string\">\"装饰对象A操作\"</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"说明-1\"><a href=\"#说明-1\" class=\"headerlink\" title=\"说明\"></a>说明</h3><p>装饰模式是为已有功能动态添加更多功能的方式。<br>每个装饰的功能再单独的类中，并包装了他所装饰的对象，可自由处理。</p>\n<h1 id=\"代理模式-proxy\"><a href=\"#代理模式-proxy\" class=\"headerlink\" title=\"代理模式 | proxy\"></a>代理模式 | proxy</h1><p>代理接口\n<figure class=\"highlight crystal\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">intface GiveGift&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">fun</span> <span class=\"title\">GiveDolls</span></span>()</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">fun</span> <span class=\"title\">GiveFlowers</span></span>()</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">fun</span> <span class=\"title\">GiveChocolate</span></span>()</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>追求者类\n<figure class=\"highlight kotlin\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Pursuit</span></span>(<span class=\"keyword\">val</span> girls: Girl):GiveGift &#123; </span><br><span class=\"line\">    <span class=\"keyword\">override</span> <span class=\"function\"><span class=\"keyword\">fun</span> <span class=\"title\">GiveDolls</span><span class=\"params\">()</span></span> = println(<span class=\"string\">\"<span class=\"subst\">$&#123;girls.name&#125;</span>  送你洋娃娃\"</span>)</span><br><span class=\"line\">    <span class=\"keyword\">override</span> <span class=\"function\"><span class=\"keyword\">fun</span> <span class=\"title\">GiveFlowers</span><span class=\"params\">()</span></span>= println(<span class=\"string\">\"<span class=\"subst\">$&#123;girls.name&#125;</span>  送你洋鲜花\"</span>)</span><br><span class=\"line\">    <span class=\"keyword\">override</span> <span class=\"function\"><span class=\"keyword\">fun</span> <span class=\"title\">GiveChocolate</span><span class=\"params\">()</span></span> = println(<span class=\"string\">\"<span class=\"subst\">$&#123;girls.name&#125;</span>  送你巧克力\"</span>)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>代理类\n<figure class=\"highlight kotlin\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Proxy</span></span>(girl: Girl):GiveGift &#123;</span><br><span class=\"line\">    <span class=\"keyword\">val</span> gg=Pursuit(girl)</span><br><span class=\"line\">    <span class=\"keyword\">override</span> <span class=\"function\"><span class=\"keyword\">fun</span> <span class=\"title\">GiveDolls</span><span class=\"params\">()</span></span>=gg.GiveDolls()</span><br><span class=\"line\">    <span class=\"keyword\">override</span> <span class=\"function\"><span class=\"keyword\">fun</span> <span class=\"title\">GiveFlowers</span><span class=\"params\">()</span></span> =gg.GiveFlowers()</span><br><span class=\"line\">    <span class=\"keyword\">override</span> <span class=\"function\"><span class=\"keyword\">fun</span> <span class=\"title\">GiveChocolate</span><span class=\"params\">()</span></span>=gg.GiveChocolate()</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>实现\n<figure class=\"highlight kotlin\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Proxy</span></span>(girl: Girl):GiveGift &#123;</span><br><span class=\"line\">    <span class=\"keyword\">val</span> gg=Pursuit(girl)</span><br><span class=\"line\">    <span class=\"keyword\">override</span> <span class=\"function\"><span class=\"keyword\">fun</span> <span class=\"title\">GiveDolls</span><span class=\"params\">()</span></span>=gg.GiveDolls()</span><br><span class=\"line\">    <span class=\"keyword\">override</span> <span class=\"function\"><span class=\"keyword\">fun</span> <span class=\"title\">GiveFlowers</span><span class=\"params\">()</span></span> =gg.GiveFlowers()</span><br><span class=\"line\">    <span class=\"keyword\">override</span> <span class=\"function\"><span class=\"keyword\">fun</span> <span class=\"title\">GiveChocolate</span><span class=\"params\">()</span></span>=gg.GiveChocolate()</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>阿珍不认识追她的人，但是通过代理拿到了礼物</p>\n<h2 id=\"说明-2\"><a href=\"#说明-2\" class=\"headerlink\" title=\"说明\"></a>说明</h2><p>代理模式为其他对象提供了一种代理以控制这个对象的访问</p>\n<h2 id=\"应用\"><a href=\"#应用\" class=\"headerlink\" title=\"应用\"></a>应用</h2><p>1.远程代理：为一个对象再不同地址空间提供局部代表。\n同时隐藏一个对象存在不同地址空间的事实。<br>2.虚拟代理：按需创建大开销对象，来预缓存真实对象。(如预加载缓存框)<br>3.安全代理：控制真实对象访问时权限。\n4.智能指引：调用当前实例对象时，同时代理处理一些别的事。</p>\n<h1 id=\"工厂方法\"><a href=\"#工厂方法\" class=\"headerlink\" title=\"工厂方法\"></a>工厂方法</h1><h2 id=\"简单工厂VS工厂方法\"><a href=\"#简单工厂VS工厂方法\" class=\"headerlink\" title=\"简单工厂VS工厂方法\"></a>简单工厂VS工厂方法</h2><p>简单工厂下的计算器实现\n<img src=\"/2018/08/28/base/base_03_DesignPattern/计算器的简单工厂结构.png\" alt=\"avatar\"></p>\n<p>工厂方法下的计算器实现\n<img src=\"/2018/08/28/base/base_03_DesignPattern/计算器的工厂方法结构.png\" alt=\"avatar\"></p>\n","site":{"data":{}},"excerpt":"<p>当朝大学士，总共有3位，朕不得不罢免4位 \n别看你们一个个站在干岸上，设计模式你们还记得多少吗–<br></p>","more":"<p></p>\n<h1 id=\"简单工厂模式-Simple-factory\"><a href=\"#简单工厂模式-Simple-factory\" class=\"headerlink\" title=\"简单工厂模式|Simple factory\"></a>简单工厂模式|Simple factory</h1><h2 id=\"面向对象\"><a href=\"#面向对象\" class=\"headerlink\" title=\"面向对象\"></a>面向对象</h2><h3 id=\"活字印刷\"><a href=\"#活字印刷\" class=\"headerlink\" title=\"活字印刷\"></a>活字印刷</h3><p>例子++</p>\n<p>1.可维护；【只改需改之字】<br>2.可复用；<br>3.可扩展；【可加字】<br>4.灵活性；【横排换竖排】  </p>\n<h3 id=\"好处\"><a href=\"#好处\" class=\"headerlink\" title=\"好处\"></a>好处</h3><p>通过封装、继承、多态将程序的耦合性降低<br>设计模式使得其更加灵活，容易修改且易于复用  </p>\n<h3 id=\"业务封装\"><a href=\"#业务封装\" class=\"headerlink\" title=\"业务封装\"></a>业务封装</h3><p>火星车程序的分离<br>将客户端和服务端分离  </p>\n<p>题目：<br>一队机器人漫游车将被美国宇航局降落在火星高原上。\n漫游车将在这个奇怪的长方形高原上巡游，\n以便他们的机载摄像头可以获得周围地形的完整视图，并将其发送回地球。\n漫游者的坐标和位置由x和y坐标的组合以及代表四个方向（E, S, W, N）的字母表示。\n高原划分为网格以简化导航。比如位置0，0，N，表示漫游车位于左下角并面向北。\n为了控制漫游车，美国宇航局发送一串简单的字母。\n指令字母是’L’，’R’和’M’。 ‘L’和’R’使漫游车分别向左或向右旋转90度，而不会从当前地点移动。\n‘M’表示前进一个网格点，并保持相同的方向。\n假设从（x，y）直接向北移动，就到了（x，y + 1）。</p>\n<p>INPUT：<br>第一行输入是平台的右上角坐标，左下角坐标被假定为0,0。\n其余的输入是有关已部署的漫游车的信息。每个漫游车都有两行输入。\n第一行给出了漫游车的位置，第二行是告诉漫游车如何探索高原的一系列指令。\n位置由两个整数和一个由空格分隔的字母组成，对应于x和y坐标以及漫游车当前的方向。\n每个漫游车将按顺序完成，这意味着第二个漫游车在第一个漫游车完成移动之前不会开始移动。</p>\n<p>OUTPUT:<br>每个漫游车的输出应该是其最终的坐标和位置。\n输入输出例子:<br>IN:<br>5 5<br>1 2 N<br>LMLMLMLMM<br>3 3 E<br>MMRMMRMRRM  </p>\n<p>OUT：<br>1 3 N<br>5 1 E  </p>\n<h4 id=\"服务端封装\"><a href=\"#服务端封装\" class=\"headerlink\" title=\"服务端封装\"></a>服务端封装</h4><figure class=\"highlight kotlin\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Rover</span> <span class=\"keyword\">constructor</span></span>(<span class=\"keyword\">var</span> x:<span class=\"built_in\">Long</span>, <span class=\"keyword\">var</span> y:<span class=\"built_in\">Long</span>, <span class=\"keyword\">var</span> z:String)&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">val</span> rangez= arrayListOf(<span class=\"string\">\"e\"</span>,<span class=\"string\">\"s\"</span>,<span class=\"string\">\"w\"</span>,<span class=\"string\">\"n\"</span>)</span><br><span class=\"line\">    <span class=\"keyword\">val</span> rangeZ= arrayListOf(<span class=\"string\">\"E\"</span>,<span class=\"string\">\"S\"</span>,<span class=\"string\">\"W\"</span>,<span class=\"string\">\"N\"</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">fun</span> <span class=\"title\">numL</span><span class=\"params\">(z:<span class=\"type\">Int</span>)</span></span>=<span class=\"keyword\">if</span> (z==<span class=\"number\">0</span>) <span class=\"number\">3</span> <span class=\"keyword\">else</span> z<span class=\"number\">-1</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">fun</span> <span class=\"title\">numR</span><span class=\"params\">(z:<span class=\"type\">Int</span>)</span></span>=<span class=\"keyword\">if</span> (z==<span class=\"number\">3</span>) <span class=\"number\">0</span> <span class=\"keyword\">else</span> z+<span class=\"number\">1</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">fun</span> <span class=\"title\">doL</span><span class=\"params\">()</span></span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">val</span> i1=rangeZ.indexOf(z)</span><br><span class=\"line\">        <span class=\"keyword\">val</span> i2=rangez.indexOf(z)</span><br><span class=\"line\">        <span class=\"keyword\">val</span> i= intArrayOf(i1,i2).max()</span><br><span class=\"line\">        <span class=\"keyword\">val</span> ii=numL(i!!)</span><br><span class=\"line\">        z=rangeZ[ii]</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">fun</span> <span class=\"title\">doR</span><span class=\"params\">()</span></span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">val</span> i1=rangeZ.indexOf(z)</span><br><span class=\"line\">        <span class=\"keyword\">val</span> i2=rangez.indexOf(z)</span><br><span class=\"line\">        <span class=\"keyword\">val</span> i= intArrayOf(i1,i2).max()</span><br><span class=\"line\">        <span class=\"keyword\">val</span> ii=numR(i!!)</span><br><span class=\"line\">        z=rangeZ[ii]</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">fun</span> <span class=\"title\">doM</span><span class=\"params\">()</span></span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">when</span>(z)&#123;</span><br><span class=\"line\">            <span class=\"string\">\"E\"</span> -&gt;  x++</span><br><span class=\"line\">            <span class=\"string\">\"S\"</span> -&gt;  y--</span><br><span class=\"line\">            <span class=\"string\">\"W\"</span> -&gt;  x--</span><br><span class=\"line\">            <span class=\"string\">\"N\"</span> -&gt;  y++</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"操作界面封装\"><a href=\"#操作界面封装\" class=\"headerlink\" title=\"操作界面封装\"></a>操作界面封装</h4><figure class=\"highlight kotlin\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">val</span> Rovers= MutableList(<span class=\"number\">0</span>,&#123; Rover(<span class=\"number\">1</span>, <span class=\"number\">1</span>, <span class=\"string\">\"N\"</span>) &#125;)</span><br><span class=\"line\"><span class=\"keyword\">val</span> sc = Scanner(System.`<span class=\"keyword\">in</span>`)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> boderX=<span class=\"number\">0</span>L</span><br><span class=\"line\"><span class=\"keyword\">var</span> boderY=<span class=\"number\">0</span>L</span><br><span class=\"line\"><span class=\"keyword\">val</span> rangeZ= arrayListOf(<span class=\"string\">\"E\"</span>,<span class=\"string\">\"S\"</span>,<span class=\"string\">\"W\"</span>,<span class=\"string\">\"N\"</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">fun</span> <span class=\"title\">InputSize</span><span class=\"params\">()</span></span>&#123;</span><br><span class=\"line\">    println(<span class=\"string\">\"please input map size:'x y'\"</span>)</span><br><span class=\"line\">    <span class=\"keyword\">val</span> mapSize = sc.nextLine()</span><br><span class=\"line\">    WashSize(mapSize)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">fun</span> <span class=\"title\">RoverSet</span><span class=\"params\">()</span></span>&#123;</span><br><span class=\"line\">    InputLocation()</span><br><span class=\"line\">    InputCommand()</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">fun</span> <span class=\"title\">InputLocation</span><span class=\"params\">()</span></span>&#123;</span><br><span class=\"line\">    println(<span class=\"string\">\"please input io.hongxi.simpleFactory.encapsulation.Rover's location:'x y z',example:'1 1 N','2 2 W'..  z in ['E','S','W','N']\"</span>)</span><br><span class=\"line\">    <span class=\"keyword\">val</span> location = sc.nextLine()</span><br><span class=\"line\">    WashLocation(location)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">fun</span> <span class=\"title\">InputCommand</span><span class=\"params\">()</span></span>&#123;</span><br><span class=\"line\">    println(<span class=\"string\">\"please input command,example:'LMLMLMLMM'..  char in ['L','R','M']\"</span>)</span><br><span class=\"line\">    <span class=\"keyword\">val</span> command = sc.nextLine()</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (cmd <span class=\"keyword\">in</span> command)</span><br><span class=\"line\">        <span class=\"keyword\">when</span>(cmd)&#123;</span><br><span class=\"line\">            <span class=\"string\">'l'</span> -&gt; Rovers.last().doL()</span><br><span class=\"line\">            <span class=\"string\">'L'</span> -&gt; Rovers.last().doL()</span><br><span class=\"line\">            <span class=\"string\">'r'</span> -&gt; Rovers.last().doR()</span><br><span class=\"line\">            <span class=\"string\">'R'</span> -&gt; Rovers.last().doR()</span><br><span class=\"line\">            <span class=\"string\">'m'</span> -&gt; Rovers.last().doM()</span><br><span class=\"line\">            <span class=\"string\">'M'</span> -&gt; Rovers.last().doM()</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    println(<span class=\"string\">\"enter to add rovers more,else input 'end' to end\"</span>)</span><br><span class=\"line\">    <span class=\"keyword\">val</span> cmd = sc.nextLine()</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (cmd==<span class=\"string\">\"END\"</span>|| cmd==<span class=\"string\">\"end\"</span>)&#123;</span><br><span class=\"line\">        doResult()</span><br><span class=\"line\">        <span class=\"keyword\">return</span></span><br><span class=\"line\">    &#125;<span class=\"keyword\">else</span></span><br><span class=\"line\">        RoverSet()</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">fun</span> <span class=\"title\">WashSize</span><span class=\"params\">(mapSize:<span class=\"type\">String</span>)</span></span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">val</span> list=mapSize.split(<span class=\"string\">' '</span>).toMutableList()</span><br><span class=\"line\">    list.removeAll(Array(<span class=\"number\">99</span>,&#123;<span class=\"string\">\"\"</span>&#125;))</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (list.size!=<span class=\"number\">2</span>)&#123;</span><br><span class=\"line\">        System.err.println(<span class=\"string\">\"wrong input,please input again:'x y'\"</span>)</span><br><span class=\"line\">        InputSize()</span><br><span class=\"line\">        <span class=\"keyword\">return</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">        boderX =list[<span class=\"number\">0</span>].toLong()</span><br><span class=\"line\">        boderY =list[<span class=\"number\">1</span>].toLong()</span><br><span class=\"line\">    &#125; <span class=\"keyword\">catch</span> (e:Exception)&#123;</span><br><span class=\"line\">        System.err.println(<span class=\"string\">\"wrong input,please input again:'x y'\"</span>)</span><br><span class=\"line\">        InputSize()</span><br><span class=\"line\">        <span class=\"keyword\">return</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (boderX &lt;<span class=\"number\">1</span> || boderY &lt;<span class=\"number\">1</span>)&#123;</span><br><span class=\"line\">        System.err.println(<span class=\"string\">\"wrong input,please input again:'x y'\"</span>)</span><br><span class=\"line\">        InputSize()</span><br><span class=\"line\">        <span class=\"keyword\">return</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    println(<span class=\"string\">\"mapSize=<span class=\"variable\">$list</span>\"</span>)</span><br><span class=\"line\">    RoverSet()</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">fun</span> <span class=\"title\">WashLocation</span><span class=\"params\">(location:<span class=\"type\">String</span>)</span></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">val</span> list=location.split(<span class=\"string\">' '</span>).toMutableList()</span><br><span class=\"line\">    list.removeAll(Array(<span class=\"number\">99</span>,&#123;<span class=\"string\">\"\"</span>&#125;))</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">val</span> x:<span class=\"built_in\">Long</span></span><br><span class=\"line\">    <span class=\"keyword\">val</span> y:<span class=\"built_in\">Long</span></span><br><span class=\"line\">    <span class=\"keyword\">val</span> z:String</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (list.size!=<span class=\"number\">3</span>)&#123;</span><br><span class=\"line\">        System.err.println(<span class=\"string\">\"wrong input,please input again:'x y z',example:'1 1 N','2 2 W'..  z in ['E','S','W','N']\"</span>)</span><br><span class=\"line\">        InputLocation()</span><br><span class=\"line\">        <span class=\"keyword\">return</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">        x=list[<span class=\"number\">0</span>].toLong()</span><br><span class=\"line\">        y=list[<span class=\"number\">1</span>].toLong()</span><br><span class=\"line\">        z=list[<span class=\"number\">2</span>]</span><br><span class=\"line\">    &#125; <span class=\"keyword\">catch</span> (e:Exception)&#123;</span><br><span class=\"line\">        System.err.println(<span class=\"string\">\"wrong input,please input again:'x y z',example:'1 1 N','2 2 W'..  z in ['E','S','W','N']\"</span>)</span><br><span class=\"line\">        InputLocation()</span><br><span class=\"line\">        <span class=\"keyword\">return</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (x !<span class=\"keyword\">in</span> <span class=\"number\">0.</span>.boderX || y !<span class=\"keyword\">in</span> <span class=\"number\">0.</span>.boderY || z !<span class=\"keyword\">in</span> rangeZ)&#123;</span><br><span class=\"line\">        System.err.println(<span class=\"string\">\"wrong input,please make x in 0..<span class=\"variable\">$boderX</span>, y in 0..<span class=\"variable\">$boderY</span> and z in ['E','S','W','N']\"</span>)</span><br><span class=\"line\">        InputLocation()</span><br><span class=\"line\">        <span class=\"keyword\">return</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    Rovers.add(Rover(x, y, z))</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">fun</span> <span class=\"title\">doResult</span><span class=\"params\">()</span></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (rover <span class=\"keyword\">in</span> Rovers)</span><br><span class=\"line\">        println(<span class=\"string\">\"<span class=\"subst\">$&#123;rover.x&#125;</span> <span class=\"subst\">$&#123;rover.y&#125;</span> <span class=\"subst\">$&#123;rover.z&#125;</span>\"</span>)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">fun</span> <span class=\"title\">main</span><span class=\"params\">(args: <span class=\"type\">Array</span>&lt;<span class=\"type\">String</span>&gt;)</span></span> &#123;</span><br><span class=\"line\">    InputSize()</span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">    Input</span></span><br><span class=\"line\"><span class=\"comment\">    5 5</span></span><br><span class=\"line\"><span class=\"comment\">    1 2 N</span></span><br><span class=\"line\"><span class=\"comment\">    LMLMLMLMM</span></span><br><span class=\"line\"><span class=\"comment\">    3 3 E</span></span><br><span class=\"line\"><span class=\"comment\">    MMRMMRMRRM</span></span><br><span class=\"line\"><span class=\"comment\">    OutPut：</span></span><br><span class=\"line\"><span class=\"comment\">    1 3 N</span></span><br><span class=\"line\"><span class=\"comment\">    5 1 E*/</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"简单工厂模式封装\"><a href=\"#简单工厂模式封装\" class=\"headerlink\" title=\"简单工厂模式封装\"></a>简单工厂模式封装</h3><figure class=\"highlight kotlin\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">interface</span> <span class=\"title\">Do</span></span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">var</span> x:<span class=\"built_in\">Int</span></span><br><span class=\"line\">    <span class=\"keyword\">var</span> y:<span class=\"built_in\">Int</span></span><br><span class=\"line\">    <span class=\"keyword\">var</span> z:<span class=\"built_in\">Char</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">fun</span> <span class=\"title\">numL</span><span class=\"params\">(z:<span class=\"type\">Int</span>)</span></span>:<span class=\"built_in\">Int</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">fun</span> <span class=\"title\">numR</span><span class=\"params\">(z:<span class=\"type\">Int</span>)</span></span>:<span class=\"built_in\">Int</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">val</span> rangeZ:List&lt;<span class=\"built_in\">Char</span>&gt;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">fun</span> <span class=\"title\">DoResult</span><span class=\"params\">()</span></span>: Rover</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">data</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">DoL</span></span>(<span class=\"keyword\">override</span> <span class=\"keyword\">var</span> x:<span class=\"built_in\">Int</span>,</span><br><span class=\"line\">                <span class=\"keyword\">override</span> <span class=\"keyword\">var</span> y:<span class=\"built_in\">Int</span>,</span><br><span class=\"line\">                <span class=\"keyword\">override</span> <span class=\"keyword\">var</span> z:<span class=\"built_in\">Char</span>) :Do&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">override</span> <span class=\"function\"><span class=\"keyword\">fun</span> <span class=\"title\">numL</span><span class=\"params\">(z:<span class=\"type\">Int</span>)</span></span>=<span class=\"keyword\">if</span> (z==<span class=\"number\">0</span>) <span class=\"number\">3</span> <span class=\"keyword\">else</span> z<span class=\"number\">-1</span></span><br><span class=\"line\">    <span class=\"keyword\">override</span> <span class=\"function\"><span class=\"keyword\">fun</span> <span class=\"title\">numR</span><span class=\"params\">(z:<span class=\"type\">Int</span>)</span></span>=<span class=\"keyword\">if</span> (z==<span class=\"number\">3</span>) <span class=\"number\">0</span> <span class=\"keyword\">else</span> z+<span class=\"number\">1</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">override</span> <span class=\"keyword\">val</span> rangeZ=arrayListOf(<span class=\"string\">'E'</span>,<span class=\"string\">'S'</span>,<span class=\"string\">'W'</span>,<span class=\"string\">'N'</span>)</span><br><span class=\"line\">    <span class=\"keyword\">override</span> <span class=\"function\"><span class=\"keyword\">fun</span> <span class=\"title\">DoResult</span><span class=\"params\">()</span></span>: Rover &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">val</span> i=rangeZ.indexOf(z)</span><br><span class=\"line\">        <span class=\"keyword\">val</span> ii=numL(i)</span><br><span class=\"line\">        z=rangeZ[ii]</span><br><span class=\"line\">        <span class=\"keyword\">return</span> Rover(x,y,z)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">data</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">DoM</span></span>(<span class=\"keyword\">override</span> <span class=\"keyword\">var</span> x:<span class=\"built_in\">Int</span>,</span><br><span class=\"line\">          <span class=\"keyword\">override</span> <span class=\"keyword\">var</span> y:<span class=\"built_in\">Int</span>,</span><br><span class=\"line\">          <span class=\"keyword\">override</span> <span class=\"keyword\">var</span> z:<span class=\"built_in\">Char</span>) :Do&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">override</span> <span class=\"function\"><span class=\"keyword\">fun</span> <span class=\"title\">numL</span><span class=\"params\">(z:<span class=\"type\">Int</span>)</span></span>=<span class=\"keyword\">if</span> (z==<span class=\"number\">0</span>) <span class=\"number\">3</span> <span class=\"keyword\">else</span> z<span class=\"number\">-1</span></span><br><span class=\"line\">    <span class=\"keyword\">override</span> <span class=\"function\"><span class=\"keyword\">fun</span> <span class=\"title\">numR</span><span class=\"params\">(z:<span class=\"type\">Int</span>)</span></span>=<span class=\"keyword\">if</span> (z==<span class=\"number\">3</span>) <span class=\"number\">0</span> <span class=\"keyword\">else</span> z+<span class=\"number\">1</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">override</span> <span class=\"keyword\">val</span> rangeZ=arrayListOf(<span class=\"string\">'E'</span>,<span class=\"string\">'S'</span>,<span class=\"string\">'W'</span>,<span class=\"string\">'N'</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">override</span> <span class=\"function\"><span class=\"keyword\">fun</span> <span class=\"title\">DoResult</span><span class=\"params\">()</span></span>: Rover &#123;</span><br><span class=\"line\">        <span class=\"keyword\">when</span>(z)&#123;</span><br><span class=\"line\">            <span class=\"string\">'E'</span> -&gt;  x++</span><br><span class=\"line\">            <span class=\"string\">'S'</span> -&gt;  y--</span><br><span class=\"line\">            <span class=\"string\">'W'</span> -&gt;  x--</span><br><span class=\"line\">            <span class=\"string\">'N'</span> -&gt;  y++</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> Rover(x,y,z)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">DoR</span></span>(<span class=\"keyword\">override</span> <span class=\"keyword\">var</span> x:<span class=\"built_in\">Int</span>,</span><br><span class=\"line\">          <span class=\"keyword\">override</span> <span class=\"keyword\">var</span> y:<span class=\"built_in\">Int</span>,</span><br><span class=\"line\">          <span class=\"keyword\">override</span> <span class=\"keyword\">var</span> z:<span class=\"built_in\">Char</span>) :Do&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">override</span> <span class=\"function\"><span class=\"keyword\">fun</span> <span class=\"title\">numL</span><span class=\"params\">(z:<span class=\"type\">Int</span>)</span></span>=<span class=\"keyword\">if</span> (z==<span class=\"number\">0</span>) <span class=\"number\">3</span> <span class=\"keyword\">else</span> z<span class=\"number\">-1</span></span><br><span class=\"line\">    <span class=\"keyword\">override</span> <span class=\"function\"><span class=\"keyword\">fun</span> <span class=\"title\">numR</span><span class=\"params\">(z:<span class=\"type\">Int</span>)</span></span>=<span class=\"keyword\">if</span> (z==<span class=\"number\">3</span>) <span class=\"number\">0</span> <span class=\"keyword\">else</span> z+<span class=\"number\">1</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">override</span> <span class=\"keyword\">val</span> rangeZ=arrayListOf(<span class=\"string\">'E'</span>,<span class=\"string\">'S'</span>,<span class=\"string\">'W'</span>,<span class=\"string\">'N'</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">override</span> <span class=\"function\"><span class=\"keyword\">fun</span> <span class=\"title\">DoResult</span><span class=\"params\">()</span></span>: Rover &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">val</span> i=rangeZ.indexOf(z)</span><br><span class=\"line\">        <span class=\"keyword\">val</span> ii=numR(i)</span><br><span class=\"line\">        z=rangeZ[ii]</span><br><span class=\"line\">        <span class=\"keyword\">return</span> Rover(x,y,z)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"松紧耦合\"><a href=\"#松紧耦合\" class=\"headerlink\" title=\"松紧耦合\"></a>松紧耦合</h3><p>紧耦合：<br>Rover对象的L,R,M方法写在一起，需求改变时需要需直接改变方法<br>松耦合：<br>解耦函数架构，将每个方法抽象成功能类</p>\n<h3 id=\"UML类图\"><a href=\"#UML类图\" class=\"headerlink\" title=\"UML类图\"></a>UML类图</h3><p>分三层<br>1.类名(抽象类用斜体)<br>2.字段属性<br>3.方法行为  </p>\n<h1 id=\"策略模式-Strategy-Mode\"><a href=\"#策略模式-Strategy-Mode\" class=\"headerlink\" title=\"策略模式|Strategy Mode\"></a>策略模式|Strategy Mode</h1><p>商场收银系统   </p>\n<h3 id=\"简单工厂实现\"><a href=\"#简单工厂实现\" class=\"headerlink\" title=\"简单工厂实现\"></a>简单工厂实现</h3><p>现金收费对象下有多个实现子类\n<figure class=\"highlight kotlin\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> 收费对象</span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">fun</span> 收费<span class=\"params\">(money:<span class=\"type\">Money</span>)</span></span>=money</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> 正常收费：收费对象</span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">override</span> <span class=\"function\"><span class=\"keyword\">fun</span> 收费<span class=\"params\">(money:<span class=\"type\">Money</span>)</span></span>=money</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> 折扣收费</span>(折扣倍率：折扣)：收费对象&#123;</span><br><span class=\"line\">    <span class=\"keyword\">override</span> <span class=\"function\"><span class=\"keyword\">fun</span> 收费<span class=\"params\">(money:<span class=\"type\">Money</span>)</span></span>=money*折扣倍率</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> 返利收费</span>(返利条件，返利值)：收费对象&#123;</span><br><span class=\"line\">    <span class=\"keyword\">override</span> <span class=\"function\"><span class=\"keyword\">fun</span> 收费<span class=\"params\">(money:<span class=\"type\">Money</span>)</span></span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(返利条件) money-=返利值</span><br><span class=\"line\">        <span class=\"keyword\">return</span> money</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">Object  收费工厂&#123;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">fun</span> 收费对象生成<span class=\"params\">(type)</span></span>:收费对象&#123;</span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"keyword\">when</span>(type)&#123;</span><br><span class=\"line\">            <span class=\"string\">\"正常收费\"</span>  -&gt; <span class=\"keyword\">return</span> 正常收费()</span><br><span class=\"line\">            <span class=\"string\">\"折扣收费\"</span>  -&gt; <span class=\"keyword\">return</span> 折扣收费(折扣倍率)</span><br><span class=\"line\">            <span class=\"string\">\"返利收费\"</span>  -&gt; <span class=\"keyword\">return</span> 返利收费(返利条件，返利值)</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"策略模式\"><a href=\"#策略模式\" class=\"headerlink\" title=\"策略模式\"></a>策略模式</h3><p>定义了算法家族，将其分别封装，之间可相互替换，不影响算法使用者<br>将上面的收费对象定义为接口即可，在需要的时候继承再new生成创建对象实例<br>策略者模式将所有算法封装在接口中，调用时取用其子类生成的实例  </p>\n<h3 id=\"说明\"><a href=\"#说明\" class=\"headerlink\" title=\"说明\"></a>说明</h3><p>优点：<br>策略类层配合Const常量定义了可重用的方法，助于析取公共方法<br>简化单元测试</p>\n<h1 id=\"单一职责原则-SRP\"><a href=\"#单一职责原则-SRP\" class=\"headerlink\" title=\"单一职责原则|SRP\"></a>单一职责原则|SRP</h1><p>就一个类而言，应该仅有一个引起它变化的原因<br>如果一个类承担的之策过多，等于将这些职责耦合再一起，\n单个职责变化会削弱或抑制这个类完成其他职责的能力。\n该种耦合会导致设计脆弱，甚至产生意外破坏(ASD);  </p>\n<h1 id=\"开放-封闭原则\"><a href=\"#开放-封闭原则\" class=\"headerlink\" title=\"开放-封闭原则\"></a>开放-封闭原则</h1><p>对扩展开放(Open for extension)<br>对更改封闭(Closed for modification)<br>要对频繁变化的模块进行抽象，但全部抽象也不好  </p>\n<h1 id=\"依赖倒转原则\"><a href=\"#依赖倒转原则\" class=\"headerlink\" title=\"依赖倒转原则\"></a>依赖倒转原则</h1><p>强内聚，松耦合<br>抽象不应依赖细节，细节应依赖于抽象<br>针对接口编程，不要对实现编程\nA.高层模块不应该依赖低层模块，两个都应该依赖抽象<br>B.抽象不应该依赖细节。细节应该依赖抽象。</p>\n<p>里氏代换原则  —&gt;<br>一个软件实体如果使用的是一个父类，那么一定适用于其子类，而软件无法察觉其变化。<br>里氏代换原则(LSP)：子类型必须能够替换掉它们的父类型[ASD]。<br>由于子类型的可替换性才使得父类的模块再无需修改时就可扩展。  </p>\n<p>依赖倒转是面向对象设计的标志，如果编写时考虑的是如何针对抽象编程而不是针对编程细节，\n即程序中的依赖关系都是终于抽象类和接口，那就是面向对象设计，反之为过程化的设计。  </p>\n<h1 id=\"装饰模式-Decoration-mode\"><a href=\"#装饰模式-Decoration-mode\" class=\"headerlink\" title=\"装饰模式|Decoration mode\"></a>装饰模式|Decoration mode</h1><p>动态的给一个对象添加一些额外的职责<br>//比生成子类更灵活  </p>\n<p>通过继承原始类，覆写部分功能来实现</p>\n<p>Component类\n<figure class=\"highlight cs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">abstract</span> <span class=\"keyword\">class</span> <span class=\"title\">ComPonent</span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">abstract</span> <span class=\"keyword\">void</span> <span class=\"title\">Operation</span>(<span class=\"params\"></span>)</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>ConcreteComponent 类\n<figure class=\"highlight cs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title\">ConcreteComponent</span>:<span class=\"title\">Component</span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">override</span> <span class=\"keyword\">void</span> <span class=\"title\">Operation</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">        Console.WriteLine(<span class=\"string\">\"具体操作\"</span>)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>Decorator 类\n<figure class=\"highlight cs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">abstract</span> <span class=\"keyword\">class</span> <span class=\"title\">Decorator</span>:<span class=\"title\">Component</span>&#123;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">protected</span> Compenent component;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">SetComponent</span>(<span class=\"params\">Compenent component</span>)</span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.component=component;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">override</span> <span class=\"keyword\">void</span> <span class=\"title\">Operation</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(component!=<span class=\"literal\">null</span>)</span><br><span class=\"line\">        component.Operation();<span class=\"comment\">//实际执行我们放入的component的operation</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>ConcreteDecoratorA-装饰实体类\n<figure class=\"highlight cs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title\">ConcreteSecoratorA</span>:<span class=\"title\">Decorator</span>&#123;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">private</span> String addedState;          <span class=\"comment\">//该类独有功能，不同于ConcreteSecoratorB</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">override</span> <span class=\"keyword\">void</span> <span class=\"title\">Operation</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">base</span>.Operation();               <span class=\"comment\">//先执行原component的operation,再执行本类的功能</span></span><br><span class=\"line\">        addedState= <span class=\"string\">\"new star\"</span>;</span><br><span class=\"line\">        Console.WriteLine(<span class=\"string\">\"装饰对象A操作\"</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"说明-1\"><a href=\"#说明-1\" class=\"headerlink\" title=\"说明\"></a>说明</h3><p>装饰模式是为已有功能动态添加更多功能的方式。<br>每个装饰的功能再单独的类中，并包装了他所装饰的对象，可自由处理。</p>\n<h1 id=\"代理模式-proxy\"><a href=\"#代理模式-proxy\" class=\"headerlink\" title=\"代理模式 | proxy\"></a>代理模式 | proxy</h1><p>代理接口\n<figure class=\"highlight crystal\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">intface GiveGift&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">fun</span> <span class=\"title\">GiveDolls</span></span>()</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">fun</span> <span class=\"title\">GiveFlowers</span></span>()</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">fun</span> <span class=\"title\">GiveChocolate</span></span>()</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>追求者类\n<figure class=\"highlight kotlin\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Pursuit</span></span>(<span class=\"keyword\">val</span> girls: Girl):GiveGift &#123; </span><br><span class=\"line\">    <span class=\"keyword\">override</span> <span class=\"function\"><span class=\"keyword\">fun</span> <span class=\"title\">GiveDolls</span><span class=\"params\">()</span></span> = println(<span class=\"string\">\"<span class=\"subst\">$&#123;girls.name&#125;</span>  送你洋娃娃\"</span>)</span><br><span class=\"line\">    <span class=\"keyword\">override</span> <span class=\"function\"><span class=\"keyword\">fun</span> <span class=\"title\">GiveFlowers</span><span class=\"params\">()</span></span>= println(<span class=\"string\">\"<span class=\"subst\">$&#123;girls.name&#125;</span>  送你洋鲜花\"</span>)</span><br><span class=\"line\">    <span class=\"keyword\">override</span> <span class=\"function\"><span class=\"keyword\">fun</span> <span class=\"title\">GiveChocolate</span><span class=\"params\">()</span></span> = println(<span class=\"string\">\"<span class=\"subst\">$&#123;girls.name&#125;</span>  送你巧克力\"</span>)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>代理类\n<figure class=\"highlight kotlin\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Proxy</span></span>(girl: Girl):GiveGift &#123;</span><br><span class=\"line\">    <span class=\"keyword\">val</span> gg=Pursuit(girl)</span><br><span class=\"line\">    <span class=\"keyword\">override</span> <span class=\"function\"><span class=\"keyword\">fun</span> <span class=\"title\">GiveDolls</span><span class=\"params\">()</span></span>=gg.GiveDolls()</span><br><span class=\"line\">    <span class=\"keyword\">override</span> <span class=\"function\"><span class=\"keyword\">fun</span> <span class=\"title\">GiveFlowers</span><span class=\"params\">()</span></span> =gg.GiveFlowers()</span><br><span class=\"line\">    <span class=\"keyword\">override</span> <span class=\"function\"><span class=\"keyword\">fun</span> <span class=\"title\">GiveChocolate</span><span class=\"params\">()</span></span>=gg.GiveChocolate()</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>实现\n<figure class=\"highlight kotlin\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Proxy</span></span>(girl: Girl):GiveGift &#123;</span><br><span class=\"line\">    <span class=\"keyword\">val</span> gg=Pursuit(girl)</span><br><span class=\"line\">    <span class=\"keyword\">override</span> <span class=\"function\"><span class=\"keyword\">fun</span> <span class=\"title\">GiveDolls</span><span class=\"params\">()</span></span>=gg.GiveDolls()</span><br><span class=\"line\">    <span class=\"keyword\">override</span> <span class=\"function\"><span class=\"keyword\">fun</span> <span class=\"title\">GiveFlowers</span><span class=\"params\">()</span></span> =gg.GiveFlowers()</span><br><span class=\"line\">    <span class=\"keyword\">override</span> <span class=\"function\"><span class=\"keyword\">fun</span> <span class=\"title\">GiveChocolate</span><span class=\"params\">()</span></span>=gg.GiveChocolate()</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>阿珍不认识追她的人，但是通过代理拿到了礼物</p>\n<h2 id=\"说明-2\"><a href=\"#说明-2\" class=\"headerlink\" title=\"说明\"></a>说明</h2><p>代理模式为其他对象提供了一种代理以控制这个对象的访问</p>\n<h2 id=\"应用\"><a href=\"#应用\" class=\"headerlink\" title=\"应用\"></a>应用</h2><p>1.远程代理：为一个对象再不同地址空间提供局部代表。\n同时隐藏一个对象存在不同地址空间的事实。<br>2.虚拟代理：按需创建大开销对象，来预缓存真实对象。(如预加载缓存框)<br>3.安全代理：控制真实对象访问时权限。\n4.智能指引：调用当前实例对象时，同时代理处理一些别的事。</p>\n<h1 id=\"工厂方法\"><a href=\"#工厂方法\" class=\"headerlink\" title=\"工厂方法\"></a>工厂方法</h1><h2 id=\"简单工厂VS工厂方法\"><a href=\"#简单工厂VS工厂方法\" class=\"headerlink\" title=\"简单工厂VS工厂方法\"></a>简单工厂VS工厂方法</h2><p>简单工厂下的计算器实现\n<img src=\"/2018/08/28/base/base_03_DesignPattern/计算器的简单工厂结构.png\" alt=\"avatar\"></p>\n<p>工厂方法下的计算器实现\n<img src=\"/2018/08/28/base/base_03_DesignPattern/计算器的工厂方法结构.png\" alt=\"avatar\"></p>"}],"PostAsset":[{"_id":"source/_posts/install/install_jvm&tomcat/1.jdk-license.png","slug":"1.jdk-license.png","post":"cjl8qv5t6000fhkehlgvmdvf5","modified":0,"renderable":0},{"_id":"source/_posts/install/install_mysql/1.check.png","slug":"1.check.png","post":"cjl8qv5t8000ghkehkyrusrqk","modified":0,"renderable":0},{"_id":"source/_posts/install/install_mysql/2.remove1.png","slug":"2.remove1.png","post":"cjl8qv5t8000ghkehkyrusrqk","modified":0,"renderable":0},{"_id":"source/_posts/install/install_mysql/3.getdep.png","slug":"3.getdep.png","post":"cjl8qv5t8000ghkehkyrusrqk","modified":0,"renderable":0},{"_id":"source/_posts/install/install_mysql/4.findfiles.png","slug":"4.findfiles.png","post":"cjl8qv5t8000ghkehkyrusrqk","modified":0,"renderable":0},{"_id":"source/_posts/install/install_mysql/5.del.png","slug":"5.del.png","post":"cjl8qv5t8000ghkehkyrusrqk","modified":0,"renderable":0},{"_id":"source/_posts/base/base_03_DesignPattern/计算器的工厂方法结构.png","slug":"计算器的工厂方法结构.png","post":"cjlqd22ax00004gehpmn08gl8","modified":0,"renderable":0},{"_id":"source/_posts/base/base_03_DesignPattern/计算器的简单工厂结构.png","slug":"计算器的简单工厂结构.png","post":"cjlqd22ax00004gehpmn08gl8","modified":0,"renderable":0}],"PostCategory":[{"post_id":"cjl8qv5t3000bhkeh4zfb9k3v","category_id":"cjl8qv5t6000dhkehq5l3bwfo","_id":"cjl8qv5th000nhkeh1ribd9va"},{"post_id":"cjl8qv5t4000chkehsl7plwic","category_id":"cjl8qv5t6000dhkehq5l3bwfo","_id":"cjl8qv5tk000qhkehd9axqkmd"},{"post_id":"cjl8qv5ti000phkeh58ih3b82","category_id":"cjl8qv5tn0010hkeh1ot68kp2","_id":"cjl8qv5to0017hkehe8i829ps"},{"post_id":"cjl8qv5t6000fhkehlgvmdvf5","category_id":"cjl8qv5th000mhkehbmh0nhp4","_id":"cjl8qv5tq001bhkehw5kisw4f"},{"post_id":"cjl8qv5t6000fhkehlgvmdvf5","category_id":"cjl8qv5to0013hkehbp421b7q","_id":"cjl8qv5tq001dhkeho3yj578l"},{"post_id":"cjl8qv5t8000ghkehkyrusrqk","category_id":"cjl8qv5th000mhkehbmh0nhp4","_id":"cjl8qv5tq001fhkeh52uibtr6"},{"post_id":"cjl8qv5t8000ghkehkyrusrqk","category_id":"cjl8qv5to0013hkehbp421b7q","_id":"cjl8qv5tr001ihkehdao5eqst"},{"post_id":"cjl8qv5tf000lhkeh9spwkk4r","category_id":"cjl8qv5tl000uhkehlof3szmn","_id":"cjl8qv5tu001ohkeh3fpw5mqe"},{"post_id":"cjl8qv5tf000lhkeh9spwkk4r","category_id":"cjl8qv5tp001ahkehvqxvp209","_id":"cjl8qv5tu001qhkehuxuawowa"},{"post_id":"cjl8qv5te000khkehjssmpnk3","category_id":"cjl8qv5tl000uhkehlof3szmn","_id":"cjl8qv5tv001shkeh2w0apz6f"},{"post_id":"cjl8qv5te000khkehjssmpnk3","category_id":"cjl8qv5tp001ahkehvqxvp209","_id":"cjl8qv5tv001thkeh0v13orvt"},{"post_id":"cjl8qv5te000khkehjssmpnk3","category_id":"cjl8qv5ts001lhkehk592oamj","_id":"cjl8qv5tw001whkeh7av0o6uq"},{"post_id":"cjl8qv5wh002hhkehm7ljqxro","category_id":"cjl8qv5wq002jhkeh1gxqdnkz","_id":"cjl8qv5wu002rhkehh6uahg7l"},{"post_id":"cjl8qv5wh002hhkehm7ljqxro","category_id":"cjl8qv5wt002nhkehavvgxudm","_id":"cjl8qv5wu002thkehf7ep4nt3"},{"post_id":"cjl8qv5wi002ihkeh9shmliff","category_id":"cjl8qv5ws002lhkehfn8j498c","_id":"cjl8qv5wv002whkehilr79vfz"},{"post_id":"cjl8qv5wi002ihkeh9shmliff","category_id":"cjl8qv5wt002phkehw9eyzryp","_id":"cjl8qv5ww002zhkehgeothkny"},{"post_id":"cjlqd22ax00004gehpmn08gl8","category_id":"cjl8qv5t6000dhkehq5l3bwfo","_id":"cjlqd22bh00024geh97s8x3lh"}],"PostTag":[{"post_id":"cjl8qv5gm0000hkeholjnrmwp","tag_id":"cjl8qv5gs0002hkehhic1830s","_id":"cjl8qv5gx0005hkehatch4oec"},{"post_id":"cjl8qv5gm0000hkeholjnrmwp","tag_id":"cjl8qv5gv0003hkeh7vk8kknc","_id":"cjl8qv5gy0006hkehix7qj9be"},{"post_id":"cjl8qv5gm0000hkeholjnrmwp","tag_id":"cjl8qv5gv0004hkehja0qnw4c","_id":"cjl8qv5gz0007hkehfdk8lut4"},{"post_id":"cjl8qv5t3000bhkeh4zfb9k3v","tag_id":"cjl8qv5t6000ehkehoyirdeyy","_id":"cjl8qv5tl000thkeh3f4d00y8"},{"post_id":"cjl8qv5t3000bhkeh4zfb9k3v","tag_id":"cjl8qv5tb000jhkehqbootaxh","_id":"cjl8qv5tl000vhkehr9g91ja4"},{"post_id":"cjl8qv5t3000bhkeh4zfb9k3v","tag_id":"cjl8qv5ti000ohkehlhf8i87k","_id":"cjl8qv5tm000xhkehov7xmi7h"},{"post_id":"cjl8qv5t4000chkehsl7plwic","tag_id":"cjl8qv5t6000ehkehoyirdeyy","_id":"cjl8qv5tn0012hkehqgzmj9ph"},{"post_id":"cjl8qv5t4000chkehsl7plwic","tag_id":"cjl8qv5tm000whkeh3x2xwpfu","_id":"cjl8qv5to0014hkehxg6epsnv"},{"post_id":"cjl8qv5t4000chkehsl7plwic","tag_id":"cjl8qv5tm000zhkehwr1nv5is","_id":"cjl8qv5to0016hkehq066w9m0"},{"post_id":"cjl8qv5t6000fhkehlgvmdvf5","tag_id":"cjl8qv5tn0011hkehgnpv4nfy","_id":"cjl8qv5tq001ehkehsn5ckcyy"},{"post_id":"cjl8qv5t6000fhkehlgvmdvf5","tag_id":"cjl8qv5to0015hkehig8c4j9s","_id":"cjl8qv5tr001hhkehssl43vyg"},{"post_id":"cjl8qv5t6000fhkehlgvmdvf5","tag_id":"cjl8qv5tp0019hkeh4vuyi1r1","_id":"cjl8qv5ts001khkehs0vyy4z2"},{"post_id":"cjl8qv5t8000ghkehkyrusrqk","tag_id":"cjl8qv5tq001chkehpts4ywu2","_id":"cjl8qv5tu001nhkeh0fc3axtr"},{"post_id":"cjl8qv5t8000ghkehkyrusrqk","tag_id":"cjl8qv5tp0019hkeh4vuyi1r1","_id":"cjl8qv5tu001phkehzr5uqd5k"},{"post_id":"cjl8qv5te000khkehjssmpnk3","tag_id":"cjl8qv5tv001uhkehsiqmuznf","_id":"cjl8qv5ty0021hkeh2s908qsq"},{"post_id":"cjl8qv5te000khkehjssmpnk3","tag_id":"cjl8qv5tx001yhkeh6s6eoizt","_id":"cjl8qv5tz0022hkehdi4z0whl"},{"post_id":"cjl8qv5te000khkehjssmpnk3","tag_id":"cjl8qv5tx001zhkeh2aj6gami","_id":"cjl8qv5tz0024hkehlyusz69n"},{"post_id":"cjl8qv5tf000lhkeh9spwkk4r","tag_id":"cjl8qv5tv001uhkehsiqmuznf","_id":"cjl8qv5u00026hkehc1vo4zio"},{"post_id":"cjl8qv5tf000lhkeh9spwkk4r","tag_id":"cjl8qv5tx001zhkeh2aj6gami","_id":"cjl8qv5u00027hkehi1mebqnv"},{"post_id":"cjl8qv5ti000phkeh58ih3b82","tag_id":"cjl8qv5tz0025hkehm6m9k9o4","_id":"cjl8qv5u1002chkeh4tkju42m"},{"post_id":"cjl8qv5ti000phkeh58ih3b82","tag_id":"cjl8qv5u00028hkeh5iwvoumi","_id":"cjl8qv5u2002dhkeh5f3wnr6c"},{"post_id":"cjl8qv5ti000phkeh58ih3b82","tag_id":"cjl8qv5u00029hkehajgefqj4","_id":"cjl8qv5u2002ehkeha27crc1g"},{"post_id":"cjl8qv5ti000phkeh58ih3b82","tag_id":"cjl8qv5tp0019hkeh4vuyi1r1","_id":"cjl8qv5u2002fhkehy0wjdqlw"},{"post_id":"cjl8qv5ti000phkeh58ih3b82","tag_id":"cjl8qv5u1002bhkehjmimm86m","_id":"cjl8qv5u2002ghkeh0k4e1z0h"},{"post_id":"cjl8qv5wh002hhkehm7ljqxro","tag_id":"cjl8qv5tm000zhkehwr1nv5is","_id":"cjl8qv5wu002uhkehh0ghj498"},{"post_id":"cjl8qv5wh002hhkehm7ljqxro","tag_id":"cjl8qv5wr002khkeh5w1uakv7","_id":"cjl8qv5wv002vhkehuh5ez0l5"},{"post_id":"cjl8qv5wh002hhkehm7ljqxro","tag_id":"cjl8qv5ws002mhkeh6t5icd2u","_id":"cjl8qv5ww002yhkehup0qqg7t"},{"post_id":"cjl8qv5wh002hhkehm7ljqxro","tag_id":"cjl8qv5wt002ohkehcw54fo4r","_id":"cjl8qv5ww0030hkeh8uj40g2t"},{"post_id":"cjl8qv5wh002hhkehm7ljqxro","tag_id":"cjl8qv5wt002qhkehw9qsjl8x","_id":"cjl8qv5ww0032hkehlhwvqoso"},{"post_id":"cjl8qv5wi002ihkeh9shmliff","tag_id":"cjl8qv5wu002shkeh0f0josdz","_id":"cjl8qv5wx0033hkehes0shr0z"},{"post_id":"cjl8qv5wi002ihkeh9shmliff","tag_id":"cjl8qv5ws002mhkeh6t5icd2u","_id":"cjl8qv5wx0034hkeh119l9kpe"},{"post_id":"cjl8qv5wi002ihkeh9shmliff","tag_id":"cjl8qv5ww0031hkehud1cg86k","_id":"cjl8qv5wx0035hkehnah10y1v"},{"post_id":"cjlqd22ax00004gehpmn08gl8","tag_id":"cjl8qv5t6000ehkehoyirdeyy","_id":"cjlqd22bk00054geh2lyaqr1j"},{"post_id":"cjlqd22ax00004gehpmn08gl8","tag_id":"cjlqd22b800014gehh62mgf9k","_id":"cjlqd22bl00064geh8jxy70cw"},{"post_id":"cjlqd22ax00004gehpmn08gl8","tag_id":"cjlqd22bi00034gehv26vdxb9","_id":"cjlqd22bl00074gehkn1xn4dz"},{"post_id":"cjlqd22ax00004gehpmn08gl8","tag_id":"cjlqd22bi00044gehbf0848sz","_id":"cjlqd22bl00084gehl5y1tsc4"}],"Tag":[{"name":"Spring","_id":"cjl8qv5gs0002hkehhic1830s"},{"name":"SQL","_id":"cjl8qv5gv0003hkeh7vk8kknc"},{"name":"database hotChange","_id":"cjl8qv5gv0004hkehja0qnw4c"},{"name":"base","_id":"cjl8qv5t6000ehkehoyirdeyy"},{"name":"String","_id":"cjl8qv5tb000jhkehqbootaxh"},{"name":"Decode","_id":"cjl8qv5ti000ohkehlhf8i87k"},{"name":"encrypt","_id":"cjl8qv5tm000whkeh3x2xwpfu"},{"name":"algorithm","_id":"cjl8qv5tm000zhkehwr1nv5is"},{"name":"java","_id":"cjl8qv5tn0011hkehgnpv4nfy"},{"name":"tomcat","_id":"cjl8qv5to0015hkehig8c4j9s"},{"name":"install","_id":"cjl8qv5tp0019hkeh4vuyi1r1"},{"name":"mysql","_id":"cjl8qv5tq001chkehpts4ywu2"},{"name":"life","_id":"cjl8qv5tt001mhkeh4j1etclf"},{"name":"travel","_id":"cjl8qv5tu001rhkehqxw0wwkz"},{"name":"hexo","_id":"cjl8qv5tv001uhkehsiqmuznf"},{"name":"img","_id":"cjl8qv5tx001yhkeh6s6eoizt"},{"name":"setting","_id":"cjl8qv5tx001zhkeh2aj6gami"},{"name":"go","_id":"cjl8qv5tz0025hkehm6m9k9o4"},{"name":"ss","_id":"cjl8qv5u00028hkeh5iwvoumi"},{"name":"use","_id":"cjl8qv5u00029hkehajgefqj4"},{"name":"shadowsocks","_id":"cjl8qv5u1002bhkehjmimm86m"},{"name":"game","_id":"cjl8qv5wr002khkeh5w1uakv7"},{"name":"kotlin","_id":"cjl8qv5ws002mhkeh6t5icd2u"},{"name":"算法","_id":"cjl8qv5wt002ohkehcw54fo4r"},{"name":"麻将","_id":"cjl8qv5wt002qhkehw9qsjl8x"},{"name":"cost","_id":"cjl8qv5wu002shkeh0f0josdz"},{"name":"优化","_id":"cjl8qv5ww0031hkehud1cg86k"},{"name":"architect","_id":"cjlqd22b800014gehh62mgf9k"},{"name":"Design","_id":"cjlqd22bi00034gehv26vdxb9"},{"name":"pattern","_id":"cjlqd22bi00044gehbf0848sz"}]}}